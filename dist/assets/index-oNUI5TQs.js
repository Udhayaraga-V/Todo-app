(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();var pd={exports:{}},ll={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c_;function QA(){if(c_)return ll;c_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,l,c){var f=null;if(c!==void 0&&(f=""+c),l.key!==void 0&&(f=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:f,ref:l!==void 0?l:null,props:c}}return ll.Fragment=t,ll.jsx=n,ll.jsxs=n,ll}var h_;function YA(){return h_||(h_=1,pd.exports=QA()),pd.exports}var vt=YA(),yd={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f_;function KA(){if(f_)return St;f_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),R=Symbol.iterator;function C(D){return D===null||typeof D!="object"?null:(D=R&&D[R]||D["@@iterator"],typeof D=="function"?D:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,tt={};function Z(D,X,nt){this.props=D,this.context=X,this.refs=tt,this.updater=nt||j}Z.prototype.isReactComponent={},Z.prototype.setState=function(D,X){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,X,"setState")},Z.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function Tt(){}Tt.prototype=Z.prototype;function ft(D,X,nt){this.props=D,this.context=X,this.refs=tt,this.updater=nt||j}var ut=ft.prototype=new Tt;ut.constructor=ft,$(ut,Z.prototype),ut.isPureReactComponent=!0;var Vt=Array.isArray,_t={H:null,A:null,T:null,S:null,V:null},Mt=Object.prototype.hasOwnProperty;function V(D,X,nt,J,ct,wt){return nt=wt.ref,{$$typeof:r,type:D,key:X,ref:nt!==void 0?nt:null,props:wt}}function S(D,X){return V(D.type,X,void 0,void 0,void 0,D.props)}function w(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function N(D){var X={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(nt){return X[nt]})}var M=/\/+/g;function P(D,X){return typeof D=="object"&&D!==null&&D.key!=null?N(""+D.key):X.toString(36)}function I(){}function Ve(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(I,I):(D.status="pending",D.then(function(X){D.status==="pending"&&(D.status="fulfilled",D.value=X)},function(X){D.status==="pending"&&(D.status="rejected",D.reason=X)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function re(D,X,nt,J,ct){var wt=typeof D;(wt==="undefined"||wt==="boolean")&&(D=null);var yt=!1;if(D===null)yt=!0;else switch(wt){case"bigint":case"string":case"number":yt=!0;break;case"object":switch(D.$$typeof){case r:case t:yt=!0;break;case T:return yt=D._init,re(yt(D._payload),X,nt,J,ct)}}if(yt)return ct=ct(D),yt=J===""?"."+P(D,0):J,Vt(ct)?(nt="",yt!=null&&(nt=yt.replace(M,"$&/")+"/"),re(ct,X,nt,"",function(qn){return qn})):ct!=null&&(w(ct)&&(ct=S(ct,nt+(ct.key==null||D&&D.key===ct.key?"":(""+ct.key).replace(M,"$&/")+"/")+yt)),X.push(ct)),1;yt=0;var Re=J===""?".":J+":";if(Vt(D))for(var Zt=0;Zt<D.length;Zt++)J=D[Zt],wt=Re+P(J,Zt),yt+=re(J,X,nt,wt,ct);else if(Zt=C(D),typeof Zt=="function")for(D=Zt.call(D),Zt=0;!(J=D.next()).done;)J=J.value,wt=Re+P(J,Zt++),yt+=re(J,X,nt,wt,ct);else if(wt==="object"){if(typeof D.then=="function")return re(Ve(D),X,nt,J,ct);throw X=String(D),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return yt}function H(D,X,nt){if(D==null)return D;var J=[],ct=0;return re(D,J,"","",function(wt){return X.call(nt,wt,ct++)}),J}function et(D){if(D._status===-1){var X=D._result;X=X(),X.then(function(nt){(D._status===0||D._status===-1)&&(D._status=1,D._result=nt)},function(nt){(D._status===0||D._status===-1)&&(D._status=2,D._result=nt)}),D._status===-1&&(D._status=0,D._result=X)}if(D._status===1)return D._result.default;throw D._result}var ot=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function zt(){}return St.Children={map:H,forEach:function(D,X,nt){H(D,function(){X.apply(this,arguments)},nt)},count:function(D){var X=0;return H(D,function(){X++}),X},toArray:function(D){return H(D,function(X){return X})||[]},only:function(D){if(!w(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},St.Component=Z,St.Fragment=n,St.Profiler=l,St.PureComponent=ft,St.StrictMode=s,St.Suspense=p,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_t,St.__COMPILER_RUNTIME={__proto__:null,c:function(D){return _t.H.useMemoCache(D)}},St.cache=function(D){return function(){return D.apply(null,arguments)}},St.cloneElement=function(D,X,nt){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var J=$({},D.props),ct=D.key,wt=void 0;if(X!=null)for(yt in X.ref!==void 0&&(wt=void 0),X.key!==void 0&&(ct=""+X.key),X)!Mt.call(X,yt)||yt==="key"||yt==="__self"||yt==="__source"||yt==="ref"&&X.ref===void 0||(J[yt]=X[yt]);var yt=arguments.length-2;if(yt===1)J.children=nt;else if(1<yt){for(var Re=Array(yt),Zt=0;Zt<yt;Zt++)Re[Zt]=arguments[Zt+2];J.children=Re}return V(D.type,ct,void 0,void 0,wt,J)},St.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},St.createElement=function(D,X,nt){var J,ct={},wt=null;if(X!=null)for(J in X.key!==void 0&&(wt=""+X.key),X)Mt.call(X,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ct[J]=X[J]);var yt=arguments.length-2;if(yt===1)ct.children=nt;else if(1<yt){for(var Re=Array(yt),Zt=0;Zt<yt;Zt++)Re[Zt]=arguments[Zt+2];ct.children=Re}if(D&&D.defaultProps)for(J in yt=D.defaultProps,yt)ct[J]===void 0&&(ct[J]=yt[J]);return V(D,wt,void 0,void 0,null,ct)},St.createRef=function(){return{current:null}},St.forwardRef=function(D){return{$$typeof:g,render:D}},St.isValidElement=w,St.lazy=function(D){return{$$typeof:T,_payload:{_status:-1,_result:D},_init:et}},St.memo=function(D,X){return{$$typeof:_,type:D,compare:X===void 0?null:X}},St.startTransition=function(D){var X=_t.T,nt={};_t.T=nt;try{var J=D(),ct=_t.S;ct!==null&&ct(nt,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(zt,ot)}catch(wt){ot(wt)}finally{_t.T=X}},St.unstable_useCacheRefresh=function(){return _t.H.useCacheRefresh()},St.use=function(D){return _t.H.use(D)},St.useActionState=function(D,X,nt){return _t.H.useActionState(D,X,nt)},St.useCallback=function(D,X){return _t.H.useCallback(D,X)},St.useContext=function(D){return _t.H.useContext(D)},St.useDebugValue=function(){},St.useDeferredValue=function(D,X){return _t.H.useDeferredValue(D,X)},St.useEffect=function(D,X,nt){var J=_t.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(D,X)},St.useId=function(){return _t.H.useId()},St.useImperativeHandle=function(D,X,nt){return _t.H.useImperativeHandle(D,X,nt)},St.useInsertionEffect=function(D,X){return _t.H.useInsertionEffect(D,X)},St.useLayoutEffect=function(D,X){return _t.H.useLayoutEffect(D,X)},St.useMemo=function(D,X){return _t.H.useMemo(D,X)},St.useOptimistic=function(D,X){return _t.H.useOptimistic(D,X)},St.useReducer=function(D,X,nt){return _t.H.useReducer(D,X,nt)},St.useRef=function(D){return _t.H.useRef(D)},St.useState=function(D){return _t.H.useState(D)},St.useSyncExternalStore=function(D,X,nt){return _t.H.useSyncExternalStore(D,X,nt)},St.useTransition=function(){return _t.H.useTransition()},St.version="19.1.0",St}var d_;function sm(){return d_||(d_=1,yd.exports=KA()),yd.exports}var Un=sm(),_d={exports:{}},ul={},vd={exports:{}},Ed={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m_;function XA(){return m_||(m_=1,function(r){function t(H,et){var ot=H.length;H.push(et);t:for(;0<ot;){var zt=ot-1>>>1,D=H[zt];if(0<l(D,et))H[zt]=et,H[ot]=D,ot=zt;else break t}}function n(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var et=H[0],ot=H.pop();if(ot!==et){H[0]=ot;t:for(var zt=0,D=H.length,X=D>>>1;zt<X;){var nt=2*(zt+1)-1,J=H[nt],ct=nt+1,wt=H[ct];if(0>l(J,ot))ct<D&&0>l(wt,J)?(H[zt]=wt,H[ct]=ot,zt=ct):(H[zt]=J,H[nt]=ot,zt=nt);else if(ct<D&&0>l(wt,ot))H[zt]=wt,H[ct]=ot,zt=ct;else break t}}return et}function l(H,et){var ot=H.sortIndex-et.sortIndex;return ot!==0?ot:H.id-et.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var f=Date,g=f.now();r.unstable_now=function(){return f.now()-g}}var p=[],_=[],T=1,R=null,C=3,j=!1,$=!1,tt=!1,Z=!1,Tt=typeof setTimeout=="function"?setTimeout:null,ft=typeof clearTimeout=="function"?clearTimeout:null,ut=typeof setImmediate<"u"?setImmediate:null;function Vt(H){for(var et=n(_);et!==null;){if(et.callback===null)s(_);else if(et.startTime<=H)s(_),et.sortIndex=et.expirationTime,t(p,et);else break;et=n(_)}}function _t(H){if(tt=!1,Vt(H),!$)if(n(p)!==null)$=!0,Mt||(Mt=!0,P());else{var et=n(_);et!==null&&re(_t,et.startTime-H)}}var Mt=!1,V=-1,S=5,w=-1;function N(){return Z?!0:!(r.unstable_now()-w<S)}function M(){if(Z=!1,Mt){var H=r.unstable_now();w=H;var et=!0;try{t:{$=!1,tt&&(tt=!1,ft(V),V=-1),j=!0;var ot=C;try{e:{for(Vt(H),R=n(p);R!==null&&!(R.expirationTime>H&&N());){var zt=R.callback;if(typeof zt=="function"){R.callback=null,C=R.priorityLevel;var D=zt(R.expirationTime<=H);if(H=r.unstable_now(),typeof D=="function"){R.callback=D,Vt(H),et=!0;break e}R===n(p)&&s(p),Vt(H)}else s(p);R=n(p)}if(R!==null)et=!0;else{var X=n(_);X!==null&&re(_t,X.startTime-H),et=!1}}break t}finally{R=null,C=ot,j=!1}et=void 0}}finally{et?P():Mt=!1}}}var P;if(typeof ut=="function")P=function(){ut(M)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Ve=I.port2;I.port1.onmessage=M,P=function(){Ve.postMessage(null)}}else P=function(){Tt(M,0)};function re(H,et){V=Tt(function(){H(r.unstable_now())},et)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return C},r.unstable_next=function(H){switch(C){case 1:case 2:case 3:var et=3;break;default:et=C}var ot=C;C=et;try{return H()}finally{C=ot}},r.unstable_requestPaint=function(){Z=!0},r.unstable_runWithPriority=function(H,et){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ot=C;C=H;try{return et()}finally{C=ot}},r.unstable_scheduleCallback=function(H,et,ot){var zt=r.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?zt+ot:zt):ot=zt,H){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ot+D,H={id:T++,callback:et,priorityLevel:H,startTime:ot,expirationTime:D,sortIndex:-1},ot>zt?(H.sortIndex=ot,t(_,H),n(p)===null&&H===n(_)&&(tt?(ft(V),V=-1):tt=!0,re(_t,ot-zt))):(H.sortIndex=D,t(p,H),$||j||($=!0,Mt||(Mt=!0,P()))),H},r.unstable_shouldYield=N,r.unstable_wrapCallback=function(H){var et=C;return function(){var ot=C;C=et;try{return H.apply(this,arguments)}finally{C=ot}}}}(Ed)),Ed}var g_;function $A(){return g_||(g_=1,vd.exports=XA()),vd.exports}var Td={exports:{}},Ge={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p_;function ZA(){if(p_)return Ge;p_=1;var r=sm();function t(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,_,T){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:R==null?null:""+R,children:p,containerInfo:_,implementation:T}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ge.createPortal=function(p,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(p,_,null,T)},Ge.flushSync=function(p){var _=f.T,T=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=_,s.p=T,s.d.f()}},Ge.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(p,_))},Ge.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Ge.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var T=_.as,R=g(T,_.crossOrigin),C=typeof _.integrity=="string"?_.integrity:void 0,j=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?s.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:R,integrity:C,fetchPriority:j}):T==="script"&&s.d.X(p,{crossOrigin:R,integrity:C,fetchPriority:j,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ge.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=g(_.as,_.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(p)},Ge.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,R=g(T,_.crossOrigin);s.d.L(p,T,{crossOrigin:R,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ge.preloadModule=function(p,_){if(typeof p=="string")if(_){var T=g(_.as,_.crossOrigin);s.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(p)},Ge.requestFormReset=function(p){s.d.r(p)},Ge.unstable_batchedUpdates=function(p,_){return p(_)},Ge.useFormState=function(p,_,T){return f.H.useFormState(p,_,T)},Ge.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ge.version="19.1.0",Ge}var y_;function JA(){if(y_)return Td.exports;y_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Td.exports=ZA(),Td.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var __;function WA(){if(__)return ul;__=1;var r=$A(),t=sm(),n=JA();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(s(188))}function p(e){var i=e.alternate;if(!i){if(i=c(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,o=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),e;if(d===o)return g(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=d;else{for(var v=!1,E=h.child;E;){if(E===a){v=!0,a=h,o=d;break}if(E===o){v=!0,o=h,a=d;break}E=E.sibling}if(!v){for(E=d.child;E;){if(E===a){v=!0,a=d,o=h;break}if(E===o){v=!0,o=d,a=h;break}E=E.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function _(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=_(e),i!==null)return i;e=e.sibling}return null}var T=Object.assign,R=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),Tt=Symbol.for("react.provider"),ft=Symbol.for("react.consumer"),ut=Symbol.for("react.context"),Vt=Symbol.for("react.forward_ref"),_t=Symbol.for("react.suspense"),Mt=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function Ve(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $:return"Fragment";case Z:return"Profiler";case tt:return"StrictMode";case _t:return"Suspense";case Mt:return"SuspenseList";case w:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case j:return"Portal";case ut:return(e.displayName||"Context")+".Provider";case ft:return(e._context.displayName||"Context")+".Consumer";case Vt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V:return i=e.displayName||null,i!==null?i:Ve(e.type)||"Memo";case S:i=e._payload,e=e._init;try{return Ve(e(i))}catch{}}return null}var re=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},zt=[],D=-1;function X(e){return{current:e}}function nt(e){0>D||(e.current=zt[D],zt[D]=null,D--)}function J(e,i){D++,zt[D]=e.current,e.current=i}var ct=X(null),wt=X(null),yt=X(null),Re=X(null);function Zt(e,i){switch(J(yt,i),J(wt,e),J(ct,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Ly(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Ly(i),e=zy(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}nt(ct),J(ct,e)}function qn(){nt(ct),nt(wt),nt(yt)}function Fi(e){e.memoizedState!==null&&J(Re,e);var i=ct.current,a=zy(i,e.type);i!==a&&(J(wt,e),J(ct,a))}function hi(e){wt.current===e&&(nt(ct),nt(wt)),Re.current===e&&(nt(Re),il._currentValue=ot)}var Lr=Object.prototype.hasOwnProperty,zr=r.unstable_scheduleCallback,Br=r.unstable_cancelCallback,Wa=r.unstable_shouldYield,Bl=r.unstable_requestPaint,pn=r.unstable_now,gh=r.unstable_getCurrentPriorityLevel,to=r.unstable_ImmediatePriority,Ps=r.unstable_UserBlockingPriority,qr=r.unstable_NormalPriority,ph=r.unstable_LowPriority,ks=r.unstable_IdlePriority,eo=r.log,ql=r.unstable_setDisableYieldValue,se=null,Ht=null;function an(e){if(typeof eo=="function"&&ql(e),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(se,e)}catch{}}var je=Math.clz32?Math.clz32:jr,jl=Math.log,yh=Math.LN2;function jr(e){return e>>>=0,e===0?32:31-(jl(e)/yh|0)|0}var Hr=256,Gr=4194304;function On(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Us(e,i,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~d,o!==0?h=On(o):(v&=E,v!==0?h=On(v):a||(a=E&~e,a!==0&&(h=On(a))))):(E=o&~d,E!==0?h=On(E):v!==0?h=On(v):a||(a=o&~e,a!==0&&(h=On(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Fr(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function no(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function io(){var e=Hr;return Hr<<=1,(Hr&4194048)===0&&(Hr=256),e}function ro(){var e=Gr;return Gr<<=1,(Gr&62914560)===0&&(Gr=4194304),e}function fi(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function di(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function so(e,i,a,o,h,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,b=e.expirationTimes,L=e.hiddenUpdates;for(a=v&~a;0<a;){var G=31-je(a),Q=1<<G;E[G]=0,b[G]=-1;var z=L[G];if(z!==null)for(L[G]=null,G=0;G<z.length;G++){var B=z[G];B!==null&&(B.lane&=-536870913)}a&=~Q}o!==0&&jn(e,o,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~i))}function jn(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-je(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|a&4194090}function ao(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var o=31-je(a),h=1<<o;h&i|e[o]&i&&(e[o]|=i),a&=~h}}function Qi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ls(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Yi(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:r_(e.type))}function Hl(e,i){var a=et.p;try{return et.p=e,i()}finally{et.p=a}}var te=Math.random().toString(36).slice(2),ve="__reactFiber$"+te,de="__reactProps$"+te,yn="__reactContainer$"+te,oo="__reactEvents$"+te,_h="__reactListeners$"+te,Ki="__reactHandles$"+te,Gl="__reactResources$"+te,Qr="__reactMarker$"+te;function Xi(e){delete e[ve],delete e[de],delete e[oo],delete e[_h],delete e[Ki]}function mi(e){var i=e[ve];if(i)return i;for(var a=e.parentNode;a;){if(i=a[yn]||a[ve]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=Hy(e);e!==null;){if(a=e[ve])return a;e=Hy(e)}return i}e=a,a=e.parentNode}return null}function Hn(e){if(e=e[ve]||e[yn]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function Gn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function Xe(e){var i=e[Gl];return i||(i=e[Gl]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ue(e){e[Qr]=!0}var lo=new Set,zs={};function Nn(e,i){gi(e,i),gi(e+"Capture",i)}function gi(e,i){for(zs[e]=i,e=0;e<i.length;e++)lo.add(i[e])}var Fl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ql={},Yr={};function Yl(e){return Lr.call(Yr,e)?!0:Lr.call(Ql,e)?!1:Fl.test(e)?Yr[e]=!0:(Ql[e]=!0,!1)}function $i(e,i,a){if(Yl(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function Fn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Me(e,i,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+o)}}var Kr,Kl;function pi(e){if(Kr===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Kr=i&&i[1]||"",Kl=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Kr+e+Kl}var Bs=!1;function qs(e,i){if(!e||Bs)return"";Bs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(B){var z=B}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(B){z=B}e.call(Q.prototype)}}else{try{throw Error()}catch(B){z=B}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),v=d[0],E=d[1];if(v&&E){var b=v.split(`
`),L=E.split(`
`);for(h=o=0;o<b.length&&!b[o].includes("DetermineComponentFrameRoot");)o++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(o===b.length||h===L.length)for(o=b.length-1,h=L.length-1;1<=o&&0<=h&&b[o]!==L[h];)h--;for(;1<=o&&0<=h;o--,h--)if(b[o]!==L[h]){if(o!==1||h!==1)do if(o--,h--,0>h||b[o]!==L[h]){var G=`
`+b[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{Bs=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?pi(a):""}function uo(e){switch(e.tag){case 26:case 27:case 5:return pi(e.type);case 16:return pi("Lazy");case 13:return pi("Suspense");case 19:return pi("SuspenseList");case 0:case 15:return qs(e.type,!1);case 11:return qs(e.type.render,!1);case 1:return qs(e.type,!0);case 31:return pi("Activity");default:return""}}function js(e){try{var i="";do i+=uo(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function $e(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function co(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function vh(e){var i=co(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),o=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){o=""+v,d.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Hs(e){e._valueTracker||(e._valueTracker=vh(e))}function ho(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return e&&(o=co(e)?e.checked?"true":"false":e.value),e=o,e!==a?(i.setValue(e),!0):!1}function Xr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Eh=/[\n"\\]/g;function me(e){return e.replace(Eh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function on(e,i,a,o,h,d,v,E){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+$e(i)):e.value!==""+$e(i)&&(e.value=""+$e(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?Zi(e,v,$e(i)):a!=null?Zi(e,v,$e(a)):o!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+$e(E):e.removeAttribute("name")}function $r(e,i,a,o,h,d,v,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+$e(a):"",i=i!=null?""+$e(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function Zi(e,i,a){i==="number"&&Xr(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function yi(e,i,a,o){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+$e(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Qt(e,i,a){if(i!=null&&(i=""+$e(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+$e(a):""}function Zr(e,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(s(92));if(re(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=$e(i),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o)}function _n(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var Jr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xl(e,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,a):typeof a!="number"||a===0||Jr.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function fo(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&Xl(e,h,o)}else for(var d in i)i.hasOwnProperty(d)&&Xl(e,d,i[d])}function mo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Th=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ah=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Gs(e){return Ah.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var _i=null;function vn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vi=null,Ei=null;function go(e){var i=Hn(e);if(i&&(e=i.stateNode)){var a=e[de]||null;t:switch(e=i.stateNode,i.type){case"input":if(on(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+me(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==e&&o.form===e.form){var h=o[de]||null;if(!h)throw Error(s(90));on(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===e.form&&ho(o)}break t;case"textarea":Qt(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&yi(e,!!a.multiple,i,!1)}}}var Qn=!1;function $l(e,i,a){if(Qn)return e(i,a);Qn=!0;try{var o=e(i);return o}finally{if(Qn=!1,(vi!==null||Ei!==null)&&(Hu(),vi&&(i=vi,e=Ei,Ei=vi=null,go(i),e)))for(i=0;i<e.length;i++)go(e[i])}}function Wr(e,i){var a=e.stateNode;if(a===null)return null;var o=a[de]||null;if(o===null)return null;a=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),En=!1;if(Vn)try{var ts={};Object.defineProperty(ts,"passive",{get:function(){En=!0}}),window.addEventListener("test",ts,ts),window.removeEventListener("test",ts,ts)}catch{En=!1}var Yn=null,Ji=null,Ti=null;function po(){if(Ti)return Ti;var e,i=Ji,a=i.length,o,h="value"in Yn?Yn.value:Yn.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var v=a-e;for(o=1;o<=v&&i[a-o]===h[d-o];o++);return Ti=h.slice(e,1<o?1-o:void 0)}function Kn(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Xn(){return!0}function yo(){return!1}function we(e){function i(a,o,h,d,v){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Xn:yo,this.isPropagationStopped=yo,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xn)},persist:function(){},isPersistent:Xn}),i}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fs=we(qt),es=T({},qt,{view:0,detail:0}),Zl=we(es),Qs,Ys,$n,ns=T({},es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ss,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$n&&($n&&e.type==="mousemove"?(Qs=e.screenX-$n.screenX,Ys=e.screenY-$n.screenY):Ys=Qs=0,$n=e),Qs)},movementY:function(e){return"movementY"in e?e.movementY:Ys}}),Tn=we(ns),Jl=T({},ns,{dataTransfer:0}),Sh=we(Jl),is=T({},es,{relatedTarget:0}),Ks=we(is),_o=T({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),Xs=we(_o),Wl=T({},qt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$s=we(Wl),bh=T({},qt,{data:0}),vo=we(bh),rs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eo(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=eu[e])?!!i[e]:!1}function ss(){return Eo}var nu=T({},es,{key:function(e){if(e.key){var i=rs[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Kn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?tu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ss,charCode:function(e){return e.type==="keypress"?Kn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Kn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Zs=we(nu),iu=T({},ns,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),To=we(iu),Ai=T({},es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ss}),ru=we(Ai),su=T({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),au=we(su),ou=T({},ns,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Js=we(ou),Ze=T({},qt,{newState:0,oldState:0}),lu=we(Ze),uu=[9,13,27,32],Zn=Vn&&"CompositionEvent"in window,u=null;Vn&&"documentMode"in document&&(u=document.documentMode);var m=Vn&&"TextEvent"in window&&!u,y=Vn&&(!Zn||u&&8<u&&11>=u),A=" ",k=!1;function q(e,i){switch(e){case"keyup":return uu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xt=!1;function Ee(e,i){switch(e){case"compositionend":return W(i);case"keypress":return i.which!==32?null:(k=!0,A);case"textInput":return e=i.data,e===A&&k?null:e;default:return null}}function Pt(e,i){if(xt)return e==="compositionend"||!Zn&&q(e,i)?(e=po(),Ti=Ji=Yn=null,xt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return y&&i.locale!=="ko"?null:i.data;default:return null}}var Ie={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Te(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Ie[e.type]:i==="textarea"}function Si(e,i,a,o){vi?Ei?Ei.push(o):Ei=[o]:vi=o,i=Xu(i,"onChange"),0<i.length&&(a=new Fs("onChange","change",null,a,o),e.push({event:a,listeners:i}))}var xe=null,Jn=null;function Ao(e){My(e,0)}function cu(e){var i=Gn(e);if(ho(i))return e}function tg(e,i){if(e==="change")return i}var eg=!1;if(Vn){var Rh;if(Vn){var wh="oninput"in document;if(!wh){var ng=document.createElement("div");ng.setAttribute("oninput","return;"),wh=typeof ng.oninput=="function"}Rh=wh}else Rh=!1;eg=Rh&&(!document.documentMode||9<document.documentMode)}function ig(){xe&&(xe.detachEvent("onpropertychange",rg),Jn=xe=null)}function rg(e){if(e.propertyName==="value"&&cu(Jn)){var i=[];Si(i,Jn,e,vn(e)),$l(Ao,i)}}function A0(e,i,a){e==="focusin"?(ig(),xe=i,Jn=a,xe.attachEvent("onpropertychange",rg)):e==="focusout"&&ig()}function S0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return cu(Jn)}function b0(e,i){if(e==="click")return cu(i)}function R0(e,i){if(e==="input"||e==="change")return cu(i)}function w0(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var ln=typeof Object.is=="function"?Object.is:w0;function So(e,i){if(ln(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!Lr.call(i,h)||!ln(e[h],i[h]))return!1}return!0}function sg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ag(e,i){var a=sg(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=i&&o>=i)return{node:a,offset:i-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=sg(a)}}function og(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?og(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function lg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Xr(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=Xr(e.document)}return i}function Ih(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var I0=Vn&&"documentMode"in document&&11>=document.documentMode,Ws=null,Ch=null,bo=null,Dh=!1;function ug(e,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Dh||Ws==null||Ws!==Xr(o)||(o=Ws,"selectionStart"in o&&Ih(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),bo&&So(bo,o)||(bo=o,o=Xu(Ch,"onSelect"),0<o.length&&(i=new Fs("onSelect","select",null,i,a),e.push({event:i,listeners:o}),i.target=Ws)))}function as(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var ta={animationend:as("Animation","AnimationEnd"),animationiteration:as("Animation","AnimationIteration"),animationstart:as("Animation","AnimationStart"),transitionrun:as("Transition","TransitionRun"),transitionstart:as("Transition","TransitionStart"),transitioncancel:as("Transition","TransitionCancel"),transitionend:as("Transition","TransitionEnd")},Oh={},cg={};Vn&&(cg=document.createElement("div").style,"AnimationEvent"in window||(delete ta.animationend.animation,delete ta.animationiteration.animation,delete ta.animationstart.animation),"TransitionEvent"in window||delete ta.transitionend.transition);function os(e){if(Oh[e])return Oh[e];if(!ta[e])return e;var i=ta[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in cg)return Oh[e]=i[a];return e}var hg=os("animationend"),fg=os("animationiteration"),dg=os("animationstart"),C0=os("transitionrun"),D0=os("transitionstart"),O0=os("transitioncancel"),mg=os("transitionend"),gg=new Map,Nh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Nh.push("scrollEnd");function Mn(e,i){gg.set(e,i),Nn(i,[e])}var pg=new WeakMap;function An(e,i){if(typeof e=="object"&&e!==null){var a=pg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:js(i)},pg.set(e,i),i)}return{value:e,source:i,stack:js(i)}}var Sn=[],ea=0,Vh=0;function hu(){for(var e=ea,i=Vh=ea=0;i<e;){var a=Sn[i];Sn[i++]=null;var o=Sn[i];Sn[i++]=null;var h=Sn[i];Sn[i++]=null;var d=Sn[i];if(Sn[i++]=null,o!==null&&h!==null){var v=o.pending;v===null?h.next=h:(h.next=v.next,v.next=h),o.pending=h}d!==0&&yg(a,h,d)}}function fu(e,i,a,o){Sn[ea++]=e,Sn[ea++]=i,Sn[ea++]=a,Sn[ea++]=o,Vh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Mh(e,i,a,o){return fu(e,i,a,o),du(e)}function na(e,i){return fu(e,null,null,i),du(e)}function yg(e,i,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,o=d.alternate,o!==null&&(o.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-je(a),e=d.hiddenUpdates,o=e[h],o===null?e[h]=[i]:o.push(i),i.lane=a|536870912),d):null}function du(e){if(50<Xo)throw Xo=0,Bf=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var ia={};function N0(e,i,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(e,i,a,o){return new N0(e,i,a,o)}function xh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function bi(e,i){var a=e.alternate;return a===null?(a=un(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function _g(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function mu(e,i,a,o,h,d){var v=0;if(o=e,typeof e=="function")xh(e)&&(v=1);else if(typeof e=="string")v=MA(e,a,ct.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case w:return e=un(31,a,i,h),e.elementType=w,e.lanes=d,e;case $:return ls(a.children,h,d,i);case tt:v=8,h|=24;break;case Z:return e=un(12,a,i,h|2),e.elementType=Z,e.lanes=d,e;case _t:return e=un(13,a,i,h),e.elementType=_t,e.lanes=d,e;case Mt:return e=un(19,a,i,h),e.elementType=Mt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Tt:case ut:v=10;break t;case ft:v=9;break t;case Vt:v=11;break t;case V:v=14;break t;case S:v=16,o=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return i=un(v,a,i,h),i.elementType=e,i.type=o,i.lanes=d,i}function ls(e,i,a,o){return e=un(7,e,o,i),e.lanes=a,e}function Ph(e,i,a){return e=un(6,e,null,i),e.lanes=a,e}function kh(e,i,a){return i=un(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var ra=[],sa=0,gu=null,pu=0,bn=[],Rn=0,us=null,Ri=1,wi="";function cs(e,i){ra[sa++]=pu,ra[sa++]=gu,gu=e,pu=i}function vg(e,i,a){bn[Rn++]=Ri,bn[Rn++]=wi,bn[Rn++]=us,us=e;var o=Ri;e=wi;var h=32-je(o)-1;o&=~(1<<h),a+=1;var d=32-je(i)+h;if(30<d){var v=h-h%5;d=(o&(1<<v)-1).toString(32),o>>=v,h-=v,Ri=1<<32-je(i)+h|a<<h|o,wi=d+e}else Ri=1<<d|a<<h|o,wi=e}function Uh(e){e.return!==null&&(cs(e,1),vg(e,1,0))}function Lh(e){for(;e===gu;)gu=ra[--sa],ra[sa]=null,pu=ra[--sa],ra[sa]=null;for(;e===us;)us=bn[--Rn],bn[Rn]=null,wi=bn[--Rn],bn[Rn]=null,Ri=bn[--Rn],bn[Rn]=null}var Je=null,ae=null,Bt=!1,hs=null,Wn=!1,zh=Error(s(519));function fs(e){var i=Error(s(418,""));throw Io(An(i,e)),zh}function Eg(e){var i=e.stateNode,a=e.type,o=e.memoizedProps;switch(i[ve]=e,i[de]=o,a){case"dialog":Dt("cancel",i),Dt("close",i);break;case"iframe":case"object":case"embed":Dt("load",i);break;case"video":case"audio":for(a=0;a<Zo.length;a++)Dt(Zo[a],i);break;case"source":Dt("error",i);break;case"img":case"image":case"link":Dt("error",i),Dt("load",i);break;case"details":Dt("toggle",i);break;case"input":Dt("invalid",i),$r(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Hs(i);break;case"select":Dt("invalid",i);break;case"textarea":Dt("invalid",i),Zr(i,o.value,o.defaultValue,o.children),Hs(i)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||Uy(i.textContent,a)?(o.popover!=null&&(Dt("beforetoggle",i),Dt("toggle",i)),o.onScroll!=null&&Dt("scroll",i),o.onScrollEnd!=null&&Dt("scrollend",i),o.onClick!=null&&(i.onclick=$u),i=!0):i=!1,i||fs(e)}function Tg(e){for(Je=e.return;Je;)switch(Je.tag){case 5:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:Je=Je.return}}function Ro(e){if(e!==Je)return!1;if(!Bt)return Tg(e),Bt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||nd(e.type,e.memoizedProps)),a=!a),a&&ae&&fs(e),Tg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){ae=Pn(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}ae=null}}else i===27?(i=ae,mr(e.type)?(e=ad,ad=null,ae=e):ae=i):ae=Je?Pn(e.stateNode.nextSibling):null;return!0}function wo(){ae=Je=null,Bt=!1}function Ag(){var e=hs;return e!==null&&(nn===null?nn=e:nn.push.apply(nn,e),hs=null),e}function Io(e){hs===null?hs=[e]:hs.push(e)}var Bh=X(null),ds=null,Ii=null;function Wi(e,i,a){J(Bh,i._currentValue),i._currentValue=a}function Ci(e){e._currentValue=Bh.current,nt(Bh)}function qh(e,i,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===a)break;e=e.return}}function jh(e,i,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var E=d;d=h;for(var b=0;b<i.length;b++)if(E.context===i[b]){d.lanes|=a,E=d.alternate,E!==null&&(E.lanes|=a),qh(d.return,a,e),o||(v=null);break t}d=E.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),qh(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Co(e,i,a,o){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=h.type;ln(h.pendingProps.value,v.value)||(e!==null?e.push(E):e=[E])}}else if(h===Re.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(il):e=[il])}h=h.return}e!==null&&jh(i,e,a,o),i.flags|=262144}function yu(e){for(e=e.firstContext;e!==null;){if(!ln(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ms(e){ds=e,Ii=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function He(e){return Sg(ds,e)}function _u(e,i){return ds===null&&ms(e),Sg(e,i)}function Sg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Ii===null){if(e===null)throw Error(s(308));Ii=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Ii=Ii.next=i;return a}var V0=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},M0=r.unstable_scheduleCallback,x0=r.unstable_NormalPriority,Ae={$$typeof:ut,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hh(){return{controller:new V0,data:new Map,refCount:0}}function Do(e){e.refCount--,e.refCount===0&&M0(x0,function(){e.controller.abort()})}var Oo=null,Gh=0,aa=0,oa=null;function P0(e,i){if(Oo===null){var a=Oo=[];Gh=0,aa=Yf(),oa={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Gh++,i.then(bg,bg),i}function bg(){if(--Gh===0&&Oo!==null){oa!==null&&(oa.status="fulfilled");var e=Oo;Oo=null,aa=0,oa=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function k0(e,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Rg=H.S;H.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&P0(e,i),Rg!==null&&Rg(e,i)};var gs=X(null);function Fh(){var e=gs.current;return e!==null?e:Jt.pooledCache}function vu(e,i){i===null?J(gs,gs.current):J(gs,i.pool)}function wg(){var e=Fh();return e===null?null:{parent:Ae._currentValue,pool:e}}var No=Error(s(460)),Ig=Error(s(474)),Eu=Error(s(542)),Qh={then:function(){}};function Cg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Tu(){}function Dg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Tu,Tu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Ng(e),e;default:if(typeof i.status=="string")i.then(Tu,Tu);else{if(e=Jt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Ng(e),e}throw Vo=i,No}}var Vo=null;function Og(){if(Vo===null)throw Error(s(459));var e=Vo;return Vo=null,e}function Ng(e){if(e===No||e===Eu)throw Error(s(483))}var tr=!1;function Yh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kh(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function er(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function nr(e,i,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Gt&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=du(e),yg(e,null,a),i}return fu(e,o,i,a),du(e)}function Mo(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,ao(e,a)}}function Xh(e,i){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var $h=!1;function xo(){if($h){var e=oa;if(e!==null)throw e}}function Po(e,i,a,o){$h=!1;var h=e.updateQueue;tr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var b=E,L=b.next;b.next=null,v===null?d=L:v.next=L,v=b;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==v&&(E===null?G.firstBaseUpdate=L:E.next=L,G.lastBaseUpdate=b))}if(d!==null){var Q=h.baseState;v=0,G=L=b=null,E=d;do{var z=E.lane&-536870913,B=z!==E.lane;if(B?(kt&z)===z:(o&z)===z){z!==0&&z===aa&&($h=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var gt=e,ht=E;z=i;var Xt=a;switch(ht.tag){case 1:if(gt=ht.payload,typeof gt=="function"){Q=gt.call(Xt,Q,z);break t}Q=gt;break t;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=ht.payload,z=typeof gt=="function"?gt.call(Xt,Q,z):gt,z==null)break t;Q=T({},Q,z);break t;case 2:tr=!0}}z=E.callback,z!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[z]:B.push(z))}else B={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(L=G=B,b=Q):G=G.next=B,v|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;B=E,E=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);G===null&&(b=Q),h.baseState=b,h.firstBaseUpdate=L,h.lastBaseUpdate=G,d===null&&(h.shared.lanes=0),cr|=v,e.lanes=v,e.memoizedState=Q}}function Vg(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Mg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Vg(a[e],i)}var la=X(null),Au=X(0);function xg(e,i){e=Pi,J(Au,e),J(la,i),Pi=e|i.baseLanes}function Zh(){J(Au,Pi),J(la,la.current)}function Jh(){Pi=Au.current,nt(la),nt(Au)}var ir=0,bt=null,Yt=null,ge=null,Su=!1,ua=!1,ps=!1,bu=0,ko=0,ca=null,U0=0;function ce(){throw Error(s(321))}function Wh(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!ln(e[a],i[a]))return!1;return!0}function tf(e,i,a,o,h,d){return ir=d,bt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,H.H=e===null||e.memoizedState===null?yp:_p,ps=!1,d=a(o,h),ps=!1,ua&&(d=kg(i,a,o,h)),Pg(e),d}function Pg(e){H.H=Ou;var i=Yt!==null&&Yt.next!==null;if(ir=0,ge=Yt=bt=null,Su=!1,ko=0,ca=null,i)throw Error(s(300));e===null||Ce||(e=e.dependencies,e!==null&&yu(e)&&(Ce=!0))}function kg(e,i,a,o){bt=e;var h=0;do{if(ua&&(ca=null),ko=0,ua=!1,25<=h)throw Error(s(301));if(h+=1,ge=Yt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}H.H=G0,d=i(a,o)}while(ua);return d}function L0(){var e=H.H,i=e.useState()[0];return i=typeof i.then=="function"?Uo(i):i,e=e.useState()[0],(Yt!==null?Yt.memoizedState:null)!==e&&(bt.flags|=1024),i}function ef(){var e=bu!==0;return bu=0,e}function nf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function rf(e){if(Su){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Su=!1}ir=0,ge=Yt=bt=null,ua=!1,ko=bu=0,ca=null}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?bt.memoizedState=ge=e:ge=ge.next=e,ge}function pe(){if(Yt===null){var e=bt.alternate;e=e!==null?e.memoizedState:null}else e=Yt.next;var i=ge===null?bt.memoizedState:ge.next;if(i!==null)ge=i,Yt=e;else{if(e===null)throw bt.alternate===null?Error(s(467)):Error(s(310));Yt=e,e={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},ge===null?bt.memoizedState=ge=e:ge=ge.next=e}return ge}function sf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Uo(e){var i=ko;return ko+=1,ca===null&&(ca=[]),e=Dg(ca,e,i),i=bt,(ge===null?i.memoizedState:ge.next)===null&&(i=i.alternate,H.H=i===null||i.memoizedState===null?yp:_p),e}function Ru(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Uo(e);if(e.$$typeof===ut)return He(e)}throw Error(s(438,String(e)))}function af(e){var i=null,a=bt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=bt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=sf(),bt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),o=0;o<e;o++)a[o]=N;return i.index++,a}function Di(e,i){return typeof i=="function"?i(e):i}function wu(e){var i=pe();return of(i,Yt,e)}function of(e,i,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,d=o.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,o.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var E=v=null,b=null,L=i,G=!1;do{var Q=L.lane&-536870913;if(Q!==L.lane?(kt&Q)===Q:(ir&Q)===Q){var z=L.revertLane;if(z===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),Q===aa&&(G=!0);else if((ir&z)===z){L=L.next,z===aa&&(G=!0);continue}else Q={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},b===null?(E=b=Q,v=d):b=b.next=Q,bt.lanes|=z,cr|=z;Q=L.action,ps&&a(d,Q),d=L.hasEagerState?L.eagerState:a(d,Q)}else z={lane:Q,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},b===null?(E=b=z,v=d):b=b.next=z,bt.lanes|=Q,cr|=Q;L=L.next}while(L!==null&&L!==i);if(b===null?v=d:b.next=E,!ln(d,e.memoizedState)&&(Ce=!0,G&&(a=oa,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=b,o.lastRenderedState=d}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function lf(e){var i=pe(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);ln(d,i.memoizedState)||(Ce=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,o]}function Ug(e,i,a){var o=bt,h=pe(),d=Bt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!ln((Yt||h).memoizedState,a);v&&(h.memoizedState=a,Ce=!0),h=h.queue;var E=Bg.bind(null,o,h,e);if(Lo(2048,8,E,[e]),h.getSnapshot!==i||v||ge!==null&&ge.memoizedState.tag&1){if(o.flags|=2048,ha(9,Iu(),zg.bind(null,o,h,a,i),null),Jt===null)throw Error(s(349));d||(ir&124)!==0||Lg(o,i,a)}return a}function Lg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=bt.updateQueue,i===null?(i=sf(),bt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function zg(e,i,a,o){i.value=a,i.getSnapshot=o,qg(i)&&jg(e)}function Bg(e,i,a){return a(function(){qg(i)&&jg(e)})}function qg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!ln(e,a)}catch{return!0}}function jg(e){var i=na(e,2);i!==null&&mn(i,e,2)}function uf(e){var i=tn();if(typeof e=="function"){var a=e;if(e=a(),ps){an(!0);try{a()}finally{an(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:e},i}function Hg(e,i,a,o){return e.baseState=a,of(e,Yt,typeof o=="function"?o:Di)}function z0(e,i,a,o,h){if(Du(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};H.T!==null?a(!0):d.isTransition=!1,o(d),a=i.pending,a===null?(d.next=i.pending=d,Gg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Gg(e,i){var a=i.action,o=i.payload,h=e.state;if(i.isTransition){var d=H.T,v={};H.T=v;try{var E=a(h,o),b=H.S;b!==null&&b(v,E),Fg(e,i,E)}catch(L){cf(e,i,L)}finally{H.T=d}}else try{d=a(h,o),Fg(e,i,d)}catch(L){cf(e,i,L)}}function Fg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Qg(e,i,o)},function(o){return cf(e,i,o)}):Qg(e,i,a)}function Qg(e,i,a){i.status="fulfilled",i.value=a,Yg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Gg(e,a)))}function cf(e,i,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,Yg(i),i=i.next;while(i!==o)}e.action=null}function Yg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Kg(e,i){return i}function Xg(e,i){if(Bt){var a=Jt.formState;if(a!==null){t:{var o=bt;if(Bt){if(ae){e:{for(var h=ae,d=Wn;h.nodeType!==8;){if(!d){h=null;break e}if(h=Pn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ae=Pn(h.nextSibling),o=h.data==="F!";break t}}fs(o)}o=!1}o&&(i=a[0])}}return a=tn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kg,lastRenderedState:i},a.queue=o,a=mp.bind(null,bt,o),o.dispatch=a,o=uf(!1),d=gf.bind(null,bt,!1,o.queue),o=tn(),h={state:i,dispatch:null,action:e,pending:null},o.queue=h,a=z0.bind(null,bt,h,d,a),h.dispatch=a,o.memoizedState=e,[i,a,!1]}function $g(e){var i=pe();return Zg(i,Yt,e)}function Zg(e,i,a){if(i=of(e,i,Kg)[0],e=wu(Di)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=Uo(i)}catch(v){throw v===No?Eu:v}else o=i;i=pe();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(bt.flags|=2048,ha(9,Iu(),B0.bind(null,h,a),null)),[o,d,e]}function B0(e,i){e.action=i}function Jg(e){var i=pe(),a=Yt;if(a!==null)return Zg(i,a,e);pe(),i=i.memoizedState,a=pe();var o=a.queue.dispatch;return a.memoizedState=e,[i,o,!1]}function ha(e,i,a,o){return e={tag:e,create:a,deps:o,inst:i,next:null},i=bt.updateQueue,i===null&&(i=sf(),bt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,i.lastEffect=e),e}function Iu(){return{destroy:void 0,resource:void 0}}function Wg(){return pe().memoizedState}function Cu(e,i,a,o){var h=tn();o=o===void 0?null:o,bt.flags|=e,h.memoizedState=ha(1|i,Iu(),a,o)}function Lo(e,i,a,o){var h=pe();o=o===void 0?null:o;var d=h.memoizedState.inst;Yt!==null&&o!==null&&Wh(o,Yt.memoizedState.deps)?h.memoizedState=ha(i,d,a,o):(bt.flags|=e,h.memoizedState=ha(1|i,d,a,o))}function tp(e,i){Cu(8390656,8,e,i)}function ep(e,i){Lo(2048,8,e,i)}function np(e,i){return Lo(4,2,e,i)}function ip(e,i){return Lo(4,4,e,i)}function rp(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function sp(e,i,a){a=a!=null?a.concat([e]):null,Lo(4,4,rp.bind(null,i,e),a)}function hf(){}function ap(e,i){var a=pe();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&Wh(i,o[1])?o[0]:(a.memoizedState=[e,i],e)}function op(e,i){var a=pe();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&Wh(i,o[1]))return o[0];if(o=e(),ps){an(!0);try{e()}finally{an(!1)}}return a.memoizedState=[o,i],o}function ff(e,i,a){return a===void 0||(ir&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=cy(),bt.lanes|=e,cr|=e,a)}function lp(e,i,a,o){return ln(a,i)?a:la.current!==null?(e=ff(e,a,o),ln(e,i)||(Ce=!0),e):(ir&42)===0?(Ce=!0,e.memoizedState=a):(e=cy(),bt.lanes|=e,cr|=e,i)}function up(e,i,a,o,h){var d=et.p;et.p=d!==0&&8>d?d:8;var v=H.T,E={};H.T=E,gf(e,!1,i,a);try{var b=h(),L=H.S;if(L!==null&&L(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var G=k0(b,o);zo(e,i,G,dn(e))}else zo(e,i,o,dn(e))}catch(Q){zo(e,i,{then:function(){},status:"rejected",reason:Q},dn())}finally{et.p=d,H.T=v}}function q0(){}function df(e,i,a,o){if(e.tag!==5)throw Error(s(476));var h=cp(e).queue;up(e,h,i,ot,a===null?q0:function(){return hp(e),a(o)})}function cp(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:ot},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function hp(e){var i=cp(e).next.queue;zo(e,i,{},dn())}function mf(){return He(il)}function fp(){return pe().memoizedState}function dp(){return pe().memoizedState}function j0(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=dn();e=er(a);var o=nr(i,e,a);o!==null&&(mn(o,i,a),Mo(o,i,a)),i={cache:Hh()},e.payload=i;return}i=i.return}}function H0(e,i,a){var o=dn();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Du(e)?gp(i,a):(a=Mh(e,i,a,o),a!==null&&(mn(a,e,o),pp(a,i,o)))}function mp(e,i,a){var o=dn();zo(e,i,a,o)}function zo(e,i,a,o){var h={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Du(e))gp(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,E=d(v,a);if(h.hasEagerState=!0,h.eagerState=E,ln(E,v))return fu(e,i,h,0),Jt===null&&hu(),!1}catch{}finally{}if(a=Mh(e,i,h,o),a!==null)return mn(a,e,o),pp(a,i,o),!0}return!1}function gf(e,i,a,o){if(o={lane:2,revertLane:Yf(),action:o,hasEagerState:!1,eagerState:null,next:null},Du(e)){if(i)throw Error(s(479))}else i=Mh(e,a,o,2),i!==null&&mn(i,e,2)}function Du(e){var i=e.alternate;return e===bt||i!==null&&i===bt}function gp(e,i){ua=Su=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function pp(e,i,a){if((a&4194048)!==0){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,ao(e,a)}}var Ou={readContext:He,use:Ru,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce},yp={readContext:He,use:Ru,useCallback:function(e,i){return tn().memoizedState=[e,i===void 0?null:i],e},useContext:He,useEffect:tp,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Cu(4194308,4,rp.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Cu(4194308,4,e,i)},useInsertionEffect:function(e,i){Cu(4,2,e,i)},useMemo:function(e,i){var a=tn();i=i===void 0?null:i;var o=e();if(ps){an(!0);try{e()}finally{an(!1)}}return a.memoizedState=[o,i],o},useReducer:function(e,i,a){var o=tn();if(a!==void 0){var h=a(i);if(ps){an(!0);try{a(i)}finally{an(!1)}}}else h=i;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=H0.bind(null,bt,e),[o.memoizedState,e]},useRef:function(e){var i=tn();return e={current:e},i.memoizedState=e},useState:function(e){e=uf(e);var i=e.queue,a=mp.bind(null,bt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:hf,useDeferredValue:function(e,i){var a=tn();return ff(a,e,i)},useTransition:function(){var e=uf(!1);return e=up.bind(null,bt,e.queue,!0,!1),tn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var o=bt,h=tn();if(Bt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Jt===null)throw Error(s(349));(kt&124)!==0||Lg(o,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,tp(Bg.bind(null,o,d,e),[e]),o.flags|=2048,ha(9,Iu(),zg.bind(null,o,d,a,i),null),a},useId:function(){var e=tn(),i=Jt.identifierPrefix;if(Bt){var a=wi,o=Ri;a=(o&~(1<<32-je(o)-1)).toString(32)+a,i=""+i+"R"+a,a=bu++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=U0++,i=""+i+"r"+a.toString(32)+"";return e.memoizedState=i},useHostTransitionStatus:mf,useFormState:Xg,useActionState:Xg,useOptimistic:function(e){var i=tn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=gf.bind(null,bt,!0,a),a.dispatch=i,[e,i]},useMemoCache:af,useCacheRefresh:function(){return tn().memoizedState=j0.bind(null,bt)}},_p={readContext:He,use:Ru,useCallback:ap,useContext:He,useEffect:ep,useImperativeHandle:sp,useInsertionEffect:np,useLayoutEffect:ip,useMemo:op,useReducer:wu,useRef:Wg,useState:function(){return wu(Di)},useDebugValue:hf,useDeferredValue:function(e,i){var a=pe();return lp(a,Yt.memoizedState,e,i)},useTransition:function(){var e=wu(Di)[0],i=pe().memoizedState;return[typeof e=="boolean"?e:Uo(e),i]},useSyncExternalStore:Ug,useId:fp,useHostTransitionStatus:mf,useFormState:$g,useActionState:$g,useOptimistic:function(e,i){var a=pe();return Hg(a,Yt,e,i)},useMemoCache:af,useCacheRefresh:dp},G0={readContext:He,use:Ru,useCallback:ap,useContext:He,useEffect:ep,useImperativeHandle:sp,useInsertionEffect:np,useLayoutEffect:ip,useMemo:op,useReducer:lf,useRef:Wg,useState:function(){return lf(Di)},useDebugValue:hf,useDeferredValue:function(e,i){var a=pe();return Yt===null?ff(a,e,i):lp(a,Yt.memoizedState,e,i)},useTransition:function(){var e=lf(Di)[0],i=pe().memoizedState;return[typeof e=="boolean"?e:Uo(e),i]},useSyncExternalStore:Ug,useId:fp,useHostTransitionStatus:mf,useFormState:Jg,useActionState:Jg,useOptimistic:function(e,i){var a=pe();return Yt!==null?Hg(a,Yt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:af,useCacheRefresh:dp},fa=null,Bo=0;function Nu(e){var i=Bo;return Bo+=1,fa===null&&(fa=[]),Dg(fa,e,i)}function qo(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Vu(e,i){throw i.$$typeof===R?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function vp(e){var i=e._init;return i(e._payload)}function Ep(e){function i(x,O){if(e){var U=x.deletions;U===null?(x.deletions=[O],x.flags|=16):U.push(O)}}function a(x,O){if(!e)return null;for(;O!==null;)i(x,O),O=O.sibling;return null}function o(x){for(var O=new Map;x!==null;)x.key!==null?O.set(x.key,x):O.set(x.index,x),x=x.sibling;return O}function h(x,O){return x=bi(x,O),x.index=0,x.sibling=null,x}function d(x,O,U){return x.index=U,e?(U=x.alternate,U!==null?(U=U.index,U<O?(x.flags|=67108866,O):U):(x.flags|=67108866,O)):(x.flags|=1048576,O)}function v(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function E(x,O,U,F){return O===null||O.tag!==6?(O=Ph(U,x.mode,F),O.return=x,O):(O=h(O,U),O.return=x,O)}function b(x,O,U,F){var st=U.type;return st===$?G(x,O,U.props.children,F,U.key):O!==null&&(O.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===S&&vp(st)===O.type)?(O=h(O,U.props),qo(O,U),O.return=x,O):(O=mu(U.type,U.key,U.props,null,x.mode,F),qo(O,U),O.return=x,O)}function L(x,O,U,F){return O===null||O.tag!==4||O.stateNode.containerInfo!==U.containerInfo||O.stateNode.implementation!==U.implementation?(O=kh(U,x.mode,F),O.return=x,O):(O=h(O,U.children||[]),O.return=x,O)}function G(x,O,U,F,st){return O===null||O.tag!==7?(O=ls(U,x.mode,F,st),O.return=x,O):(O=h(O,U),O.return=x,O)}function Q(x,O,U){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Ph(""+O,x.mode,U),O.return=x,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case C:return U=mu(O.type,O.key,O.props,null,x.mode,U),qo(U,O),U.return=x,U;case j:return O=kh(O,x.mode,U),O.return=x,O;case S:var F=O._init;return O=F(O._payload),Q(x,O,U)}if(re(O)||P(O))return O=ls(O,x.mode,U,null),O.return=x,O;if(typeof O.then=="function")return Q(x,Nu(O),U);if(O.$$typeof===ut)return Q(x,_u(x,O),U);Vu(x,O)}return null}function z(x,O,U,F){var st=O!==null?O.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return st!==null?null:E(x,O,""+U,F);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case C:return U.key===st?b(x,O,U,F):null;case j:return U.key===st?L(x,O,U,F):null;case S:return st=U._init,U=st(U._payload),z(x,O,U,F)}if(re(U)||P(U))return st!==null?null:G(x,O,U,F,null);if(typeof U.then=="function")return z(x,O,Nu(U),F);if(U.$$typeof===ut)return z(x,O,_u(x,U),F);Vu(x,U)}return null}function B(x,O,U,F,st){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return x=x.get(U)||null,E(O,x,""+F,st);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case C:return x=x.get(F.key===null?U:F.key)||null,b(O,x,F,st);case j:return x=x.get(F.key===null?U:F.key)||null,L(O,x,F,st);case S:var It=F._init;return F=It(F._payload),B(x,O,U,F,st)}if(re(F)||P(F))return x=x.get(U)||null,G(O,x,F,st,null);if(typeof F.then=="function")return B(x,O,U,Nu(F),st);if(F.$$typeof===ut)return B(x,O,U,_u(O,F),st);Vu(O,F)}return null}function gt(x,O,U,F){for(var st=null,It=null,at=O,dt=O=0,Oe=null;at!==null&&dt<U.length;dt++){at.index>dt?(Oe=at,at=null):Oe=at.sibling;var Lt=z(x,at,U[dt],F);if(Lt===null){at===null&&(at=Oe);break}e&&at&&Lt.alternate===null&&i(x,at),O=d(Lt,O,dt),It===null?st=Lt:It.sibling=Lt,It=Lt,at=Oe}if(dt===U.length)return a(x,at),Bt&&cs(x,dt),st;if(at===null){for(;dt<U.length;dt++)at=Q(x,U[dt],F),at!==null&&(O=d(at,O,dt),It===null?st=at:It.sibling=at,It=at);return Bt&&cs(x,dt),st}for(at=o(at);dt<U.length;dt++)Oe=B(at,x,dt,U[dt],F),Oe!==null&&(e&&Oe.alternate!==null&&at.delete(Oe.key===null?dt:Oe.key),O=d(Oe,O,dt),It===null?st=Oe:It.sibling=Oe,It=Oe);return e&&at.forEach(function(vr){return i(x,vr)}),Bt&&cs(x,dt),st}function ht(x,O,U,F){if(U==null)throw Error(s(151));for(var st=null,It=null,at=O,dt=O=0,Oe=null,Lt=U.next();at!==null&&!Lt.done;dt++,Lt=U.next()){at.index>dt?(Oe=at,at=null):Oe=at.sibling;var vr=z(x,at,Lt.value,F);if(vr===null){at===null&&(at=Oe);break}e&&at&&vr.alternate===null&&i(x,at),O=d(vr,O,dt),It===null?st=vr:It.sibling=vr,It=vr,at=Oe}if(Lt.done)return a(x,at),Bt&&cs(x,dt),st;if(at===null){for(;!Lt.done;dt++,Lt=U.next())Lt=Q(x,Lt.value,F),Lt!==null&&(O=d(Lt,O,dt),It===null?st=Lt:It.sibling=Lt,It=Lt);return Bt&&cs(x,dt),st}for(at=o(at);!Lt.done;dt++,Lt=U.next())Lt=B(at,x,dt,Lt.value,F),Lt!==null&&(e&&Lt.alternate!==null&&at.delete(Lt.key===null?dt:Lt.key),O=d(Lt,O,dt),It===null?st=Lt:It.sibling=Lt,It=Lt);return e&&at.forEach(function(FA){return i(x,FA)}),Bt&&cs(x,dt),st}function Xt(x,O,U,F){if(typeof U=="object"&&U!==null&&U.type===$&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case C:t:{for(var st=U.key;O!==null;){if(O.key===st){if(st=U.type,st===$){if(O.tag===7){a(x,O.sibling),F=h(O,U.props.children),F.return=x,x=F;break t}}else if(O.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===S&&vp(st)===O.type){a(x,O.sibling),F=h(O,U.props),qo(F,U),F.return=x,x=F;break t}a(x,O);break}else i(x,O);O=O.sibling}U.type===$?(F=ls(U.props.children,x.mode,F,U.key),F.return=x,x=F):(F=mu(U.type,U.key,U.props,null,x.mode,F),qo(F,U),F.return=x,x=F)}return v(x);case j:t:{for(st=U.key;O!==null;){if(O.key===st)if(O.tag===4&&O.stateNode.containerInfo===U.containerInfo&&O.stateNode.implementation===U.implementation){a(x,O.sibling),F=h(O,U.children||[]),F.return=x,x=F;break t}else{a(x,O);break}else i(x,O);O=O.sibling}F=kh(U,x.mode,F),F.return=x,x=F}return v(x);case S:return st=U._init,U=st(U._payload),Xt(x,O,U,F)}if(re(U))return gt(x,O,U,F);if(P(U)){if(st=P(U),typeof st!="function")throw Error(s(150));return U=st.call(U),ht(x,O,U,F)}if(typeof U.then=="function")return Xt(x,O,Nu(U),F);if(U.$$typeof===ut)return Xt(x,O,_u(x,U),F);Vu(x,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,O!==null&&O.tag===6?(a(x,O.sibling),F=h(O,U),F.return=x,x=F):(a(x,O),F=Ph(U,x.mode,F),F.return=x,x=F),v(x)):a(x,O)}return function(x,O,U,F){try{Bo=0;var st=Xt(x,O,U,F);return fa=null,st}catch(at){if(at===No||at===Eu)throw at;var It=un(29,at,null,x.mode);return It.lanes=F,It.return=x,It}finally{}}}var da=Ep(!0),Tp=Ep(!1),wn=X(null),ti=null;function rr(e){var i=e.alternate;J(Se,Se.current&1),J(wn,e),ti===null&&(i===null||la.current!==null||i.memoizedState!==null)&&(ti=e)}function Ap(e){if(e.tag===22){if(J(Se,Se.current),J(wn,e),ti===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(ti=e)}}else sr()}function sr(){J(Se,Se.current),J(wn,wn.current)}function Oi(e){nt(wn),ti===e&&(ti=null),nt(Se)}var Se=X(0);function Mu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||sd(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function pf(e,i,a,o){i=e.memoizedState,a=a(o,i),a=a==null?i:T({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var yf={enqueueSetState:function(e,i,a){e=e._reactInternals;var o=dn(),h=er(o);h.payload=i,a!=null&&(h.callback=a),i=nr(e,h,o),i!==null&&(mn(i,e,o),Mo(i,e,o))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var o=dn(),h=er(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=nr(e,h,o),i!==null&&(mn(i,e,o),Mo(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=dn(),o=er(a);o.tag=2,i!=null&&(o.callback=i),i=nr(e,o,a),i!==null&&(mn(i,e,a),Mo(i,e,a))}};function Sp(e,i,a,o,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,v):i.prototype&&i.prototype.isPureReactComponent?!So(a,o)||!So(h,d):!0}function bp(e,i,a,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==e&&yf.enqueueReplaceState(i,i.state,null)}function ys(e,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(e=e.defaultProps){a===i&&(a=T({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var xu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Rp(e){xu(e)}function wp(e){console.error(e)}function Ip(e){xu(e)}function Pu(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function Cp(e,i,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function _f(e,i,a){return a=er(a),a.tag=3,a.payload={element:null},a.callback=function(){Pu(e,i)},a}function Dp(e){return e=er(e),e.tag=3,e}function Op(e,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;e.payload=function(){return h(d)},e.callback=function(){Cp(i,a,o)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Cp(i,a,o),typeof h!="function"&&(hr===null?hr=new Set([this]):hr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function F0(e,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Co(i,a,h,!0),a=wn.current,a!==null){switch(a.tag){case 13:return ti===null?jf():a.alternate===null&&oe===0&&(oe=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Qh?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),Gf(e,o,h)),!1;case 22:return a.flags|=65536,o===Qh?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),Gf(e,o,h)),!1}throw Error(s(435,a.tag))}return Gf(e,o,h),jf(),!1}if(Bt)return i=wn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==zh&&(e=Error(s(422),{cause:o}),Io(An(e,a)))):(o!==zh&&(i=Error(s(423),{cause:o}),Io(An(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=An(o,a),h=_f(e.stateNode,o,h),Xh(e,h),oe!==4&&(oe=2)),!1;var d=Error(s(520),{cause:o});if(d=An(d,a),Ko===null?Ko=[d]:Ko.push(d),oe!==4&&(oe=2),i===null)return!0;o=An(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=_f(a.stateNode,o,e),Xh(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(hr===null||!hr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Dp(h),Op(h,e,a,o),Xh(a,h),!1}a=a.return}while(a!==null);return!1}var Np=Error(s(461)),Ce=!1;function Pe(e,i,a,o){i.child=e===null?Tp(i,null,a,o):da(i,e.child,a,o)}function Vp(e,i,a,o,h){a=a.render;var d=i.ref;if("ref"in o){var v={};for(var E in o)E!=="ref"&&(v[E]=o[E])}else v=o;return ms(i),o=tf(e,i,a,v,d,h),E=ef(),e!==null&&!Ce?(nf(e,i,h),Ni(e,i,h)):(Bt&&E&&Uh(i),i.flags|=1,Pe(e,i,o,h),i.child)}function Mp(e,i,a,o,h){if(e===null){var d=a.type;return typeof d=="function"&&!xh(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,xp(e,i,d,o,h)):(e=mu(a.type,null,o,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!wf(e,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:So,a(v,o)&&e.ref===i.ref)return Ni(e,i,h)}return i.flags|=1,e=bi(d,o),e.ref=i.ref,e.return=i,i.child=e}function xp(e,i,a,o,h){if(e!==null){var d=e.memoizedProps;if(So(d,o)&&e.ref===i.ref)if(Ce=!1,i.pendingProps=o=d,wf(e,h))(e.flags&131072)!==0&&(Ce=!0);else return i.lanes=e.lanes,Ni(e,i,h)}return vf(e,i,a,o,h)}function Pp(e,i,a){var o=i.pendingProps,h=o.children,d=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((i.flags&128)!==0){if(o=d!==null?d.baseLanes|a:a,e!==null){for(h=i.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~o}else i.childLanes=0,i.child=null;return kp(e,i,o,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&vu(i,d!==null?d.cachePool:null),d!==null?xg(i,d):Zh(),Ap(i);else return i.lanes=i.childLanes=536870912,kp(e,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(vu(i,d.cachePool),xg(i,d),sr(),i.memoizedState=null):(e!==null&&vu(i,null),Zh(),sr());return Pe(e,i,h,a),i.child}function kp(e,i,a,o){var h=Fh();return h=h===null?null:{parent:Ae._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&vu(i,null),Zh(),Ap(i),e!==null&&Co(e,i,o,!0),null}function ku(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function vf(e,i,a,o,h){return ms(i),a=tf(e,i,a,o,void 0,h),o=ef(),e!==null&&!Ce?(nf(e,i,h),Ni(e,i,h)):(Bt&&o&&Uh(i),i.flags|=1,Pe(e,i,a,h),i.child)}function Up(e,i,a,o,h,d){return ms(i),i.updateQueue=null,a=kg(i,o,a,h),Pg(e),o=ef(),e!==null&&!Ce?(nf(e,i,d),Ni(e,i,d)):(Bt&&o&&Uh(i),i.flags|=1,Pe(e,i,a,d),i.child)}function Lp(e,i,a,o,h){if(ms(i),i.stateNode===null){var d=ia,v=a.contextType;typeof v=="object"&&v!==null&&(d=He(v)),d=new a(o,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=yf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=o,d.state=i.memoizedState,d.refs={},Yh(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?He(v):ia,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(pf(i,a,v,o),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&yf.enqueueReplaceState(d,d.state,null),Po(i,o,d,h),xo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){d=i.stateNode;var E=i.memoizedProps,b=ys(a,E);d.props=b;var L=d.context,G=a.contextType;v=ia,typeof G=="object"&&G!==null&&(v=He(G));var Q=a.getDerivedStateFromProps;G=typeof Q=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,G||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||L!==v)&&bp(i,d,o,v),tr=!1;var z=i.memoizedState;d.state=z,Po(i,o,d,h),xo(),L=i.memoizedState,E||z!==L||tr?(typeof Q=="function"&&(pf(i,a,Q,o),L=i.memoizedState),(b=tr||Sp(i,a,b,o,z,L,v))?(G||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=L),d.props=o,d.state=L,d.context=v,o=b):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{d=i.stateNode,Kh(e,i),v=i.memoizedProps,G=ys(a,v),d.props=G,Q=i.pendingProps,z=d.context,L=a.contextType,b=ia,typeof L=="object"&&L!==null&&(b=He(L)),E=a.getDerivedStateFromProps,(L=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==Q||z!==b)&&bp(i,d,o,b),tr=!1,z=i.memoizedState,d.state=z,Po(i,o,d,h),xo();var B=i.memoizedState;v!==Q||z!==B||tr||e!==null&&e.dependencies!==null&&yu(e.dependencies)?(typeof E=="function"&&(pf(i,a,E,o),B=i.memoizedState),(G=tr||Sp(i,a,G,o,z,B,b)||e!==null&&e.dependencies!==null&&yu(e.dependencies))?(L||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,B,b),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,B,b)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=B),d.props=o,d.state=B,d.context=b,o=G):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),o=!1)}return d=o,ku(e,i),o=(i.flags&128)!==0,d||o?(d=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&o?(i.child=da(i,e.child,null,h),i.child=da(i,null,a,h)):Pe(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Ni(e,i,h),e}function zp(e,i,a,o){return wo(),i.flags|=256,Pe(e,i,a,o),i.child}var Ef={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Tf(e){return{baseLanes:e,cachePool:wg()}}function Af(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=In),e}function Bp(e,i,a){var o=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(Se.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(Bt){if(h?rr(i):sr(),Bt){var E=ae,b;if(b=E){t:{for(b=E,E=Wn;b.nodeType!==8;){if(!E){E=null;break t}if(b=Pn(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(i.memoizedState={dehydrated:E,treeContext:us!==null?{id:Ri,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},b=un(18,null,null,0),b.stateNode=E,b.return=i,i.child=b,Je=i,ae=null,b=!0):b=!1}b||fs(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return sd(E)?i.lanes=32:i.lanes=536870912,null;Oi(i)}return E=o.children,o=o.fallback,h?(sr(),h=i.mode,E=Uu({mode:"hidden",children:E},h),o=ls(o,h,a,null),E.return=i,o.return=i,E.sibling=o,i.child=E,h=i.child,h.memoizedState=Tf(a),h.childLanes=Af(e,v,a),i.memoizedState=Ef,o):(rr(i),Sf(i,E))}if(b=e.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(d)i.flags&256?(rr(i),i.flags&=-257,i=bf(e,i,a)):i.memoizedState!==null?(sr(),i.child=e.child,i.flags|=128,i=null):(sr(),h=o.fallback,E=i.mode,o=Uu({mode:"visible",children:o.children},E),h=ls(h,E,a,null),h.flags|=2,o.return=i,h.return=i,o.sibling=h,i.child=o,da(i,e.child,null,a),o=i.child,o.memoizedState=Tf(a),o.childLanes=Af(e,v,a),i.memoizedState=Ef,i=h);else if(rr(i),sd(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var L=v.dgst;v=L,o=Error(s(419)),o.stack="",o.digest=v,Io({value:o,source:null,stack:null}),i=bf(e,i,a)}else if(Ce||Co(e,i,a,!1),v=(a&e.childLanes)!==0,Ce||v){if(v=Jt,v!==null&&(o=a&-a,o=(o&42)!==0?1:Qi(o),o=(o&(v.suspendedLanes|a))!==0?0:o,o!==0&&o!==b.retryLane))throw b.retryLane=o,na(e,o),mn(v,e,o),Np;E.data==="$?"||jf(),i=bf(e,i,a)}else E.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=b.treeContext,ae=Pn(E.nextSibling),Je=i,Bt=!0,hs=null,Wn=!1,e!==null&&(bn[Rn++]=Ri,bn[Rn++]=wi,bn[Rn++]=us,Ri=e.id,wi=e.overflow,us=i),i=Sf(i,o.children),i.flags|=4096);return i}return h?(sr(),h=o.fallback,E=i.mode,b=e.child,L=b.sibling,o=bi(b,{mode:"hidden",children:o.children}),o.subtreeFlags=b.subtreeFlags&65011712,L!==null?h=bi(L,h):(h=ls(h,E,a,null),h.flags|=2),h.return=i,o.return=i,o.sibling=h,i.child=o,o=h,h=i.child,E=e.child.memoizedState,E===null?E=Tf(a):(b=E.cachePool,b!==null?(L=Ae._currentValue,b=b.parent!==L?{parent:L,pool:L}:b):b=wg(),E={baseLanes:E.baseLanes|a,cachePool:b}),h.memoizedState=E,h.childLanes=Af(e,v,a),i.memoizedState=Ef,o):(rr(i),a=e.child,e=a.sibling,a=bi(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function Sf(e,i){return i=Uu({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Uu(e,i){return e=un(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function bf(e,i,a){return da(i,e.child,null,a),e=Sf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function qp(e,i,a){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),qh(e.return,i,a)}function Rf(e,i,a,o,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=a,d.tailMode=h)}function jp(e,i,a){var o=i.pendingProps,h=o.revealOrder,d=o.tail;if(Pe(e,i,o.children,a),o=Se.current,(o&2)!==0)o=o&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&qp(e,a,i);else if(e.tag===19)qp(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(J(Se,o),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Mu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Rf(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Mu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Rf(i,!0,a,null,d);break;case"together":Rf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ni(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),cr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Co(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=bi(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=bi(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function wf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&yu(e)))}function Q0(e,i,a){switch(i.tag){case 3:Zt(i,i.stateNode.containerInfo),Wi(i,Ae,e.memoizedState.cache),wo();break;case 27:case 5:Fi(i);break;case 4:Zt(i,i.stateNode.containerInfo);break;case 10:Wi(i,i.type,i.memoizedProps.value);break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(rr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Bp(e,i,a):(rr(i),e=Ni(e,i,a),e!==null?e.sibling:null);rr(i);break;case 19:var h=(e.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Co(e,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return jp(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),J(Se,Se.current),o)break;return null;case 22:case 23:return i.lanes=0,Pp(e,i,a);case 24:Wi(i,Ae,e.memoizedState.cache)}return Ni(e,i,a)}function Hp(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Ce=!0;else{if(!wf(e,a)&&(i.flags&128)===0)return Ce=!1,Q0(e,i,a);Ce=(e.flags&131072)!==0}else Ce=!1,Bt&&(i.flags&1048576)!==0&&vg(i,pu,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var o=i.elementType,h=o._init;if(o=h(o._payload),i.type=o,typeof o=="function")xh(o)?(e=ys(o,e),i.tag=1,i=Lp(null,i,o,e,a)):(i.tag=0,i=vf(null,i,o,e,a));else{if(o!=null){if(h=o.$$typeof,h===Vt){i.tag=11,i=Vp(null,i,o,e,a);break t}else if(h===V){i.tag=14,i=Mp(null,i,o,e,a);break t}}throw i=Ve(o)||o,Error(s(306,i,""))}}return i;case 0:return vf(e,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=ys(o,i.pendingProps),Lp(e,i,o,h,a);case 3:t:{if(Zt(i,i.stateNode.containerInfo),e===null)throw Error(s(387));o=i.pendingProps;var d=i.memoizedState;h=d.element,Kh(e,i),Po(i,o,null,a);var v=i.memoizedState;if(o=v.cache,Wi(i,Ae,o),o!==d.cache&&jh(i,[Ae],a,!0),xo(),o=v.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=zp(e,i,o,a);break t}else if(o!==h){h=An(Error(s(424)),i),Io(h),i=zp(e,i,o,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ae=Pn(e.firstChild),Je=i,Bt=!0,hs=null,Wn=!0,a=Tp(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(wo(),o===h){i=Ni(e,i,a);break t}Pe(e,i,o,a)}i=i.child}return i;case 26:return ku(e,i),e===null?(a=Yy(i.type,null,i.pendingProps,null))?i.memoizedState=a:Bt||(a=i.type,e=i.pendingProps,o=Zu(yt.current).createElement(a),o[ve]=i,o[de]=e,Ue(o,a,e),ue(o),i.stateNode=o):i.memoizedState=Yy(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Fi(i),e===null&&Bt&&(o=i.stateNode=Gy(i.type,i.pendingProps,yt.current),Je=i,Wn=!0,h=ae,mr(i.type)?(ad=h,ae=Pn(o.firstChild)):ae=h),Pe(e,i,i.pendingProps.children,a),ku(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Bt&&((h=o=ae)&&(o=EA(o,i.type,i.pendingProps,Wn),o!==null?(i.stateNode=o,Je=i,ae=Pn(o.firstChild),Wn=!1,h=!0):h=!1),h||fs(i)),Fi(i),h=i.type,d=i.pendingProps,v=e!==null?e.memoizedProps:null,o=d.children,nd(h,d)?o=null:v!==null&&nd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=tf(e,i,L0,null,null,a),il._currentValue=h),ku(e,i),Pe(e,i,o,a),i.child;case 6:return e===null&&Bt&&((e=a=ae)&&(a=TA(a,i.pendingProps,Wn),a!==null?(i.stateNode=a,Je=i,ae=null,e=!0):e=!1),e||fs(i)),null;case 13:return Bp(e,i,a);case 4:return Zt(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=da(i,null,o,a):Pe(e,i,o,a),i.child;case 11:return Vp(e,i,i.type,i.pendingProps,a);case 7:return Pe(e,i,i.pendingProps,a),i.child;case 8:return Pe(e,i,i.pendingProps.children,a),i.child;case 12:return Pe(e,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,Wi(i,i.type,o.value),Pe(e,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,ms(i),h=He(h),o=o(h),i.flags|=1,Pe(e,i,o,a),i.child;case 14:return Mp(e,i,i.type,i.pendingProps,a);case 15:return xp(e,i,i.type,i.pendingProps,a);case 19:return jp(e,i,a);case 31:return o=i.pendingProps,a=i.mode,o={mode:o.mode,children:o.children},e===null?(a=Uu(o,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=bi(e.child,o),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Pp(e,i,a);case 24:return ms(i),o=He(Ae),e===null?(h=Fh(),h===null&&(h=Jt,d=Hh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:o,cache:h},Yh(i),Wi(i,Ae,h)):((e.lanes&a)!==0&&(Kh(e,i),Po(i,null,null,a),xo()),h=e.memoizedState,d=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Wi(i,Ae,o)):(o=d.cache,Wi(i,Ae,o),o!==h.cache&&jh(i,[Ae],a,!0))),Pe(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Vi(e){e.flags|=4}function Gp(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Jy(i)){if(i=wn.current,i!==null&&((kt&4194048)===kt?ti!==null:(kt&62914560)!==kt&&(kt&536870912)===0||i!==ti))throw Vo=Qh,Ig;e.flags|=8192}}function Lu(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?ro():536870912,e.lanes|=i,ya|=i)}function jo(e,i){if(!Bt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ne(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,i}function Y0(e,i,a){var o=i.pendingProps;switch(Lh(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(i),null;case 1:return ne(i),null;case 3:return a=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Ci(Ae),qn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ro(i)?Vi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ag())),ne(i),null;case 26:return a=i.memoizedState,e===null?(Vi(i),a!==null?(ne(i),Gp(i,a)):(ne(i),i.flags&=-16777217)):a?a!==e.memoizedState?(Vi(i),ne(i),Gp(i,a)):(ne(i),i.flags&=-16777217):(e.memoizedProps!==o&&Vi(i),ne(i),i.flags&=-16777217),null;case 27:hi(i),a=yt.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Vi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return ne(i),null}e=ct.current,Ro(i)?Eg(i):(e=Gy(h,o,a),i.stateNode=e,Vi(i))}return ne(i),null;case 5:if(hi(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Vi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return ne(i),null}if(e=ct.current,Ro(i))Eg(i);else{switch(h=Zu(yt.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?h.createElement(a,{is:o.is}):h.createElement(a)}}e[ve]=i,e[de]=o;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(Ue(e,a,o),a){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Vi(i)}}return ne(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&Vi(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(e=yt.current,Ro(i)){if(e=i.stateNode,a=i.memoizedProps,o=null,h=Je,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[ve]=i,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||Uy(e.nodeValue,a)),e||fs(i)}else e=Zu(e).createTextNode(o),e[ve]=i,i.stateNode=e}return ne(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ro(i),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[ve]=i}else wo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ne(i),h=!1}else h=Ag(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Oi(i),i):(Oi(i),null)}if(Oi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=o!==null,e=e!==null&&e.memoizedState!==null,a){o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var d=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),Lu(i,i.updateQueue),ne(i),null;case 4:return qn(),e===null&&Zf(i.stateNode.containerInfo),ne(i),null;case 10:return Ci(i.type),ne(i),null;case 19:if(nt(Se),h=i.memoizedState,h===null)return ne(i),null;if(o=(i.flags&128)!==0,d=h.rendering,d===null)if(o)jo(h,!1);else{if(oe!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=Mu(e),d!==null){for(i.flags|=128,jo(h,!1),e=d.updateQueue,i.updateQueue=e,Lu(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)_g(a,e),a=a.sibling;return J(Se,Se.current&1|2),i.child}e=e.sibling}h.tail!==null&&pn()>qu&&(i.flags|=128,o=!0,jo(h,!1),i.lanes=4194304)}else{if(!o)if(e=Mu(d),e!==null){if(i.flags|=128,o=!0,e=e.updateQueue,i.updateQueue=e,Lu(i,e),jo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Bt)return ne(i),null}else 2*pn()-h.renderingStartTime>qu&&a!==536870912&&(i.flags|=128,o=!0,jo(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(e=h.last,e!==null?e.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=pn(),i.sibling=null,e=Se.current,J(Se,o?e&1|2:e&1),i):(ne(i),null);case 22:case 23:return Oi(i),Jh(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(ne(i),i.subtreeFlags&6&&(i.flags|=8192)):ne(i),a=i.updateQueue,a!==null&&Lu(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),e!==null&&nt(gs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ci(Ae),ne(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function K0(e,i){switch(Lh(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Ci(Ae),qn(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return hi(i),null;case 13:if(Oi(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));wo()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return nt(Se),null;case 4:return qn(),null;case 10:return Ci(i.type),null;case 22:case 23:return Oi(i),Jh(),e!==null&&nt(gs),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Ci(Ae),null;case 25:return null;default:return null}}function Fp(e,i){switch(Lh(i),i.tag){case 3:Ci(Ae),qn();break;case 26:case 27:case 5:hi(i);break;case 4:qn();break;case 13:Oi(i);break;case 19:nt(Se);break;case 10:Ci(i.type);break;case 22:case 23:Oi(i),Jh(),e!==null&&nt(gs);break;case 24:Ci(Ae)}}function Ho(e,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var d=a.create,v=a.inst;o=d(),v.destroy=o}a=a.next}while(a!==h)}}catch(E){$t(i,i.return,E)}}function ar(e,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&e)===e){var v=o.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,h=i;var b=a,L=E;try{L()}catch(G){$t(h,b,G)}}}o=o.next}while(o!==d)}}catch(G){$t(i,i.return,G)}}function Qp(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Mg(i,a)}catch(o){$t(e,e.return,o)}}}function Yp(e,i,a){a.props=ys(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){$t(e,i,o)}}function Go(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){$t(e,i,h)}}function ei(e,i){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){$t(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$t(e,i,h)}else a.current=null}function Kp(e){var i=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){$t(e,e.return,h)}}function If(e,i,a){try{var o=e.stateNode;gA(o,e.type,a,i),o[de]=i}catch(h){$t(e,e.return,h)}}function Xp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&mr(e.type)||e.tag===4}function Cf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Xp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&mr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Df(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=$u));else if(o!==4&&(o===27&&mr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(Df(e,i,a),e=e.sibling;e!==null;)Df(e,i,a),e=e.sibling}function zu(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(o!==4&&(o===27&&mr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(zu(e,i,a),e=e.sibling;e!==null;)zu(e,i,a),e=e.sibling}function $p(e){var i=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ue(i,o,a),i[ve]=e,i[de]=a}catch(d){$t(e,e.return,d)}}var Mi=!1,he=!1,Of=!1,Zp=typeof WeakSet=="function"?WeakSet:Set,De=null;function X0(e,i){if(e=e.containerInfo,td=ic,e=lg(e),Ih(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,E=-1,b=-1,L=0,G=0,Q=e,z=null;e:for(;;){for(var B;Q!==a||h!==0&&Q.nodeType!==3||(E=v+h),Q!==d||o!==0&&Q.nodeType!==3||(b=v+o),Q.nodeType===3&&(v+=Q.nodeValue.length),(B=Q.firstChild)!==null;)z=Q,Q=B;for(;;){if(Q===e)break e;if(z===a&&++L===h&&(E=v),z===d&&++G===o&&(b=v),(B=Q.nextSibling)!==null)break;Q=z,z=Q.parentNode}Q=B}a=E===-1||b===-1?null:{start:E,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(ed={focusedElem:e,selectionRange:a},ic=!1,De=i;De!==null;)if(i=De,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,De=e;else for(;De!==null;){switch(i=De,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,o=a.stateNode;try{var gt=ys(a.type,h,a.elementType===a.type);e=o.getSnapshotBeforeUpdate(gt,d),o.__reactInternalSnapshotBeforeUpdate=e}catch(ht){$t(a,a.return,ht)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)rd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":rd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,De=e;break}De=i.return}}function Jp(e,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:or(e,a),o&4&&Ho(5,a);break;case 1:if(or(e,a),o&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(v){$t(a,a.return,v)}else{var h=ys(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(v){$t(a,a.return,v)}}o&64&&Qp(a),o&512&&Go(a,a.return);break;case 3:if(or(e,a),o&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Mg(e,i)}catch(v){$t(a,a.return,v)}}break;case 27:i===null&&o&4&&$p(a);case 26:case 5:or(e,a),i===null&&o&4&&Kp(a),o&512&&Go(a,a.return);break;case 12:or(e,a);break;case 13:or(e,a),o&4&&ey(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=rA.bind(null,a),AA(e,a))));break;case 22:if(o=a.memoizedState!==null||Mi,!o){i=i!==null&&i.memoizedState!==null||he,h=Mi;var d=he;Mi=o,(he=i)&&!d?lr(e,a,(a.subtreeFlags&8772)!==0):or(e,a),Mi=h,he=d}break;case 30:break;default:or(e,a)}}function Wp(e){var i=e.alternate;i!==null&&(e.alternate=null,Wp(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Xi(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ee=null,en=!1;function xi(e,i,a){for(a=a.child;a!==null;)ty(e,i,a),a=a.sibling}function ty(e,i,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(se,a)}catch{}switch(a.tag){case 26:he||ei(a,i),xi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:he||ei(a,i);var o=ee,h=en;mr(a.type)&&(ee=a.stateNode,en=!1),xi(e,i,a),Wo(a.stateNode),ee=o,en=h;break;case 5:he||ei(a,i);case 6:if(o=ee,h=en,ee=null,xi(e,i,a),ee=o,en=h,ee!==null)if(en)try{(ee.nodeType===9?ee.body:ee.nodeName==="HTML"?ee.ownerDocument.body:ee).removeChild(a.stateNode)}catch(d){$t(a,i,d)}else try{ee.removeChild(a.stateNode)}catch(d){$t(a,i,d)}break;case 18:ee!==null&&(en?(e=ee,jy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ol(e)):jy(ee,a.stateNode));break;case 4:o=ee,h=en,ee=a.stateNode.containerInfo,en=!0,xi(e,i,a),ee=o,en=h;break;case 0:case 11:case 14:case 15:he||ar(2,a,i),he||ar(4,a,i),xi(e,i,a);break;case 1:he||(ei(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Yp(a,i,o)),xi(e,i,a);break;case 21:xi(e,i,a);break;case 22:he=(o=he)||a.memoizedState!==null,xi(e,i,a),he=o;break;default:xi(e,i,a)}}function ey(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ol(e)}catch(a){$t(i,i.return,a)}}function $0(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Zp),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Zp),i;default:throw Error(s(435,e.tag))}}function Nf(e,i){var a=$0(e);i.forEach(function(o){var h=sA.bind(null,e,o);a.has(o)||(a.add(o),o.then(h,h))})}function cn(e,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],d=e,v=i,E=v;t:for(;E!==null;){switch(E.tag){case 27:if(mr(E.type)){ee=E.stateNode,en=!1;break t}break;case 5:ee=E.stateNode,en=!1;break t;case 3:case 4:ee=E.stateNode.containerInfo,en=!0;break t}E=E.return}if(ee===null)throw Error(s(160));ty(d,v,h),ee=null,en=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)ny(i,e),i=i.sibling}var xn=null;function ny(e,i){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:cn(i,e),hn(e),o&4&&(ar(3,e,e.return),Ho(3,e),ar(5,e,e.return));break;case 1:cn(i,e),hn(e),o&512&&(he||a===null||ei(a,a.return)),o&64&&Mi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=xn;if(cn(i,e),hn(e),o&512&&(he||a===null||ei(a,a.return)),o&4){var d=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Qr]||d[ve]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),Ue(d,o,a),d[ve]=e,ue(d),o=d;break t;case"link":var v=$y("link","href",h).get(o+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(d=v[E],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break e}}d=h.createElement(o),Ue(d,o,a),h.head.appendChild(d);break;case"meta":if(v=$y("meta","content",h).get(o+(a.content||""))){for(E=0;E<v.length;E++)if(d=v[E],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break e}}d=h.createElement(o),Ue(d,o,a),h.head.appendChild(d);break;default:throw Error(s(468,o))}d[ve]=e,ue(d),o=d}e.stateNode=o}else Zy(h,e.type,e.stateNode);else e.stateNode=Xy(h,o,e.memoizedProps);else d!==o?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,o===null?Zy(h,e.type,e.stateNode):Xy(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&If(e,e.memoizedProps,a.memoizedProps)}break;case 27:cn(i,e),hn(e),o&512&&(he||a===null||ei(a,a.return)),a!==null&&o&4&&If(e,e.memoizedProps,a.memoizedProps);break;case 5:if(cn(i,e),hn(e),o&512&&(he||a===null||ei(a,a.return)),e.flags&32){h=e.stateNode;try{_n(h,"")}catch(B){$t(e,e.return,B)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,If(e,h,a!==null?a.memoizedProps:h)),o&1024&&(Of=!0);break;case 6:if(cn(i,e),hn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(B){$t(e,e.return,B)}}break;case 3:if(tc=null,h=xn,xn=Ju(i.containerInfo),cn(i,e),xn=h,hn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{ol(i.containerInfo)}catch(B){$t(e,e.return,B)}Of&&(Of=!1,iy(e));break;case 4:o=xn,xn=Ju(e.stateNode.containerInfo),cn(i,e),hn(e),xn=o;break;case 12:cn(i,e),hn(e);break;case 13:cn(i,e),hn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Uf=pn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Nf(e,o)));break;case 22:h=e.memoizedState!==null;var b=a!==null&&a.memoizedState!==null,L=Mi,G=he;if(Mi=L||h,he=G||b,cn(i,e),he=G,Mi=L,hn(e),o&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||b||Mi||he||_s(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){b=a=i;try{if(d=b.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=b.stateNode;var Q=b.memoizedProps.style,z=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(B){$t(b,b.return,B)}}}else if(i.tag===6){if(a===null){b=i;try{b.stateNode.nodeValue=h?"":b.memoizedProps}catch(B){$t(b,b.return,B)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Nf(e,a))));break;case 19:cn(i,e),hn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Nf(e,o)));break;case 30:break;case 21:break;default:cn(i,e),hn(e)}}function hn(e){var i=e.flags;if(i&2){try{for(var a,o=e.return;o!==null;){if(Xp(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Cf(e);zu(e,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(_n(v,""),a.flags&=-33);var E=Cf(e);zu(e,E,v);break;case 3:case 4:var b=a.stateNode.containerInfo,L=Cf(e);Df(e,L,b);break;default:throw Error(s(161))}}catch(G){$t(e,e.return,G)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function iy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;iy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function or(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Jp(e,i.alternate,i),i=i.sibling}function _s(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:ar(4,i,i.return),_s(i);break;case 1:ei(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Yp(i,i.return,a),_s(i);break;case 27:Wo(i.stateNode);case 26:case 5:ei(i,i.return),_s(i);break;case 22:i.memoizedState===null&&_s(i);break;case 30:_s(i);break;default:_s(i)}e=e.sibling}}function lr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=e,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:lr(h,d,a),Ho(4,d);break;case 1:if(lr(h,d,a),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){$t(o,o.return,L)}if(o=d,h=o.updateQueue,h!==null){var E=o.stateNode;try{var b=h.shared.hiddenCallbacks;if(b!==null)for(h.shared.hiddenCallbacks=null,h=0;h<b.length;h++)Vg(b[h],E)}catch(L){$t(o,o.return,L)}}a&&v&64&&Qp(d),Go(d,d.return);break;case 27:$p(d);case 26:case 5:lr(h,d,a),a&&o===null&&v&4&&Kp(d),Go(d,d.return);break;case 12:lr(h,d,a);break;case 13:lr(h,d,a),a&&v&4&&ey(h,d);break;case 22:d.memoizedState===null&&lr(h,d,a),Go(d,d.return);break;case 30:break;default:lr(h,d,a)}i=i.sibling}}function Vf(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Do(a))}function Mf(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Do(e))}function ni(e,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)ry(e,i,a,o),i=i.sibling}function ry(e,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ni(e,i,a,o),h&2048&&Ho(9,i);break;case 1:ni(e,i,a,o);break;case 3:ni(e,i,a,o),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Do(e)));break;case 12:if(h&2048){ni(e,i,a,o),e=i.stateNode;try{var d=i.memoizedProps,v=d.id,E=d.onPostCommit;typeof E=="function"&&E(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){$t(i,i.return,b)}}else ni(e,i,a,o);break;case 13:ni(e,i,a,o);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?ni(e,i,a,o):Fo(e,i):d._visibility&2?ni(e,i,a,o):(d._visibility|=2,ma(e,i,a,o,(i.subtreeFlags&10256)!==0)),h&2048&&Vf(v,i);break;case 24:ni(e,i,a,o),h&2048&&Mf(i.alternate,i);break;default:ni(e,i,a,o)}}function ma(e,i,a,o,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,v=i,E=a,b=o,L=v.flags;switch(v.tag){case 0:case 11:case 15:ma(d,v,E,b,h),Ho(8,v);break;case 23:break;case 22:var G=v.stateNode;v.memoizedState!==null?G._visibility&2?ma(d,v,E,b,h):Fo(d,v):(G._visibility|=2,ma(d,v,E,b,h)),h&&L&2048&&Vf(v.alternate,v);break;case 24:ma(d,v,E,b,h),h&&L&2048&&Mf(v.alternate,v);break;default:ma(d,v,E,b,h)}i=i.sibling}}function Fo(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,o=i,h=o.flags;switch(o.tag){case 22:Fo(a,o),h&2048&&Vf(o.alternate,o);break;case 24:Fo(a,o),h&2048&&Mf(o.alternate,o);break;default:Fo(a,o)}i=i.sibling}}var Qo=8192;function ga(e){if(e.subtreeFlags&Qo)for(e=e.child;e!==null;)sy(e),e=e.sibling}function sy(e){switch(e.tag){case 26:ga(e),e.flags&Qo&&e.memoizedState!==null&&PA(xn,e.memoizedState,e.memoizedProps);break;case 5:ga(e);break;case 3:case 4:var i=xn;xn=Ju(e.stateNode.containerInfo),ga(e),xn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Qo,Qo=16777216,ga(e),Qo=i):ga(e));break;default:ga(e)}}function ay(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Yo(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];De=o,ly(o,e)}ay(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)oy(e),e=e.sibling}function oy(e){switch(e.tag){case 0:case 11:case 15:Yo(e),e.flags&2048&&ar(9,e,e.return);break;case 3:Yo(e);break;case 12:Yo(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Bu(e)):Yo(e);break;default:Yo(e)}}function Bu(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];De=o,ly(o,e)}ay(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:ar(8,i,i.return),Bu(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Bu(i));break;default:Bu(i)}e=e.sibling}}function ly(e,i){for(;De!==null;){var a=De;switch(a.tag){case 0:case 11:case 15:ar(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Do(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,De=o;else t:for(a=e;De!==null;){o=De;var h=o.sibling,d=o.return;if(Wp(o),o===a){De=null;break t}if(h!==null){h.return=d,De=h;break t}De=d}}}var Z0={getCacheForType:function(e){var i=He(Ae),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},J0=typeof WeakMap=="function"?WeakMap:Map,Gt=0,Jt=null,Ct=null,kt=0,Ft=0,fn=null,ur=!1,pa=!1,xf=!1,Pi=0,oe=0,cr=0,vs=0,Pf=0,In=0,ya=0,Ko=null,nn=null,kf=!1,Uf=0,qu=1/0,ju=null,hr=null,ke=0,fr=null,_a=null,va=0,Lf=0,zf=null,uy=null,Xo=0,Bf=null;function dn(){if((Gt&2)!==0&&kt!==0)return kt&-kt;if(H.T!==null){var e=aa;return e!==0?e:Yf()}return Yi()}function cy(){In===0&&(In=(kt&536870912)===0||Bt?io():536870912);var e=wn.current;return e!==null&&(e.flags|=32),In}function mn(e,i,a){(e===Jt&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)&&(Ea(e,0),dr(e,kt,In,!1)),di(e,a),((Gt&2)===0||e!==Jt)&&(e===Jt&&((Gt&2)===0&&(vs|=a),oe===4&&dr(e,kt,In,!1)),ii(e))}function hy(e,i,a){if((Gt&6)!==0)throw Error(s(327));var o=!a&&(i&124)===0&&(i&e.expiredLanes)===0||Fr(e,i),h=o?eA(e,i):Hf(e,i,!0),d=o;do{if(h===0){pa&&!o&&dr(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!W0(a)){h=Hf(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var E=e;h=Ko;var b=E.current.memoizedState.isDehydrated;if(b&&(Ea(E,v).flags|=256),v=Hf(E,v,!1),v!==2){if(xf&&!b){E.errorRecoveryDisabledLanes|=d,vs|=d,h=4;break t}d=nn,nn=h,d!==null&&(nn===null?nn=d:nn.push.apply(nn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Ea(e,0),dr(e,i,0,!0);break}t:{switch(o=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:dr(o,i,In,!ur);break t;case 2:nn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Uf+300-pn(),10<h)){if(dr(o,i,In,!ur),Us(o,0,!0)!==0)break t;o.timeoutHandle=By(fy.bind(null,o,a,nn,ju,kf,i,In,vs,ya,ur,d,2,-0,0),h);break t}fy(o,a,nn,ju,kf,i,In,vs,ya,ur,d,0,-0,0)}}break}while(!0);ii(e)}function fy(e,i,a,o,h,d,v,E,b,L,G,Q,z,B){if(e.timeoutHandle=-1,Q=i.subtreeFlags,(Q&8192||(Q&16785408)===16785408)&&(nl={stylesheets:null,count:0,unsuspend:xA},sy(i),Q=kA(),Q!==null)){e.cancelPendingCommit=Q(vy.bind(null,e,i,d,a,o,h,v,E,b,G,1,z,B)),dr(e,d,v,!L);return}vy(e,i,d,a,o,h,v,E,b)}function W0(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],d=h.getSnapshot;h=h.value;try{if(!ln(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function dr(e,i,a,o){i&=~Pf,i&=~vs,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var h=i;0<h;){var d=31-je(h),v=1<<d;o[d]=-1,h&=~v}a!==0&&jn(e,a,i)}function Hu(){return(Gt&6)===0?($o(0),!1):!0}function qf(){if(Ct!==null){if(Ft===0)var e=Ct.return;else e=Ct,Ii=ds=null,rf(e),fa=null,Bo=0,e=Ct;for(;e!==null;)Fp(e.alternate,e),e=e.return;Ct=null}}function Ea(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,yA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),qf(),Jt=e,Ct=a=bi(e.current,null),kt=i,Ft=0,fn=null,ur=!1,pa=Fr(e,i),xf=!1,ya=In=Pf=vs=cr=oe=0,nn=Ko=null,kf=!1,(i&8)!==0&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var h=31-je(o),d=1<<h;i|=e[h],o&=~d}return Pi=i,hu(),a}function dy(e,i){bt=null,H.H=Ou,i===No||i===Eu?(i=Og(),Ft=3):i===Ig?(i=Og(),Ft=4):Ft=i===Np?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,fn=i,Ct===null&&(oe=1,Pu(e,An(i,e.current)))}function my(){var e=H.H;return H.H=Ou,e===null?Ou:e}function gy(){var e=H.A;return H.A=Z0,e}function jf(){oe=4,ur||(kt&4194048)!==kt&&wn.current!==null||(pa=!0),(cr&134217727)===0&&(vs&134217727)===0||Jt===null||dr(Jt,kt,In,!1)}function Hf(e,i,a){var o=Gt;Gt|=2;var h=my(),d=gy();(Jt!==e||kt!==i)&&(ju=null,Ea(e,i)),i=!1;var v=oe;t:do try{if(Ft!==0&&Ct!==null){var E=Ct,b=fn;switch(Ft){case 8:qf(),v=6;break t;case 3:case 2:case 9:case 6:wn.current===null&&(i=!0);var L=Ft;if(Ft=0,fn=null,Ta(e,E,b,L),a&&pa){v=0;break t}break;default:L=Ft,Ft=0,fn=null,Ta(e,E,b,L)}}tA(),v=oe;break}catch(G){dy(e,G)}while(!0);return i&&e.shellSuspendCounter++,Ii=ds=null,Gt=o,H.H=h,H.A=d,Ct===null&&(Jt=null,kt=0,hu()),v}function tA(){for(;Ct!==null;)py(Ct)}function eA(e,i){var a=Gt;Gt|=2;var o=my(),h=gy();Jt!==e||kt!==i?(ju=null,qu=pn()+500,Ea(e,i)):pa=Fr(e,i);t:do try{if(Ft!==0&&Ct!==null){i=Ct;var d=fn;e:switch(Ft){case 1:Ft=0,fn=null,Ta(e,i,d,1);break;case 2:case 9:if(Cg(d)){Ft=0,fn=null,yy(i);break}i=function(){Ft!==2&&Ft!==9||Jt!==e||(Ft=7),ii(e)},d.then(i,i);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:Cg(d)?(Ft=0,fn=null,yy(i)):(Ft=0,fn=null,Ta(e,i,d,7));break;case 5:var v=null;switch(Ct.tag){case 26:v=Ct.memoizedState;case 5:case 27:var E=Ct;if(!v||Jy(v)){Ft=0,fn=null;var b=E.sibling;if(b!==null)Ct=b;else{var L=E.return;L!==null?(Ct=L,Gu(L)):Ct=null}break e}}Ft=0,fn=null,Ta(e,i,d,5);break;case 6:Ft=0,fn=null,Ta(e,i,d,6);break;case 8:qf(),oe=6;break t;default:throw Error(s(462))}}nA();break}catch(G){dy(e,G)}while(!0);return Ii=ds=null,H.H=o,H.A=h,Gt=a,Ct!==null?0:(Jt=null,kt=0,hu(),oe)}function nA(){for(;Ct!==null&&!Wa();)py(Ct)}function py(e){var i=Hp(e.alternate,e,Pi);e.memoizedProps=e.pendingProps,i===null?Gu(e):Ct=i}function yy(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Up(a,i,i.pendingProps,i.type,void 0,kt);break;case 11:i=Up(a,i,i.pendingProps,i.type.render,i.ref,kt);break;case 5:rf(i);default:Fp(a,i),i=Ct=_g(i,Pi),i=Hp(a,i,Pi)}e.memoizedProps=e.pendingProps,i===null?Gu(e):Ct=i}function Ta(e,i,a,o){Ii=ds=null,rf(i),fa=null,Bo=0;var h=i.return;try{if(F0(e,h,i,a,kt)){oe=1,Pu(e,An(a,e.current)),Ct=null;return}}catch(d){if(h!==null)throw Ct=h,d;oe=1,Pu(e,An(a,e.current)),Ct=null;return}i.flags&32768?(Bt||o===1?e=!0:pa||(kt&536870912)!==0?e=!1:(ur=e=!0,(o===2||o===9||o===3||o===6)&&(o=wn.current,o!==null&&o.tag===13&&(o.flags|=16384))),_y(i,e)):Gu(i)}function Gu(e){var i=e;do{if((i.flags&32768)!==0){_y(i,ur);return}e=i.return;var a=Y0(i.alternate,i,Pi);if(a!==null){Ct=a;return}if(i=i.sibling,i!==null){Ct=i;return}Ct=i=e}while(i!==null);oe===0&&(oe=5)}function _y(e,i){do{var a=K0(e.alternate,e);if(a!==null){a.flags&=32767,Ct=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Ct=e;return}Ct=e=a}while(e!==null);oe=6,Ct=null}function vy(e,i,a,o,h,d,v,E,b){e.cancelPendingCommit=null;do Fu();while(ke!==0);if((Gt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Vh,so(e,a,d,v,E,b),e===Jt&&(Ct=Jt=null,kt=0),_a=i,fr=e,va=a,Lf=d,zf=h,uy=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,aA(qr,function(){return by(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=et.p,et.p=2,v=Gt,Gt|=4;try{X0(e,i,a)}finally{Gt=v,et.p=h,H.T=o}}ke=1,Ey(),Ty(),Ay()}}function Ey(){if(ke===1){ke=0;var e=fr,i=_a,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var o=et.p;et.p=2;var h=Gt;Gt|=4;try{ny(i,e);var d=ed,v=lg(e.containerInfo),E=d.focusedElem,b=d.selectionRange;if(v!==E&&E&&E.ownerDocument&&og(E.ownerDocument.documentElement,E)){if(b!==null&&Ih(E)){var L=b.start,G=b.end;if(G===void 0&&(G=L),"selectionStart"in E)E.selectionStart=L,E.selectionEnd=Math.min(G,E.value.length);else{var Q=E.ownerDocument||document,z=Q&&Q.defaultView||window;if(z.getSelection){var B=z.getSelection(),gt=E.textContent.length,ht=Math.min(b.start,gt),Xt=b.end===void 0?ht:Math.min(b.end,gt);!B.extend&&ht>Xt&&(v=Xt,Xt=ht,ht=v);var x=ag(E,ht),O=ag(E,Xt);if(x&&O&&(B.rangeCount!==1||B.anchorNode!==x.node||B.anchorOffset!==x.offset||B.focusNode!==O.node||B.focusOffset!==O.offset)){var U=Q.createRange();U.setStart(x.node,x.offset),B.removeAllRanges(),ht>Xt?(B.addRange(U),B.extend(O.node,O.offset)):(U.setEnd(O.node,O.offset),B.addRange(U))}}}}for(Q=[],B=E;B=B.parentNode;)B.nodeType===1&&Q.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var F=Q[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}ic=!!td,ed=td=null}finally{Gt=h,et.p=o,H.T=a}}e.current=i,ke=2}}function Ty(){if(ke===2){ke=0;var e=fr,i=_a,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var o=et.p;et.p=2;var h=Gt;Gt|=4;try{Jp(e,i.alternate,i)}finally{Gt=h,et.p=o,H.T=a}}ke=3}}function Ay(){if(ke===4||ke===3){ke=0,Bl();var e=fr,i=_a,a=va,o=uy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?ke=5:(ke=0,_a=fr=null,Sy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(hr=null),Ls(a),i=i.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(se,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=H.T,h=et.p,et.p=2,H.T=null;try{for(var d=e.onRecoverableError,v=0;v<o.length;v++){var E=o[v];d(E.value,{componentStack:E.stack})}}finally{H.T=i,et.p=h}}(va&3)!==0&&Fu(),ii(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===Bf?Xo++:(Xo=0,Bf=e):Xo=0,$o(0)}}function Sy(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Do(i)))}function Fu(e){return Ey(),Ty(),Ay(),by()}function by(){if(ke!==5)return!1;var e=fr,i=Lf;Lf=0;var a=Ls(va),o=H.T,h=et.p;try{et.p=32>a?32:a,H.T=null,a=zf,zf=null;var d=fr,v=va;if(ke=0,_a=fr=null,va=0,(Gt&6)!==0)throw Error(s(331));var E=Gt;if(Gt|=4,oy(d.current),ry(d,d.current,v,a),Gt=E,$o(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(se,d)}catch{}return!0}finally{et.p=h,H.T=o,Sy(e,i)}}function Ry(e,i,a){i=An(a,i),i=_f(e.stateNode,i,2),e=nr(e,i,2),e!==null&&(di(e,2),ii(e))}function $t(e,i,a){if(e.tag===3)Ry(e,e,a);else for(;i!==null;){if(i.tag===3){Ry(i,e,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(hr===null||!hr.has(o))){e=An(a,e),a=Dp(2),o=nr(i,a,2),o!==null&&(Op(a,o,i,e),di(o,2),ii(o));break}}i=i.return}}function Gf(e,i,a){var o=e.pingCache;if(o===null){o=e.pingCache=new J0;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(xf=!0,h.add(a),e=iA.bind(null,e,i,a),i.then(e,e))}function iA(e,i,a){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Jt===e&&(kt&a)===a&&(oe===4||oe===3&&(kt&62914560)===kt&&300>pn()-Uf?(Gt&2)===0&&Ea(e,0):Pf|=a,ya===kt&&(ya=0)),ii(e)}function wy(e,i){i===0&&(i=ro()),e=na(e,i),e!==null&&(di(e,i),ii(e))}function rA(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),wy(e,a)}function sA(e,i){var a=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),wy(e,a)}function aA(e,i){return zr(e,i)}var Qu=null,Aa=null,Ff=!1,Yu=!1,Qf=!1,Es=0;function ii(e){e!==Aa&&e.next===null&&(Aa===null?Qu=Aa=e:Aa=Aa.next=e),Yu=!0,Ff||(Ff=!0,lA())}function $o(e,i){if(!Qf&&Yu){Qf=!0;do for(var a=!1,o=Qu;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var v=o.suspendedLanes,E=o.pingedLanes;d=(1<<31-je(42|e)+1)-1,d&=h&~(v&~E),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Oy(o,d))}else d=kt,d=Us(o,o===Jt?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||Fr(o,d)||(a=!0,Oy(o,d));o=o.next}while(a);Qf=!1}}function oA(){Iy()}function Iy(){Yu=Ff=!1;var e=0;Es!==0&&(pA()&&(e=Es),Es=0);for(var i=pn(),a=null,o=Qu;o!==null;){var h=o.next,d=Cy(o,i);d===0?(o.next=null,a===null?Qu=h:a.next=h,h===null&&(Aa=a)):(a=o,(e!==0||(d&3)!==0)&&(Yu=!0)),o=h}$o(e)}function Cy(e,i){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-je(d),E=1<<v,b=h[v];b===-1?((E&a)===0||(E&o)!==0)&&(h[v]=no(E,i)):b<=i&&(e.expiredLanes|=E),d&=~E}if(i=Jt,a=kt,a=Us(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===i&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Br(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Fr(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(o!==null&&Br(o),Ls(a)){case 2:case 8:a=Ps;break;case 32:a=qr;break;case 268435456:a=ks;break;default:a=qr}return o=Dy.bind(null,e),a=zr(a,o),e.callbackPriority=i,e.callbackNode=a,i}return o!==null&&o!==null&&Br(o),e.callbackPriority=2,e.callbackNode=null,2}function Dy(e,i){if(ke!==0&&ke!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Fu()&&e.callbackNode!==a)return null;var o=kt;return o=Us(e,e===Jt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(hy(e,o,i),Cy(e,pn()),e.callbackNode!=null&&e.callbackNode===a?Dy.bind(null,e):null)}function Oy(e,i){if(Fu())return null;hy(e,i,!0)}function lA(){_A(function(){(Gt&6)!==0?zr(to,oA):Iy()})}function Yf(){return Es===0&&(Es=io()),Es}function Ny(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Gs(""+e)}function Vy(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function uA(e,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var d=Ny((h[de]||null).action),v=o.submitter;v&&(i=(i=v[de]||null)?Ny(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var E=new Fs("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Es!==0){var b=v?Vy(h,v):new FormData(h);df(a,{pending:!0,data:b,method:h.method,action:d},null,b)}}else typeof d=="function"&&(E.preventDefault(),b=v?Vy(h,v):new FormData(h),df(a,{pending:!0,data:b,method:h.method,action:d},d,b))},currentTarget:h}]})}}for(var Kf=0;Kf<Nh.length;Kf++){var Xf=Nh[Kf],cA=Xf.toLowerCase(),hA=Xf[0].toUpperCase()+Xf.slice(1);Mn(cA,"on"+hA)}Mn(hg,"onAnimationEnd"),Mn(fg,"onAnimationIteration"),Mn(dg,"onAnimationStart"),Mn("dblclick","onDoubleClick"),Mn("focusin","onFocus"),Mn("focusout","onBlur"),Mn(C0,"onTransitionRun"),Mn(D0,"onTransitionStart"),Mn(O0,"onTransitionCancel"),Mn(mg,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),Nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Nn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zo));function My(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var d=void 0;if(i)for(var v=o.length-1;0<=v;v--){var E=o[v],b=E.instance,L=E.currentTarget;if(E=E.listener,b!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=L;try{d(h)}catch(G){xu(G)}h.currentTarget=null,d=b}else for(v=0;v<o.length;v++){if(E=o[v],b=E.instance,L=E.currentTarget,E=E.listener,b!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=L;try{d(h)}catch(G){xu(G)}h.currentTarget=null,d=b}}}}function Dt(e,i){var a=i[oo];a===void 0&&(a=i[oo]=new Set);var o=e+"__bubble";a.has(o)||(xy(i,e,2,!1),a.add(o))}function $f(e,i,a){var o=0;i&&(o|=4),xy(a,e,o,i)}var Ku="_reactListening"+Math.random().toString(36).slice(2);function Zf(e){if(!e[Ku]){e[Ku]=!0,lo.forEach(function(a){a!=="selectionchange"&&(fA.has(a)||$f(a,!1,e),$f(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Ku]||(i[Ku]=!0,$f("selectionchange",!1,i))}}function xy(e,i,a,o){switch(r_(i)){case 2:var h=zA;break;case 8:h=BA;break;default:h=hd}a=h.bind(null,i,a,e),h=void 0,!En||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Jf(e,i,a,o,h){var d=o;if((i&1)===0&&(i&2)===0&&o!==null)t:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var E=o.stateNode.containerInfo;if(E===h)break;if(v===4)for(v=o.return;v!==null;){var b=v.tag;if((b===3||b===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;E!==null;){if(v=mi(E),v===null)return;if(b=v.tag,b===5||b===6||b===26||b===27){o=d=v;continue t}E=E.parentNode}}o=o.return}$l(function(){var L=d,G=vn(a),Q=[];t:{var z=gg.get(e);if(z!==void 0){var B=Fs,gt=e;switch(e){case"keypress":if(Kn(a)===0)break t;case"keydown":case"keyup":B=Zs;break;case"focusin":gt="focus",B=Ks;break;case"focusout":gt="blur",B=Ks;break;case"beforeblur":case"afterblur":B=Ks;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Tn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Sh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=ru;break;case hg:case fg:case dg:B=Xs;break;case mg:B=au;break;case"scroll":case"scrollend":B=Zl;break;case"wheel":B=Js;break;case"copy":case"cut":case"paste":B=$s;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=To;break;case"toggle":case"beforetoggle":B=lu}var ht=(i&4)!==0,Xt=!ht&&(e==="scroll"||e==="scrollend"),x=ht?z!==null?z+"Capture":null:z;ht=[];for(var O=L,U;O!==null;){var F=O;if(U=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||U===null||x===null||(F=Wr(O,x),F!=null&&ht.push(Jo(O,F,U))),Xt)break;O=O.return}0<ht.length&&(z=new B(z,gt,null,a,G),Q.push({event:z,listeners:ht}))}}if((i&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",z&&a!==_i&&(gt=a.relatedTarget||a.fromElement)&&(mi(gt)||gt[yn]))break t;if((B||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,B?(gt=a.relatedTarget||a.toElement,B=L,gt=gt?mi(gt):null,gt!==null&&(Xt=c(gt),ht=gt.tag,gt!==Xt||ht!==5&&ht!==27&&ht!==6)&&(gt=null)):(B=null,gt=L),B!==gt)){if(ht=Tn,F="onMouseLeave",x="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(ht=To,F="onPointerLeave",x="onPointerEnter",O="pointer"),Xt=B==null?z:Gn(B),U=gt==null?z:Gn(gt),z=new ht(F,O+"leave",B,a,G),z.target=Xt,z.relatedTarget=U,F=null,mi(G)===L&&(ht=new ht(x,O+"enter",gt,a,G),ht.target=U,ht.relatedTarget=Xt,F=ht),Xt=F,B&&gt)e:{for(ht=B,x=gt,O=0,U=ht;U;U=Sa(U))O++;for(U=0,F=x;F;F=Sa(F))U++;for(;0<O-U;)ht=Sa(ht),O--;for(;0<U-O;)x=Sa(x),U--;for(;O--;){if(ht===x||x!==null&&ht===x.alternate)break e;ht=Sa(ht),x=Sa(x)}ht=null}else ht=null;B!==null&&Py(Q,z,B,ht,!1),gt!==null&&Xt!==null&&Py(Q,Xt,gt,ht,!0)}}t:{if(z=L?Gn(L):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var st=tg;else if(Te(z))if(eg)st=R0;else{st=S0;var It=A0}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?L&&mo(L.elementType)&&(st=tg):st=b0;if(st&&(st=st(e,L))){Si(Q,st,a,G);break t}It&&It(e,z,L),e==="focusout"&&L&&z.type==="number"&&L.memoizedProps.value!=null&&Zi(z,"number",z.value)}switch(It=L?Gn(L):window,e){case"focusin":(Te(It)||It.contentEditable==="true")&&(Ws=It,Ch=L,bo=null);break;case"focusout":bo=Ch=Ws=null;break;case"mousedown":Dh=!0;break;case"contextmenu":case"mouseup":case"dragend":Dh=!1,ug(Q,a,G);break;case"selectionchange":if(I0)break;case"keydown":case"keyup":ug(Q,a,G)}var at;if(Zn)t:{switch(e){case"compositionstart":var dt="onCompositionStart";break t;case"compositionend":dt="onCompositionEnd";break t;case"compositionupdate":dt="onCompositionUpdate";break t}dt=void 0}else xt?q(e,a)&&(dt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(dt="onCompositionStart");dt&&(y&&a.locale!=="ko"&&(xt||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&xt&&(at=po()):(Yn=G,Ji="value"in Yn?Yn.value:Yn.textContent,xt=!0)),It=Xu(L,dt),0<It.length&&(dt=new vo(dt,e,null,a,G),Q.push({event:dt,listeners:It}),at?dt.data=at:(at=W(a),at!==null&&(dt.data=at)))),(at=m?Ee(e,a):Pt(e,a))&&(dt=Xu(L,"onBeforeInput"),0<dt.length&&(It=new vo("onBeforeInput","beforeinput",null,a,G),Q.push({event:It,listeners:dt}),It.data=at)),uA(Q,e,L,a,G)}My(Q,i)})}function Jo(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Xu(e,i){for(var a=i+"Capture",o=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Wr(e,a),h!=null&&o.unshift(Jo(e,h,d)),h=Wr(e,i),h!=null&&o.push(Jo(e,h,d))),e.tag===3)return o;e=e.return}return[]}function Sa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Py(e,i,a,o,h){for(var d=i._reactName,v=[];a!==null&&a!==o;){var E=a,b=E.alternate,L=E.stateNode;if(E=E.tag,b!==null&&b===o)break;E!==5&&E!==26&&E!==27||L===null||(b=L,h?(L=Wr(a,d),L!=null&&v.unshift(Jo(a,L,b))):h||(L=Wr(a,d),L!=null&&v.push(Jo(a,L,b)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var dA=/\r\n?/g,mA=/\u0000|\uFFFD/g;function ky(e){return(typeof e=="string"?e:""+e).replace(dA,`
`).replace(mA,"")}function Uy(e,i){return i=ky(i),ky(e)===i}function $u(){}function Kt(e,i,a,o,h,d){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||_n(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&_n(e,""+o);break;case"className":Fn(e,"class",o);break;case"tabIndex":Fn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Fn(e,a,o);break;case"style":fo(e,o,d);break;case"data":if(i!=="object"){Fn(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Gs(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Kt(e,i,"name",h.name,h,null),Kt(e,i,"formEncType",h.formEncType,h,null),Kt(e,i,"formMethod",h.formMethod,h,null),Kt(e,i,"formTarget",h.formTarget,h,null)):(Kt(e,i,"encType",h.encType,h,null),Kt(e,i,"method",h.method,h,null),Kt(e,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Gs(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=$u);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=Gs(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Dt("beforetoggle",e),Dt("toggle",e),$i(e,"popover",o);break;case"xlinkActuate":Me(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Me(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Me(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Me(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Me(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Me(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Me(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Me(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Me(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":$i(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Th.get(a)||a,$i(e,a,o))}}function Wf(e,i,a,o,h,d){switch(a){case"style":fo(e,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?_n(e,o):(typeof o=="number"||typeof o=="bigint")&&_n(e,""+o);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=$u);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zs.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[de]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):$i(e,a,o)}}}function Ue(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",e),Dt("load",e);var o=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Kt(e,i,d,v,a,null)}}h&&Kt(e,i,"srcSet",a.srcSet,a,null),o&&Kt(e,i,"src",a.src,a,null);return;case"input":Dt("invalid",e);var E=d=v=h=null,b=null,L=null;for(o in a)if(a.hasOwnProperty(o)){var G=a[o];if(G!=null)switch(o){case"name":h=G;break;case"type":v=G;break;case"checked":b=G;break;case"defaultChecked":L=G;break;case"value":d=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:Kt(e,i,o,G,a,null)}}$r(e,d,E,b,L,v,h,!1),Hs(e);return;case"select":Dt("invalid",e),o=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":d=E;break;case"defaultValue":v=E;break;case"multiple":o=E;default:Kt(e,i,h,E,a,null)}i=d,a=v,e.multiple=!!o,i!=null?yi(e,!!o,i,!1):a!=null&&yi(e,!!o,a,!0);return;case"textarea":Dt("invalid",e),d=h=o=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":o=E;break;case"defaultValue":h=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Kt(e,i,v,E,a,null)}Zr(e,o,h,d),Hs(e);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(o=a[b],o!=null))switch(b){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Kt(e,i,b,o,a,null)}return;case"dialog":Dt("beforetoggle",e),Dt("toggle",e),Dt("cancel",e),Dt("close",e);break;case"iframe":case"object":Dt("load",e);break;case"video":case"audio":for(o=0;o<Zo.length;o++)Dt(Zo[o],e);break;case"image":Dt("error",e),Dt("load",e);break;case"details":Dt("toggle",e);break;case"embed":case"source":case"link":Dt("error",e),Dt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(o=a[L],o!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Kt(e,i,L,o,a,null)}return;default:if(mo(i)){for(G in a)a.hasOwnProperty(G)&&(o=a[G],o!==void 0&&Wf(e,i,G,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Kt(e,i,E,o,a,null))}function gA(e,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,E=null,b=null,L=null,G=null;for(B in a){var Q=a[B];if(a.hasOwnProperty(B)&&Q!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":b=Q;default:o.hasOwnProperty(B)||Kt(e,i,B,null,o,Q)}}for(var z in o){var B=o[z];if(Q=a[z],o.hasOwnProperty(z)&&(B!=null||Q!=null))switch(z){case"type":d=B;break;case"name":h=B;break;case"checked":L=B;break;case"defaultChecked":G=B;break;case"value":v=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:B!==Q&&Kt(e,i,z,B,o,Q)}}on(e,v,E,b,L,G,d,h);return;case"select":B=v=E=z=null;for(d in a)if(b=a[d],a.hasOwnProperty(d)&&b!=null)switch(d){case"value":break;case"multiple":B=b;default:o.hasOwnProperty(d)||Kt(e,i,d,null,o,b)}for(h in o)if(d=o[h],b=a[h],o.hasOwnProperty(h)&&(d!=null||b!=null))switch(h){case"value":z=d;break;case"defaultValue":E=d;break;case"multiple":v=d;default:d!==b&&Kt(e,i,h,d,o,b)}i=E,a=v,o=B,z!=null?yi(e,!!a,z,!1):!!o!=!!a&&(i!=null?yi(e,!!a,i,!0):yi(e,!!a,a?[]:"",!1));return;case"textarea":B=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Kt(e,i,E,null,o,h)}for(v in o)if(h=o[v],d=a[v],o.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":z=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Kt(e,i,v,h,o,d)}Qt(e,z,B);return;case"option":for(var gt in a)if(z=a[gt],a.hasOwnProperty(gt)&&z!=null&&!o.hasOwnProperty(gt))switch(gt){case"selected":e.selected=!1;break;default:Kt(e,i,gt,null,o,z)}for(b in o)if(z=o[b],B=a[b],o.hasOwnProperty(b)&&z!==B&&(z!=null||B!=null))switch(b){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Kt(e,i,b,z,o,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ht in a)z=a[ht],a.hasOwnProperty(ht)&&z!=null&&!o.hasOwnProperty(ht)&&Kt(e,i,ht,null,o,z);for(L in o)if(z=o[L],B=a[L],o.hasOwnProperty(L)&&z!==B&&(z!=null||B!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,i));break;default:Kt(e,i,L,z,o,B)}return;default:if(mo(i)){for(var Xt in a)z=a[Xt],a.hasOwnProperty(Xt)&&z!==void 0&&!o.hasOwnProperty(Xt)&&Wf(e,i,Xt,void 0,o,z);for(G in o)z=o[G],B=a[G],!o.hasOwnProperty(G)||z===B||z===void 0&&B===void 0||Wf(e,i,G,z,o,B);return}}for(var x in a)z=a[x],a.hasOwnProperty(x)&&z!=null&&!o.hasOwnProperty(x)&&Kt(e,i,x,null,o,z);for(Q in o)z=o[Q],B=a[Q],!o.hasOwnProperty(Q)||z===B||z==null&&B==null||Kt(e,i,Q,z,o,B)}var td=null,ed=null;function Zu(e){return e.nodeType===9?e:e.ownerDocument}function Ly(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zy(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function nd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var id=null;function pA(){var e=window.event;return e&&e.type==="popstate"?e===id?!1:(id=e,!0):(id=null,!1)}var By=typeof setTimeout=="function"?setTimeout:void 0,yA=typeof clearTimeout=="function"?clearTimeout:void 0,qy=typeof Promise=="function"?Promise:void 0,_A=typeof queueMicrotask=="function"?queueMicrotask:typeof qy<"u"?function(e){return qy.resolve(null).then(e).catch(vA)}:By;function vA(e){setTimeout(function(){throw e})}function mr(e){return e==="head"}function jy(e,i){var a=i,o=0,h=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<o&&8>o){a=o;var v=e.ownerDocument;if(a&1&&Wo(v.documentElement),a&2&&Wo(v.body),a&4)for(a=v.head,Wo(a),v=a.firstChild;v;){var E=v.nextSibling,b=v.nodeName;v[Qr]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=E}}if(h===0){e.removeChild(d),ol(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:o=a.charCodeAt(0)-48;else o=0;a=d}while(a);ol(i)}function rd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":rd(a),Xi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function EA(e,i,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Qr])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Pn(e.nextSibling),e===null)break}return null}function TA(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Pn(e.nextSibling),e===null))return null;return e}function sd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function AA(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Pn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var ad=null;function Hy(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function Gy(e,i,a){switch(i=Zu(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Wo(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Xi(e)}var Cn=new Map,Fy=new Set;function Ju(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ki=et.d;et.d={f:SA,r:bA,D:RA,C:wA,L:IA,m:CA,X:OA,S:DA,M:NA};function SA(){var e=ki.f(),i=Hu();return e||i}function bA(e){var i=Hn(e);i!==null&&i.tag===5&&i.type==="form"?hp(i):ki.r(e)}var ba=typeof document>"u"?null:document;function Qy(e,i,a){var o=ba;if(o&&typeof i=="string"&&i){var h=me(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Fy.has(h)||(Fy.add(h),e={rel:e,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Ue(i,"link",e),ue(i),o.head.appendChild(i)))}}function RA(e){ki.D(e),Qy("dns-prefetch",e,null)}function wA(e,i){ki.C(e,i),Qy("preconnect",e,i)}function IA(e,i,a){ki.L(e,i,a);var o=ba;if(o&&e&&i){var h='link[rel="preload"][as="'+me(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+me(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+me(a.imageSizes)+'"]')):h+='[href="'+me(e)+'"]';var d=h;switch(i){case"style":d=Ra(e);break;case"script":d=wa(e)}Cn.has(d)||(e=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Cn.set(d,e),o.querySelector(h)!==null||i==="style"&&o.querySelector(tl(d))||i==="script"&&o.querySelector(el(d))||(i=o.createElement("link"),Ue(i,"link",e),ue(i),o.head.appendChild(i)))}}function CA(e,i){ki.m(e,i);var a=ba;if(a&&e){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+me(o)+'"][href="'+me(e)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=wa(e)}if(!Cn.has(d)&&(e=T({rel:"modulepreload",href:e},i),Cn.set(d,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(el(d)))return}o=a.createElement("link"),Ue(o,"link",e),ue(o),a.head.appendChild(o)}}}function DA(e,i,a){ki.S(e,i,a);var o=ba;if(o&&e){var h=Xe(o).hoistableStyles,d=Ra(e);i=i||"default";var v=h.get(d);if(!v){var E={loading:0,preload:null};if(v=o.querySelector(tl(d)))E.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Cn.get(d))&&od(e,a);var b=v=o.createElement("link");ue(b),Ue(b,"link",e),b._p=new Promise(function(L,G){b.onload=L,b.onerror=G}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Wu(v,i,o)}v={type:"stylesheet",instance:v,count:1,state:E},h.set(d,v)}}}function OA(e,i){ki.X(e,i);var a=ba;if(a&&e){var o=Xe(a).hoistableScripts,h=wa(e),d=o.get(h);d||(d=a.querySelector(el(h)),d||(e=T({src:e,async:!0},i),(i=Cn.get(h))&&ld(e,i),d=a.createElement("script"),ue(d),Ue(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function NA(e,i){ki.M(e,i);var a=ba;if(a&&e){var o=Xe(a).hoistableScripts,h=wa(e),d=o.get(h);d||(d=a.querySelector(el(h)),d||(e=T({src:e,async:!0,type:"module"},i),(i=Cn.get(h))&&ld(e,i),d=a.createElement("script"),ue(d),Ue(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function Yy(e,i,a,o){var h=(h=yt.current)?Ju(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ra(a.href),a=Xe(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ra(a.href);var d=Xe(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(tl(e)))&&!d._p&&(v.instance=d,v.state.loading=5),Cn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Cn.set(e,a),d||VA(h,e,a,v.state))),i&&o===null)throw Error(s(528,""));return v}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=wa(a),a=Xe(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ra(e){return'href="'+me(e)+'"'}function tl(e){return'link[rel="stylesheet"]['+e+"]"}function Ky(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function VA(e,i,a,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Ue(i,"link",a),ue(i),e.head.appendChild(i))}function wa(e){return'[src="'+me(e)+'"]'}function el(e){return"script[async]"+e}function Xy(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+me(a.href)+'"]');if(o)return i.instance=o,ue(o),o;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ue(o),Ue(o,"style",h),Wu(o,a.precedence,e),i.instance=o;case"stylesheet":h=Ra(a.href);var d=e.querySelector(tl(h));if(d)return i.state.loading|=4,i.instance=d,ue(d),d;o=Ky(a),(h=Cn.get(h))&&od(o,h),d=(e.ownerDocument||e).createElement("link"),ue(d);var v=d;return v._p=new Promise(function(E,b){v.onload=E,v.onerror=b}),Ue(d,"link",o),i.state.loading|=4,Wu(d,a.precedence,e),i.instance=d;case"script":return d=wa(a.src),(h=e.querySelector(el(d)))?(i.instance=h,ue(h),h):(o=a,(h=Cn.get(d))&&(o=T({},a),ld(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),ue(h),Ue(h,"link",o),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,Wu(o,a.precedence,e));return i.instance}function Wu(e,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,v=0;v<o.length;v++){var E=o[v];if(E.dataset.precedence===i)d=E;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function od(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function ld(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var tc=null;function $y(e,i,a){if(tc===null){var o=new Map,h=tc=new Map;h.set(a,o)}else h=tc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[Qr]||d[ve]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=e+v;var E=o.get(v);E?E.push(d):o.set(v,[d])}}return o}function Zy(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function MA(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Jy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var nl=null;function xA(){}function PA(e,i,a){if(nl===null)throw Error(s(475));var o=nl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Ra(a.href),d=e.querySelector(tl(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=ec.bind(o),e.then(o,o)),i.state.loading|=4,i.instance=d,ue(d);return}d=e.ownerDocument||e,a=Ky(a),(h=Cn.get(h))&&od(a,h),d=d.createElement("link"),ue(d);var v=d;v._p=new Promise(function(E,b){v.onload=E,v.onerror=b}),Ue(d,"link",a),i.instance=d}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(o.count++,i=ec.bind(o),e.addEventListener("load",i),e.addEventListener("error",i))}}function kA(){if(nl===null)throw Error(s(475));var e=nl;return e.stylesheets&&e.count===0&&ud(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&ud(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function ec(){if(this.count--,this.count===0){if(this.stylesheets)ud(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var nc=null;function ud(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,nc=new Map,i.forEach(UA,e),nc=null,ec.call(e))}function UA(e,i){if(!(i.state.loading&4)){var a=nc.get(e);if(a)var o=a.get(null);else{a=new Map,nc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),o=v)}o&&a.set(null,o)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||o,d===o&&a.set(null,h),a.set(v,h),this.count++,o=ec.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var il={$$typeof:ut,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function LA(e,i,a,o,h,d,v,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fi(0),this.hiddenUpdates=fi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Wy(e,i,a,o,h,d,v,E,b,L,G,Q){return e=new LA(e,i,a,v,E,b,L,Q),i=1,d===!0&&(i|=24),d=un(3,null,null,i),e.current=d,d.stateNode=e,i=Hh(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:o,isDehydrated:a,cache:i},Yh(d),e}function t_(e){return e?(e=ia,e):ia}function e_(e,i,a,o,h,d){h=t_(h),o.context===null?o.context=h:o.pendingContext=h,o=er(i),o.payload={element:a},d=d===void 0?null:d,d!==null&&(o.callback=d),a=nr(e,o,i),a!==null&&(mn(a,e,i),Mo(a,e,i))}function n_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function cd(e,i){n_(e,i),(e=e.alternate)&&n_(e,i)}function i_(e){if(e.tag===13){var i=na(e,67108864);i!==null&&mn(i,e,67108864),cd(e,67108864)}}var ic=!0;function zA(e,i,a,o){var h=H.T;H.T=null;var d=et.p;try{et.p=2,hd(e,i,a,o)}finally{et.p=d,H.T=h}}function BA(e,i,a,o){var h=H.T;H.T=null;var d=et.p;try{et.p=8,hd(e,i,a,o)}finally{et.p=d,H.T=h}}function hd(e,i,a,o){if(ic){var h=fd(o);if(h===null)Jf(e,i,o,rc,a),s_(e,o);else if(jA(h,e,i,a,o))o.stopPropagation();else if(s_(e,o),i&4&&-1<qA.indexOf(e)){for(;h!==null;){var d=Hn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=On(d.pendingLanes);if(v!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var b=1<<31-je(v);E.entanglements[1]|=b,v&=~b}ii(d),(Gt&6)===0&&(qu=pn()+500,$o(0))}}break;case 13:E=na(d,2),E!==null&&mn(E,d,2),Hu(),cd(d,2)}if(d=fd(o),d===null&&Jf(e,i,o,rc,a),d===h)break;h=d}h!==null&&o.stopPropagation()}else Jf(e,i,o,null,a)}}function fd(e){return e=vn(e),dd(e)}var rc=null;function dd(e){if(rc=null,e=mi(e),e!==null){var i=c(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return rc=e,null}function r_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gh()){case to:return 2;case Ps:return 8;case qr:case ph:return 32;case ks:return 268435456;default:return 32}default:return 32}}var md=!1,gr=null,pr=null,yr=null,rl=new Map,sl=new Map,_r=[],qA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function s_(e,i){switch(e){case"focusin":case"focusout":gr=null;break;case"dragenter":case"dragleave":pr=null;break;case"mouseover":case"mouseout":yr=null;break;case"pointerover":case"pointerout":rl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":sl.delete(i.pointerId)}}function al(e,i,a,o,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Hn(i),i!==null&&i_(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function jA(e,i,a,o,h){switch(i){case"focusin":return gr=al(gr,e,i,a,o,h),!0;case"dragenter":return pr=al(pr,e,i,a,o,h),!0;case"mouseover":return yr=al(yr,e,i,a,o,h),!0;case"pointerover":var d=h.pointerId;return rl.set(d,al(rl.get(d)||null,e,i,a,o,h)),!0;case"gotpointercapture":return d=h.pointerId,sl.set(d,al(sl.get(d)||null,e,i,a,o,h)),!0}return!1}function a_(e){var i=mi(e.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,Hl(e.priority,function(){if(a.tag===13){var o=dn();o=Qi(o);var h=na(a,o);h!==null&&mn(h,a,o),cd(a,o)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function sc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=fd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);_i=o,a.target.dispatchEvent(o),_i=null}else return i=Hn(a),i!==null&&i_(i),e.blockedOn=a,!1;i.shift()}return!0}function o_(e,i,a){sc(e)&&a.delete(i)}function HA(){md=!1,gr!==null&&sc(gr)&&(gr=null),pr!==null&&sc(pr)&&(pr=null),yr!==null&&sc(yr)&&(yr=null),rl.forEach(o_),sl.forEach(o_)}function ac(e,i){e.blockedOn===i&&(e.blockedOn=null,md||(md=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,HA)))}var oc=null;function l_(e){oc!==e&&(oc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){oc===e&&(oc=null);for(var i=0;i<e.length;i+=3){var a=e[i],o=e[i+1],h=e[i+2];if(typeof o!="function"){if(dd(o||a)===null)continue;break}var d=Hn(a);d!==null&&(e.splice(i,3),i-=3,df(d,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function ol(e){function i(b){return ac(b,e)}gr!==null&&ac(gr,e),pr!==null&&ac(pr,e),yr!==null&&ac(yr,e),rl.forEach(i),sl.forEach(i);for(var a=0;a<_r.length;a++){var o=_r[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<_r.length&&(a=_r[0],a.blockedOn===null);)a_(a),a.blockedOn===null&&_r.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],d=a[o+1],v=h[de]||null;if(typeof d=="function")v||l_(a);else if(v){var E=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[de]||null)E=v.formAction;else if(dd(h)!==null)continue}else E=v.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),l_(a)}}}function gd(e){this._internalRoot=e}lc.prototype.render=gd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,o=dn();e_(a,o,e,i,null,null)},lc.prototype.unmount=gd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;e_(e.current,2,null,e,null,null),Hu(),i[yn]=null}};function lc(e){this._internalRoot=e}lc.prototype.unstable_scheduleHydration=function(e){if(e){var i=Yi();e={blockedOn:null,target:e,priority:i};for(var a=0;a<_r.length&&i!==0&&i<_r[a].priority;a++);_r.splice(a,0,e),a===0&&a_(e)}};var u_=t.version;if(u_!=="19.1.0")throw Error(s(527,u_,"19.1.0"));et.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=p(i),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var GA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uc.isDisabled&&uc.supportsFiber)try{se=uc.inject(GA),Ht=uc}catch{}}return ul.createRoot=function(e,i){if(!l(e))throw Error(s(299));var a=!1,o="",h=Rp,d=wp,v=Ip,E=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=Wy(e,1,!1,null,null,a,o,h,d,v,E,null),e[yn]=i.current,Zf(e),new gd(i)},ul.hydrateRoot=function(e,i,a){if(!l(e))throw Error(s(299));var o=!1,h="",d=Rp,v=wp,E=Ip,b=null,L=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks),a.formState!==void 0&&(L=a.formState)),i=Wy(e,1,!0,i,a??null,o,h,d,v,E,b,L),i.context=t_(null),a=i.current,o=dn(),o=Qi(o),h=er(o),h.callback=null,nr(a,h,o),a=o,i.current.lanes=a,di(i,a),ii(i),e[yn]=i.current,Zf(e),new lc(i)},ul.version="19.1.0",ul}var v_;function tS(){if(v_)return _d.exports;v_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),_d.exports=WA(),_d.exports}var eS=tS();const nS=()=>{};var E_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},iS=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const l=r[n++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[n++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[n++],f=r[n++],g=r[n++],p=((l&7)<<18|(c&63)<<12|(f&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const c=r[n++],f=r[n++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|f&63)}}return t.join("")},Zv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],f=l+1<r.length,g=f?r[l+1]:0,p=l+2<r.length,_=p?r[l+2]:0,T=c>>2,R=(c&3)<<4|g>>4;let C=(g&15)<<2|_>>6,j=_&63;p||(j=64,f||(C=64)),s.push(n[T],n[R],n[C],n[j])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray($v(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):iS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=n[r.charAt(l++)],g=l<r.length?n[r.charAt(l)]:0;++l;const _=l<r.length?n[r.charAt(l)]:64;++l;const R=l<r.length?n[r.charAt(l)]:64;if(++l,c==null||g==null||_==null||R==null)throw new rS;const C=c<<2|g>>4;if(s.push(C),_!==64){const j=g<<4&240|_>>2;if(s.push(j),R!==64){const $=_<<6&192|R;s.push($)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class rS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sS=function(r){const t=$v(r);return Zv.encodeByteArray(t,!0)},wc=function(r){return sS(r).replace(/\./g,"")},Jv=function(r){try{return Zv.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS=()=>aS().__FIREBASE_DEFAULTS__,lS=()=>{if(typeof process>"u"||typeof E_>"u")return;const r=E_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},uS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&Jv(r[1]);return t&&JSON.parse(t)},Qc=()=>{try{return nS()||oS()||lS()||uS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Wv=r=>{var t,n;return(n=(t=Qc())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},cS=r=>{const t=Wv(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},tE=()=>{var r;return(r=Qc())===null||r===void 0?void 0:r.config},eE=r=>{var t;return(t=Qc())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fa(r){return r.endsWith(".cloudworkstations.dev")}async function nE(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[wc(JSON.stringify(n)),wc(JSON.stringify(f)),""].join(".")}const ml={};function dS(){const r={prod:[],emulator:[]};for(const t of Object.keys(ml))ml[t]?r.emulator.push(t):r.prod.push(t);return r}function mS(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let T_=!1;function iE(r,t){if(typeof window>"u"||typeof document>"u"||!Fa(window.location.host)||ml[r]===t||ml[r]||T_)return;ml[r]=t;function n(C){return`__firebase__banner__${C}`}const s="__firebase__banner",c=dS().prod.length>0;function f(){const C=document.getElementById(s);C&&C.remove()}function g(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function p(C,j){C.setAttribute("width","24"),C.setAttribute("id",j),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function _(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{T_=!0,f()},C}function T(C,j){C.setAttribute("id",j),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function R(){const C=mS(s),j=n("text"),$=document.getElementById(j)||document.createElement("span"),tt=n("learnmore"),Z=document.getElementById(tt)||document.createElement("a"),Tt=n("preprendIcon"),ft=document.getElementById(Tt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const ut=C.element;g(ut),T(Z,tt);const Vt=_();p(ft,Tt),ut.append(ft,$,Z,Vt),document.body.appendChild(ut)}c?($.innerText="Preview backend disconnected.",ft.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ft.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",R):R()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ke())}function pS(){var r;const t=(r=Qc())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _S(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function vS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ES(){const r=Ke();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function TS(){return!pS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function AS(){try{return typeof indexedDB=="object"}catch{return!1}}function SS(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var c;t(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS="FirebaseError";class Gi extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=bS,Object.setPrototypeOf(this,Gi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dl.prototype.create)}}class Dl{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},l=`${this.service}/${t}`,c=this.errors[t],f=c?RS(c,s):"Error",g=`${this.serviceName}: ${f} (${l}).`;return new Gi(l,g,s)}}function RS(r,t){return r.replace(wS,(n,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const wS=/\{\$([^}]+)}/g;function IS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function ws(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const l of n){if(!s.includes(l))return!1;const c=r[l],f=t[l];if(A_(c)&&A_(f)){if(!ws(c,f))return!1}else if(c!==f)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function A_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function CS(r,t){const n=new DS(r,t);return n.subscribe.bind(n)}class DS{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let l;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");OS(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:s},l.next===void 0&&(l.next=Ad),l.error===void 0&&(l.error=Ad),l.complete===void 0&&(l.complete=Ad);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function OS(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function Ad(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(r){return r&&r._delegate?r._delegate:r}class Is{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new hS;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t?.identifier),l=(n=t?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(MS(t))try{this.getOrInitializeService({instanceIdentifier:Ts})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=Ts){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ts){return this.instances.has(t)}getOptions(t=Ts){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&f.resolve(l)}return l}onInit(t,n){var s;const l=this.normalizeInstanceIdentifier(n),c=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;c.add(t),this.onInitCallbacks.set(l,c);const f=this.instances.get(l);return f&&t(f,l),()=>{c.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:VS(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Ts){return this.component?this.component.multipleInstances?t:Ts:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function VS(r){return r===Ts?void 0:r}function MS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new NS(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ot||(Ot={}));const PS={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},kS=Ot.INFO,US={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},LS=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=US[t];if(l)console[l](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class am{constructor(t){this.name=t,this._logLevel=kS,this._logHandler=LS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?PS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const zS=(r,t)=>t.some(n=>r instanceof n);let S_,b_;function BS(){return S_||(S_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qS(){return b_||(b_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rE=new WeakMap,Md=new WeakMap,sE=new WeakMap,Sd=new WeakMap,om=new WeakMap;function jS(r){const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",f)},c=()=>{n(Rr(r.result)),l()},f=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&rE.set(n,r)}).catch(()=>{}),om.set(t,r),t}function HS(r){if(Md.has(r))return;const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",f),r.removeEventListener("abort",f)},c=()=>{n(),l()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",f),r.addEventListener("abort",f)});Md.set(r,t)}let xd={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Md.get(r);if(t==="objectStoreNames")return r.objectStoreNames||sE.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Rr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function GS(r){xd=r(xd)}function FS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(bd(this),t,...n);return sE.set(s,t.sort?t.sort():[t]),Rr(s)}:qS().includes(r)?function(...t){return r.apply(bd(this),t),Rr(rE.get(this))}:function(...t){return Rr(r.apply(bd(this),t))}}function QS(r){return typeof r=="function"?FS(r):(r instanceof IDBTransaction&&HS(r),zS(r,BS())?new Proxy(r,xd):r)}function Rr(r){if(r instanceof IDBRequest)return jS(r);if(Sd.has(r))return Sd.get(r);const t=QS(r);return t!==r&&(Sd.set(r,t),om.set(t,r)),t}const bd=r=>om.get(r);function YS(r,t,{blocked:n,upgrade:s,blocking:l,terminated:c}={}){const f=indexedDB.open(r,t),g=Rr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Rr(f.result),p.oldVersion,p.newVersion,Rr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const KS=["get","getKey","getAll","getAllKeys","count"],XS=["put","add","delete","clear"],Rd=new Map;function R_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Rd.get(t))return Rd.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,l=XS.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||KS.includes(n)))return;const c=async function(f,...g){const p=this.transaction(f,l?"readwrite":"readonly");let _=p.store;return s&&(_=_.index(g.shift())),(await Promise.all([_[n](...g),l&&p.done]))[0]};return Rd.set(t,c),c}GS(r=>({...r,get:(t,n,s)=>R_(t,n)||r.get(t,n,s),has:(t,n)=>!!R_(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ZS(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function ZS(r){const t=r.getComponent();return t?.type==="VERSION"}const Pd="@firebase/app",w_="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi=new am("@firebase/app"),JS="@firebase/app-compat",WS="@firebase/analytics-compat",t1="@firebase/analytics",e1="@firebase/app-check-compat",n1="@firebase/app-check",i1="@firebase/auth",r1="@firebase/auth-compat",s1="@firebase/database",a1="@firebase/data-connect",o1="@firebase/database-compat",l1="@firebase/functions",u1="@firebase/functions-compat",c1="@firebase/installations",h1="@firebase/installations-compat",f1="@firebase/messaging",d1="@firebase/messaging-compat",m1="@firebase/performance",g1="@firebase/performance-compat",p1="@firebase/remote-config",y1="@firebase/remote-config-compat",_1="@firebase/storage",v1="@firebase/storage-compat",E1="@firebase/firestore",T1="@firebase/ai",A1="@firebase/firestore-compat",S1="firebase",b1="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd="[DEFAULT]",R1={[Pd]:"fire-core",[JS]:"fire-core-compat",[t1]:"fire-analytics",[WS]:"fire-analytics-compat",[n1]:"fire-app-check",[e1]:"fire-app-check-compat",[i1]:"fire-auth",[r1]:"fire-auth-compat",[s1]:"fire-rtdb",[a1]:"fire-data-connect",[o1]:"fire-rtdb-compat",[l1]:"fire-fn",[u1]:"fire-fn-compat",[c1]:"fire-iid",[h1]:"fire-iid-compat",[f1]:"fire-fcm",[d1]:"fire-fcm-compat",[m1]:"fire-perf",[g1]:"fire-perf-compat",[p1]:"fire-rc",[y1]:"fire-rc-compat",[_1]:"fire-gcs",[v1]:"fire-gcs-compat",[E1]:"fire-fst",[A1]:"fire-fst-compat",[T1]:"fire-vertex","fire-js":"fire-js",[S1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic=new Map,w1=new Map,Ud=new Map;function I_(r,t){try{r.container.addComponent(t)}catch(n){Bi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function ka(r){const t=r.name;if(Ud.has(t))return Bi.debug(`There were multiple attempts to register component ${t}.`),!1;Ud.set(t,r);for(const n of Ic.values())I_(n,r);for(const n of w1.values())I_(n,r);return!0}function lm(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function kn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wr=new Dl("app","Firebase",I1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Is("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw wr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa=b1;function aE(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:kd,automaticDataCollectionEnabled:!0},t),l=s.name;if(typeof l!="string"||!l)throw wr.create("bad-app-name",{appName:String(l)});if(n||(n=tE()),!n)throw wr.create("no-options");const c=Ic.get(l);if(c){if(ws(n,c.options)&&ws(s,c.config))return c;throw wr.create("duplicate-app",{appName:l})}const f=new xS(l);for(const p of Ud.values())f.addComponent(p);const g=new C1(n,s,f);return Ic.set(l,g),g}function oE(r=kd){const t=Ic.get(r);if(!t&&r===kd&&tE())return aE();if(!t)throw wr.create("no-app",{appName:r});return t}function Ir(r,t,n){var s;let l=(s=R1[r])!==null&&s!==void 0?s:r;n&&(l+=`-${n}`);const c=l.match(/\s|\//),f=t.match(/\s|\//);if(c||f){const g=[`Unable to register library "${l}" with version "${t}":`];c&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&f&&g.push("and"),f&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Bi.warn(g.join(" "));return}ka(new Is(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="firebase-heartbeat-database",O1=1,El="firebase-heartbeat-store";let wd=null;function lE(){return wd||(wd=YS(D1,O1,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(El)}catch(n){console.warn(n)}}}}).catch(r=>{throw wr.create("idb-open",{originalErrorMessage:r.message})})),wd}async function N1(r){try{const n=(await lE()).transaction(El),s=await n.objectStore(El).get(uE(r));return await n.done,s}catch(t){if(t instanceof Gi)Bi.warn(t.message);else{const n=wr.create("idb-get",{originalErrorMessage:t?.message});Bi.warn(n.message)}}}async function C_(r,t){try{const s=(await lE()).transaction(El,"readwrite");await s.objectStore(El).put(t,uE(r)),await s.done}catch(n){if(n instanceof Gi)Bi.warn(n.message);else{const s=wr.create("idb-set",{originalErrorMessage:n?.message});Bi.warn(s.message)}}}function uE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1=1024,M1=30;class x1{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new k1(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=D_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>M1){const f=U1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Bi.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=D_(),{heartbeatsToSend:s,unsentEntries:l}=P1(this._heartbeatsCache.heartbeats),c=wc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return Bi.warn(n),""}}}function D_(){return new Date().toISOString().substring(0,10)}function P1(r,t=V1){const n=[];let s=r.slice();for(const l of r){const c=n.find(f=>f.agent===l.agent);if(c){if(c.dates.push(l.date),O_(n)>t){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),O_(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class k1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AS()?SS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await N1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return C_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return C_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function O_(r){return wc(JSON.stringify({version:2,heartbeats:r})).length}function U1(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(r){ka(new Is("platform-logger",t=>new $S(t),"PRIVATE")),ka(new Is("heartbeat",t=>new x1(t),"PRIVATE")),Ir(Pd,w_,r),Ir(Pd,w_,"esm2017"),Ir("fire-js","")}L1("");function um(r,t){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(r);l<s.length;l++)t.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(r,s[l])&&(n[s[l]]=r[s[l]]);return n}function cE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const z1=cE,hE=new Dl("auth","Firebase",cE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cc=new am("@firebase/auth");function B1(r,...t){Cc.logLevel<=Ot.WARN&&Cc.warn(`Auth (${Qa}): ${r}`,...t)}function pc(r,...t){Cc.logLevel<=Ot.ERROR&&Cc.error(`Auth (${Qa}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(r,...t){throw hm(r,...t)}function zn(r,...t){return hm(r,...t)}function cm(r,t,n){const s=Object.assign(Object.assign({},z1()),{[t]:n});return new Dl("auth","Firebase",s).create(t,{appName:r.name})}function bs(r){return cm(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function q1(r,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&ui(r,"argument-error"),cm(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function hm(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return hE.create(r,...t)}function pt(r,t,...n){if(!r)throw hm(t,...n)}function Li(r){const t="INTERNAL ASSERTION FAILED: "+r;throw pc(t),new Error(t)}function qi(r,t){r||Li(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ld(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function j1(){return N_()==="http:"||N_()==="https:"}function N_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(j1()||_S()||"connection"in navigator)?navigator.onLine:!0}function G1(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(t,n){this.shortDelay=t,this.longDelay=n,qi(n>t,"Short delay should be less than long delay!"),this.isMobile=gS()||vS()}get(){return H1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(r,t){qi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Li("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Li("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Li("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Y1=new Nl(3e4,6e4);function dm(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function Ya(r,t,n,s,l={}){return dE(r,l,async()=>{let c={},f={};s&&(t==="GET"?f=s:c={body:JSON.stringify(s)});const g=Ol(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const _=Object.assign({method:t,headers:p},c);return yS()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&Fa(r.emulatorConfig.host)&&(_.credentials="include"),fE.fetch()(await mE(r,r.config.apiHost,n,g),_)})}async function dE(r,t,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},F1),t);try{const l=new X1(r),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw cc(r,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const g=c.ok?f.errorMessage:f.error.message,[p,_]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw cc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw cc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw cc(r,"user-disabled",f);const T=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw cm(r,T,_);ui(r,T)}}catch(l){if(l instanceof Gi)throw l;ui(r,"network-request-failed",{message:String(l)})}}async function K1(r,t,n,s,l={}){const c=await Ya(r,t,n,s,l);return"mfaPendingCredential"in c&&ui(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function mE(r,t,n,s){const l=`${t}${n}?${s}`,c=r,f=c.config.emulator?fm(r.config,l):`${r.config.apiScheme}://${l}`;return Q1.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(f).toString():f}class X1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(zn(this.auth,"network-request-failed")),Y1.get())})}}function cc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=zn(r,t,s);return l.customData._tokenResponse=n,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $1(r,t){return Ya(r,"POST","/v1/accounts:delete",t)}async function Dc(r,t){return Ya(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Z1(r,t=!1){const n=Be(r),s=await n.getIdToken(t),l=mm(s);pt(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,f=c?.sign_in_provider;return{claims:l,token:s,authTime:gl(Id(l.auth_time)),issuedAtTime:gl(Id(l.iat)),expirationTime:gl(Id(l.exp)),signInProvider:f||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Id(r){return Number(r)*1e3}function mm(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return pc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Jv(n);return l?JSON.parse(l):(pc("Failed to decode base64 JWT payload"),null)}catch(l){return pc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function V_(r){const t=mm(r);return pt(t,"internal-error"),pt(typeof t.exp<"u","internal-error"),pt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tl(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Gi&&J1(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function J1({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const l=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=gl(this.lastLoginAt),this.creationTime=gl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oc(r){var t;const n=r.auth,s=await r.getIdToken(),l=await Tl(r,Dc(n,{idToken:s}));pt(l?.users.length,n,"internal-error");const c=l.users[0];r._notifyReloadListener(c);const f=!((t=c.providerUserInfo)===null||t===void 0)&&t.length?gE(c.providerUserInfo):[],g=eb(r.providerData,f),p=r.isAnonymous,_=!(r.email&&c.passwordHash)&&!g?.length,T=p?_:!1,R={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:g,metadata:new zd(c.createdAt,c.lastLoginAt),isAnonymous:T};Object.assign(r,R)}async function tb(r){const t=Be(r);await Oc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function eb(r,t){return[...r.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function gE(r){return r.map(t=>{var{providerId:n}=t,s=um(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nb(r,t){const n=await dE(r,{},async()=>{const s=Ol({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,f=await mE(r,l,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:g,body:s};return r.emulatorConfig&&Fa(r.emulatorConfig.host)&&(p.credentials="include"),fE.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ib(r,t){return Ya(r,"POST","/v2/accounts:revokeToken",dm(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){pt(t.idToken,"internal-error"),pt(typeof t.idToken<"u","internal-error"),pt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):V_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){pt(t.length!==0,"internal-error");const n=V_(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(pt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:l,expiresIn:c}=await nb(t,n);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:l,expirationTime:c}=n,f=new Na;return s&&(pt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),l&&(pt(typeof l=="string","internal-error",{appName:t}),f.accessToken=l),c&&(pt(typeof c=="number","internal-error",{appName:t}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Na,this.toJSON())}_performRefresh(){return Li("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(r,t){pt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Ln{constructor(t){var{uid:n,auth:s,stsTokenManager:l}=t,c=um(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new W1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new zd(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(t){const n=await Tl(this,this.stsTokenManager.getToken(this.auth,t));return pt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return Z1(this,t)}reload(){return tb(this)}_assign(t){this!==t&&(pt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Ln(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Oc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(kn(this.auth.app))return Promise.reject(bs(this.auth));const t=await this.getIdToken();return await Tl(this,$1(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,l,c,f,g,p,_,T;const R=(s=n.displayName)!==null&&s!==void 0?s:void 0,C=(l=n.email)!==null&&l!==void 0?l:void 0,j=(c=n.phoneNumber)!==null&&c!==void 0?c:void 0,$=(f=n.photoURL)!==null&&f!==void 0?f:void 0,tt=(g=n.tenantId)!==null&&g!==void 0?g:void 0,Z=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,Tt=(_=n.createdAt)!==null&&_!==void 0?_:void 0,ft=(T=n.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:ut,emailVerified:Vt,isAnonymous:_t,providerData:Mt,stsTokenManager:V}=n;pt(ut&&V,t,"internal-error");const S=Na.fromJSON(this.name,V);pt(typeof ut=="string",t,"internal-error"),Er(R,t.name),Er(C,t.name),pt(typeof Vt=="boolean",t,"internal-error"),pt(typeof _t=="boolean",t,"internal-error"),Er(j,t.name),Er($,t.name),Er(tt,t.name),Er(Z,t.name),Er(Tt,t.name),Er(ft,t.name);const w=new Ln({uid:ut,auth:t,email:C,emailVerified:Vt,displayName:R,isAnonymous:_t,photoURL:$,phoneNumber:j,tenantId:tt,stsTokenManager:S,createdAt:Tt,lastLoginAt:ft});return Mt&&Array.isArray(Mt)&&(w.providerData=Mt.map(N=>Object.assign({},N))),Z&&(w._redirectEventId=Z),w}static async _fromIdTokenResponse(t,n,s=!1){const l=new Na;l.updateFromServerResponse(n);const c=new Ln({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await Oc(c),c}static async _fromGetAccountInfoResponse(t,n,s){const l=n.users[0];pt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?gE(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!c?.length,g=new Na;g.updateFromIdToken(s);const p=new Ln({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:f}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new zd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(p,_),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_=new Map;function zi(r){qi(r instanceof Function,"Expected a class definition");let t=M_.get(r);return t?(qi(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,M_.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}pE.type="NONE";const x_=pE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(r,t,n){return`firebase:${r}:${t}:${n}`}class Va{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=yc(this.userKey,l.apiKey,c),this.fullPersistenceKey=yc("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Dc(this.auth,{idToken:t}).catch(()=>{});return n?Ln._fromGetAccountInfoResponse(this.auth,n,t):null}return Ln._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Va(zi(x_),t,s);const l=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||zi(x_);const f=yc(s,t.config.apiKey,t.name);let g=null;for(const _ of n)try{const T=await _._get(f);if(T){let R;if(typeof T=="string"){const C=await Dc(t,{idToken:T}).catch(()=>{});if(!C)break;R=await Ln._fromGetAccountInfoResponse(t,C,T)}else R=Ln._fromJSON(t,T);_!==c&&(g=R),c=_;break}}catch{}const p=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Va(c,t,s):(c=p[0],g&&await c._set(f,g.toJSON()),await Promise.all(n.map(async _=>{if(_!==c)try{await _._remove(f)}catch{}})),new Va(c,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(EE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(yE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(AE(t))return"Blackberry";if(SE(t))return"Webos";if(_E(t))return"Safari";if((t.includes("chrome/")||vE(t))&&!t.includes("edge/"))return"Chrome";if(TE(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function yE(r=Ke()){return/firefox\//i.test(r)}function _E(r=Ke()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function vE(r=Ke()){return/crios\//i.test(r)}function EE(r=Ke()){return/iemobile/i.test(r)}function TE(r=Ke()){return/android/i.test(r)}function AE(r=Ke()){return/blackberry/i.test(r)}function SE(r=Ke()){return/webos/i.test(r)}function gm(r=Ke()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function rb(r=Ke()){var t;return gm(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function sb(){return ES()&&document.documentMode===10}function bE(r=Ke()){return gm(r)||TE(r)||SE(r)||AE(r)||/windows phone/i.test(r)||EE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(r,t=[]){let n;switch(r){case"Browser":n=P_(Ke());break;case"Worker":n=`${P_(Ke())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Qa}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=c=>new Promise((f,g)=>{try{const p=t(c);f(p)}catch(p){g(p)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ob(r,t={}){return Ya(r,"GET","/v2/passwordPolicy",dm(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb=6;class ub{constructor(t){var n,s,l,c;const f=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:lb,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(c=t.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,l,c,f,g;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsUppercaseLetter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(g=p.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),p}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(t,n,s,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new k_(this),this.idTokenSubscription=new k_(this),this.beforeStateQueue=new ab(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=zi(n)),this._initializationPromise=this.queue(async()=>{var s,l,c;if(!this._deleted&&(this.persistenceManager=await Va.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((l=this._popupRedirectResolver)===null||l===void 0)&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((c=this.currentUser)===null||c===void 0?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Dc(this,{idToken:t}),s=await Ln._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(kn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(g,g))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let l=s,c=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,g=l?._redirectEventId,p=await this.tryRedirectSignIn(t);(!f||f===g)&&p?.user&&(l=p.user,c=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(l)}catch(f){l=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Oc(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=G1()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(kn(this.app))return Promise.reject(bs(this));const n=t?Be(t):null;return n&&pt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&pt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return kn(this.app)?Promise.reject(bs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return kn(this.app)?Promise.reject(bs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await ob(this),n=new ub(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Dl("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await ib(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&zi(t)||this._popupRedirectResolver;pt(n,this,"argument-error"),this.redirectPersistenceManager=await Va.create(this,[zi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(pt(g,this,"internal-error"),g.then(()=>{f||c(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,l);return()=>{f=!0,p()}}else{const p=t.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=RE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const l=await this._getAppCheckToken();return l&&(n["X-Firebase-AppCheck"]=l),n}async _getAppCheckToken(){var t;if(kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n?.error&&B1(`Error while retrieving App Check token: ${n.error}`),n?.token}}function Yc(r){return Be(r)}class k_{constructor(t){this.auth=t,this.observer=null,this.addObserver=CS(n=>this.observer=n)}get next(){return pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hb(r){pm=r}function fb(r){return pm.loadJS(r)}function db(){return pm.gapiScript}function mb(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(r,t){const n=lm(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(ws(c,t??{}))return l;ui(l,"already-initialized")}return n.initialize({options:t})}function pb(r,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(zi);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function yb(r,t,n){const s=Yc(r);pt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,c=wE(t),{host:f,port:g}=_b(t),p=g===null?"":`:${g}`,_={url:`${c}//${f}${p}/`},T=Object.freeze({host:f,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){pt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),pt(ws(_,s.config.emulator)&&ws(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,Fa(f)?(nE(`${c}//${f}${p}`),iE("Auth",!0)):vb()}function wE(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function _b(r){const t=wE(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:U_(s.substr(c.length+1))}}else{const[c,f]=s.split(":");return{host:c,port:U_(f)}}}function U_(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function vb(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Li("not implemented")}_getIdTokenResponse(t){return Li("not implemented")}_linkToIdToken(t,n){return Li("not implemented")}_getReauthenticationResolver(t){return Li("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ma(r,t){return K1(r,"POST","/v1/accounts:signInWithIdp",dm(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb="http://localhost";class Cs extends IE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Cs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):ui("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l}=n,c=um(n,["providerId","signInMethod"]);if(!s||!l)return null;const f=new Cs(s,l);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return Ma(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Ma(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Ma(t,n)}buildRequest(){const t={requestUri:Eb,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Ol(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl extends ym{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr extends Vl{constructor(){super("facebook.com")}static credential(t){return Cs._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Tr.credentialFromTaggedObject(t)}static credentialFromError(t){return Tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Tr.credential(t.oauthAccessToken)}catch{return null}}}Tr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Tr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends Vl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Cs._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Ui.credentialFromTaggedObject(t)}static credentialFromError(t){return Ui.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Ui.credential(n,s)}catch{return null}}}Ui.GOOGLE_SIGN_IN_METHOD="google.com";Ui.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends Vl{constructor(){super("github.com")}static credential(t){return Cs._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ar.credentialFromTaggedObject(t)}static credentialFromError(t){return Ar.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ar.credential(t.oauthAccessToken)}catch{return null}}}Ar.GITHUB_SIGN_IN_METHOD="github.com";Ar.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends Vl{constructor(){super("twitter.com")}static credential(t,n){return Cs._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Sr.credentialFromTaggedObject(t)}static credentialFromError(t){return Sr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Sr.credential(n,s)}catch{return null}}}Sr.TWITTER_SIGN_IN_METHOD="twitter.com";Sr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,l=!1){const c=await Ln._fromIdTokenResponse(t,s,l),f=L_(s);return new Ua({user:c,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const l=L_(s);return new Ua({user:t,providerId:l,_tokenResponse:s,operationType:n})}}function L_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc extends Gi{constructor(t,n,s,l){var c;super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Nc.prototype),this.customData={appName:t.name,tenantId:(c=t.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,l){return new Nc(t,n,s,l)}}function CE(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Nc._fromErrorAndOperation(r,c,t,s):c})}async function Tb(r,t,n=!1){const s=await Tl(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Ua._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ab(r,t,n=!1){const{auth:s}=r;if(kn(s.app))return Promise.reject(bs(s));const l="reauthenticate";try{const c=await Tl(r,CE(s,l,t,r),n);pt(c.idToken,s,"internal-error");const f=mm(c.idToken);pt(f,s,"internal-error");const{sub:g}=f;return pt(r.uid===g,s,"user-mismatch"),Ua._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&ui(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sb(r,t,n=!1){if(kn(r.app))return Promise.reject(bs(r));const s="signIn",l=await CE(r,s,t),c=await Ua._fromIdTokenResponse(r,s,l);return n||await r._updateCurrentUser(c.user),c}function bb(r,t,n,s){return Be(r).onIdTokenChanged(t,n,s)}function Rb(r,t,n){return Be(r).beforeAuthStateChanged(t,n)}function DE(r,t,n,s){return Be(r).onAuthStateChanged(t,n,s)}const Vc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Vc,"1"),this.storage.removeItem(Vc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb=1e3,Ib=10;class NE extends OE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&t(n,l,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,g,p)=>{this.notifyListeners(f,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},c=this.storage.getItem(s);sb()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,Ib):l()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},wb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}NE.type="LOCAL";const Cb=NE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE extends OE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}VE.type="SESSION";const ME=VE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const s=new Kc(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:l,data:c}=n.data,f=this.handlersMap[l];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(f).map(async _=>_(n.origin,c)),p=await Db(g);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,f;return new Promise((g,p)=>{const _=_m("",20);l.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:l,onMessage(R){const C=R;if(C.data.eventId===_)switch(C.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(C.data.response);break;default:clearTimeout(T),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:_,data:n},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(){return window}function Nb(r){si().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(){return typeof si().WorkerGlobalScope<"u"&&typeof si().importScripts=="function"}async function Vb(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Mb(){var r;return((r=navigator?.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function xb(){return xE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE="firebaseLocalStorageDb",Pb=1,Mc="firebaseLocalStorage",kE="fbase_key";class Ml{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xc(r,t){return r.transaction([Mc],t?"readwrite":"readonly").objectStore(Mc)}function kb(){const r=indexedDB.deleteDatabase(PE);return new Ml(r).toPromise()}function Bd(){const r=indexedDB.open(PE,Pb);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Mc,{keyPath:kE})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Mc)?t(s):(s.close(),await kb(),t(await Bd()))})})}async function z_(r,t,n){const s=Xc(r,!0).put({[kE]:t,value:n});return new Ml(s).toPromise()}async function Ub(r,t){const n=Xc(r,!1).get(t),s=await new Ml(n).toPromise();return s===void 0?null:s.value}function B_(r,t){const n=Xc(r,!0).delete(t);return new Ml(n).toPromise()}const Lb=800,zb=3;class UE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Bd(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>zb)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kc._getInstance(xb()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await Vb(),!this.activeServiceWorker)return;this.sender=new Ob(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Mb()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Bd();return await z_(t,Vc,"1"),await B_(t,Vc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>z_(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>Ub(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>B_(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Xc(l,!1).getAll();return new Ml(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Lb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}UE.type="LOCAL";const Bb=UE;new Nl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(r,t){return t?zi(t):(pt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm extends IE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ma(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Ma(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Ma(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function qb(r){return Sb(r.auth,new vm(r),r.bypassAuthState)}function jb(r){const{auth:t,user:n}=r;return pt(n,t,"internal-error"),Ab(n,new vm(r),r.bypassAuthState)}async function Hb(r){const{auth:t,user:n}=r;return pt(n,t,"internal-error"),Tb(n,new vm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(t,n,s,l,c=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:l,tenantId:c,error:f,type:g}=t;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return qb;case"linkViaPopup":case"linkViaRedirect":return Hb;case"reauthViaPopup":case"reauthViaRedirect":return jb;default:ui(this.auth,"internal-error")}}resolve(t){qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb=new Nl(2e3,1e4);async function Fb(r,t,n){if(kn(r.app))return Promise.reject(zn(r,"operation-not-supported-in-this-environment"));const s=Yc(r);q1(r,t,ym);const l=LE(s,n);return new As(s,"signInViaPopup",t,l).executeNotNull()}class As extends zE{constructor(t,n,s,l,c){super(t,n,l,c),this.provider=s,this.authWindow=null,this.pollId=null,As.currentPopupAction&&As.currentPopupAction.cancel(),As.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return pt(t,this.auth,"internal-error"),t}async onExecution(){qi(this.filter.length===1,"Popup operations only handle one event");const t=_m();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,As.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Gb.get())};t()}}As.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb="pendingRedirect",_c=new Map;class Yb extends zE{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=_c.get(this.auth._key());if(!t){try{const s=await Kb(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}_c.set(this.auth._key(),t)}return this.bypassAuthState||_c.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Kb(r,t){const n=Zb(t),s=$b(r);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function Xb(r,t){_c.set(r._key(),t)}function $b(r){return zi(r._redirectPersistence)}function Zb(r){return yc(Qb,r.config.apiKey,r.name)}async function Jb(r,t,n=!1){if(kn(r.app))return Promise.reject(bs(r));const s=Yc(r),l=LE(s,t),f=await new Yb(s,l,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb=10*60*1e3;class tR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!eR(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!BE(t)){const l=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(zn(this.auth,l))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Wb&&this.cachedEventUids.clear(),this.cachedEventUids.has(q_(t))}saveEventToCache(t){this.cachedEventUids.add(q_(t)),this.lastProcessedEventTime=Date.now()}}function q_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function BE({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function eR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return BE(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nR(r,t={}){return Ya(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rR=/^https?/;async function sR(r){if(r.config.emulator)return;const{authorizedDomains:t}=await nR(r);for(const n of t)try{if(aR(n))return}catch{}ui(r,"unauthorized-domain")}function aR(r){const t=Ld(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!rR.test(n))return!1;if(iR.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR=new Nl(3e4,6e4);function j_(){const r=si().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function lR(r){return new Promise((t,n)=>{var s,l,c;function f(){j_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{j_(),n(zn(r,"network-request-failed"))},timeout:oR.get()})}if(!((l=(s=si().gapi)===null||s===void 0?void 0:s.iframes)===null||l===void 0)&&l.Iframe)t(gapi.iframes.getContext());else if(!((c=si().gapi)===null||c===void 0)&&c.load)f();else{const g=mb("iframefcb");return si()[g]=()=>{gapi.load?f():n(zn(r,"network-request-failed"))},fb(`${db()}?onload=${g}`).catch(p=>n(p))}}).catch(t=>{throw vc=null,t})}let vc=null;function uR(r){return vc=vc||lR(r),vc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR=new Nl(5e3,15e3),hR="__/auth/iframe",fR="emulator/auth/iframe",dR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gR(r){const t=r.config;pt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?fm(t,fR):`https://${r.config.authDomain}/${hR}`,s={apiKey:t.apiKey,appName:r.name,v:Qa},l=mR.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${Ol(s).slice(1)}`}async function pR(r){const t=await uR(r),n=si().gapi;return pt(n,r,"internal-error"),t.open({where:document.body,url:gR(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dR,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const f=zn(r,"network-request-failed"),g=si().setTimeout(()=>{c(f)},cR.get());function p(){si().clearTimeout(g),l(s)}s.ping(p).then(p,()=>{c(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_R=500,vR=600,ER="_blank",TR="http://localhost";class H_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function AR(r,t,n,s=_R,l=vR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const p=Object.assign(Object.assign({},yR),{width:s.toString(),height:l.toString(),top:c,left:f}),_=Ke().toLowerCase();n&&(g=vE(_)?ER:n),yE(_)&&(t=t||TR,p.scrollbars="yes");const T=Object.entries(p).reduce((C,[j,$])=>`${C}${j}=${$},`,"");if(rb(_)&&g!=="_self")return SR(t||"",g),new H_(null);const R=window.open(t||"",g,T);pt(R,r,"popup-blocked");try{R.focus()}catch{}return new H_(R)}function SR(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR="__/auth/handler",RR="emulator/auth/handler",wR=encodeURIComponent("fac");async function G_(r,t,n,s,l,c){pt(r.config.authDomain,r,"auth-domain-config-required"),pt(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Qa,eventId:l};if(t instanceof ym){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",IS(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,R]of Object.entries({}))f[T]=R}if(t instanceof Vl){const T=t.getScopes().filter(R=>R!=="");T.length>0&&(f.scopes=T.join(","))}r.tenantId&&(f.tid=r.tenantId);const g=f;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const p=await r._getAppCheckToken(),_=p?`#${wR}=${encodeURIComponent(p)}`:"";return`${IR(r)}?${Ol(g).slice(1)}${_}`}function IR({config:r}){return r.emulator?fm(r,RR):`https://${r.authDomain}/${bR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd="webStorageSupport";class CR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ME,this._completeRedirectFn=Jb,this._overrideRedirectResult=Xb}async _openPopup(t,n,s,l){var c;qi((c=this.eventManagers[t._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const f=await G_(t,n,s,Ld(),l);return AR(t,f,_m())}async _openRedirect(t,n,s,l){await this._originValidation(t);const c=await G_(t,n,s,Ld(),l);return Nb(c),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(qi(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await pR(t),s=new tR(t);return n.register("authEvent",l=>(pt(l?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Cd,{type:Cd},l=>{var c;const f=(c=l?.[0])===null||c===void 0?void 0:c[Cd];f!==void 0&&n(!!f),ui(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=sR(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return bE()||_E()||gm()}}const DR=CR;var F_="@firebase/auth",Q_="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function VR(r){ka(new Is("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=s.options;pt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RE(r)},_=new cb(s,l,c,p);return pb(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),ka(new Is("auth-internal",t=>{const n=Yc(t.getProvider("auth").getImmediate());return(s=>new OR(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ir(F_,Q_,NR(r)),Ir(F_,Q_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=5*60,xR=eE("authIdTokenMaxAge")||MR;let Y_=null;const PR=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>xR)return;const l=n?.token;Y_!==l&&(Y_=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function kR(r=oE()){const t=lm(r,"auth");if(t.isInitialized())return t.getImmediate();const n=gb(r,{popupRedirectResolver:DR,persistence:[Bb,Cb,ME]}),s=eE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const f=PR(c.toString());Rb(n,f,()=>f(n.currentUser)),bb(n,g=>f(g))}}const l=Wv("auth");return l&&yb(n,`http://${l}`),n}function UR(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}hb({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=l=>{const c=zn("internal-error");c.customData=l,n(c)},s.type="text/javascript",s.charset="UTF-8",UR().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});VR("Browser");var LR="firebase",zR="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ir(LR,zR,"app");var K_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cr,qE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(V,S){function w(){}w.prototype=S.prototype,V.D=S.prototype,V.prototype=new w,V.prototype.constructor=V,V.C=function(N,M,P){for(var I=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)I[Ve-2]=arguments[Ve];return S.prototype[M].apply(N,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(V,S,w){w||(w=0);var N=Array(16);if(typeof S=="string")for(var M=0;16>M;++M)N[M]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(M=0;16>M;++M)N[M]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=V.g[0],w=V.g[1],M=V.g[2];var P=V.g[3],I=S+(P^w&(M^P))+N[0]+3614090360&4294967295;S=w+(I<<7&4294967295|I>>>25),I=P+(M^S&(w^M))+N[1]+3905402710&4294967295,P=S+(I<<12&4294967295|I>>>20),I=M+(w^P&(S^w))+N[2]+606105819&4294967295,M=P+(I<<17&4294967295|I>>>15),I=w+(S^M&(P^S))+N[3]+3250441966&4294967295,w=M+(I<<22&4294967295|I>>>10),I=S+(P^w&(M^P))+N[4]+4118548399&4294967295,S=w+(I<<7&4294967295|I>>>25),I=P+(M^S&(w^M))+N[5]+1200080426&4294967295,P=S+(I<<12&4294967295|I>>>20),I=M+(w^P&(S^w))+N[6]+2821735955&4294967295,M=P+(I<<17&4294967295|I>>>15),I=w+(S^M&(P^S))+N[7]+4249261313&4294967295,w=M+(I<<22&4294967295|I>>>10),I=S+(P^w&(M^P))+N[8]+1770035416&4294967295,S=w+(I<<7&4294967295|I>>>25),I=P+(M^S&(w^M))+N[9]+2336552879&4294967295,P=S+(I<<12&4294967295|I>>>20),I=M+(w^P&(S^w))+N[10]+4294925233&4294967295,M=P+(I<<17&4294967295|I>>>15),I=w+(S^M&(P^S))+N[11]+2304563134&4294967295,w=M+(I<<22&4294967295|I>>>10),I=S+(P^w&(M^P))+N[12]+1804603682&4294967295,S=w+(I<<7&4294967295|I>>>25),I=P+(M^S&(w^M))+N[13]+4254626195&4294967295,P=S+(I<<12&4294967295|I>>>20),I=M+(w^P&(S^w))+N[14]+2792965006&4294967295,M=P+(I<<17&4294967295|I>>>15),I=w+(S^M&(P^S))+N[15]+1236535329&4294967295,w=M+(I<<22&4294967295|I>>>10),I=S+(M^P&(w^M))+N[1]+4129170786&4294967295,S=w+(I<<5&4294967295|I>>>27),I=P+(w^M&(S^w))+N[6]+3225465664&4294967295,P=S+(I<<9&4294967295|I>>>23),I=M+(S^w&(P^S))+N[11]+643717713&4294967295,M=P+(I<<14&4294967295|I>>>18),I=w+(P^S&(M^P))+N[0]+3921069994&4294967295,w=M+(I<<20&4294967295|I>>>12),I=S+(M^P&(w^M))+N[5]+3593408605&4294967295,S=w+(I<<5&4294967295|I>>>27),I=P+(w^M&(S^w))+N[10]+38016083&4294967295,P=S+(I<<9&4294967295|I>>>23),I=M+(S^w&(P^S))+N[15]+3634488961&4294967295,M=P+(I<<14&4294967295|I>>>18),I=w+(P^S&(M^P))+N[4]+3889429448&4294967295,w=M+(I<<20&4294967295|I>>>12),I=S+(M^P&(w^M))+N[9]+568446438&4294967295,S=w+(I<<5&4294967295|I>>>27),I=P+(w^M&(S^w))+N[14]+3275163606&4294967295,P=S+(I<<9&4294967295|I>>>23),I=M+(S^w&(P^S))+N[3]+4107603335&4294967295,M=P+(I<<14&4294967295|I>>>18),I=w+(P^S&(M^P))+N[8]+1163531501&4294967295,w=M+(I<<20&4294967295|I>>>12),I=S+(M^P&(w^M))+N[13]+2850285829&4294967295,S=w+(I<<5&4294967295|I>>>27),I=P+(w^M&(S^w))+N[2]+4243563512&4294967295,P=S+(I<<9&4294967295|I>>>23),I=M+(S^w&(P^S))+N[7]+1735328473&4294967295,M=P+(I<<14&4294967295|I>>>18),I=w+(P^S&(M^P))+N[12]+2368359562&4294967295,w=M+(I<<20&4294967295|I>>>12),I=S+(w^M^P)+N[5]+4294588738&4294967295,S=w+(I<<4&4294967295|I>>>28),I=P+(S^w^M)+N[8]+2272392833&4294967295,P=S+(I<<11&4294967295|I>>>21),I=M+(P^S^w)+N[11]+1839030562&4294967295,M=P+(I<<16&4294967295|I>>>16),I=w+(M^P^S)+N[14]+4259657740&4294967295,w=M+(I<<23&4294967295|I>>>9),I=S+(w^M^P)+N[1]+2763975236&4294967295,S=w+(I<<4&4294967295|I>>>28),I=P+(S^w^M)+N[4]+1272893353&4294967295,P=S+(I<<11&4294967295|I>>>21),I=M+(P^S^w)+N[7]+4139469664&4294967295,M=P+(I<<16&4294967295|I>>>16),I=w+(M^P^S)+N[10]+3200236656&4294967295,w=M+(I<<23&4294967295|I>>>9),I=S+(w^M^P)+N[13]+681279174&4294967295,S=w+(I<<4&4294967295|I>>>28),I=P+(S^w^M)+N[0]+3936430074&4294967295,P=S+(I<<11&4294967295|I>>>21),I=M+(P^S^w)+N[3]+3572445317&4294967295,M=P+(I<<16&4294967295|I>>>16),I=w+(M^P^S)+N[6]+76029189&4294967295,w=M+(I<<23&4294967295|I>>>9),I=S+(w^M^P)+N[9]+3654602809&4294967295,S=w+(I<<4&4294967295|I>>>28),I=P+(S^w^M)+N[12]+3873151461&4294967295,P=S+(I<<11&4294967295|I>>>21),I=M+(P^S^w)+N[15]+530742520&4294967295,M=P+(I<<16&4294967295|I>>>16),I=w+(M^P^S)+N[2]+3299628645&4294967295,w=M+(I<<23&4294967295|I>>>9),I=S+(M^(w|~P))+N[0]+4096336452&4294967295,S=w+(I<<6&4294967295|I>>>26),I=P+(w^(S|~M))+N[7]+1126891415&4294967295,P=S+(I<<10&4294967295|I>>>22),I=M+(S^(P|~w))+N[14]+2878612391&4294967295,M=P+(I<<15&4294967295|I>>>17),I=w+(P^(M|~S))+N[5]+4237533241&4294967295,w=M+(I<<21&4294967295|I>>>11),I=S+(M^(w|~P))+N[12]+1700485571&4294967295,S=w+(I<<6&4294967295|I>>>26),I=P+(w^(S|~M))+N[3]+2399980690&4294967295,P=S+(I<<10&4294967295|I>>>22),I=M+(S^(P|~w))+N[10]+4293915773&4294967295,M=P+(I<<15&4294967295|I>>>17),I=w+(P^(M|~S))+N[1]+2240044497&4294967295,w=M+(I<<21&4294967295|I>>>11),I=S+(M^(w|~P))+N[8]+1873313359&4294967295,S=w+(I<<6&4294967295|I>>>26),I=P+(w^(S|~M))+N[15]+4264355552&4294967295,P=S+(I<<10&4294967295|I>>>22),I=M+(S^(P|~w))+N[6]+2734768916&4294967295,M=P+(I<<15&4294967295|I>>>17),I=w+(P^(M|~S))+N[13]+1309151649&4294967295,w=M+(I<<21&4294967295|I>>>11),I=S+(M^(w|~P))+N[4]+4149444226&4294967295,S=w+(I<<6&4294967295|I>>>26),I=P+(w^(S|~M))+N[11]+3174756917&4294967295,P=S+(I<<10&4294967295|I>>>22),I=M+(S^(P|~w))+N[2]+718787259&4294967295,M=P+(I<<15&4294967295|I>>>17),I=w+(P^(M|~S))+N[9]+3951481745&4294967295,V.g[0]=V.g[0]+S&4294967295,V.g[1]=V.g[1]+(M+(I<<21&4294967295|I>>>11))&4294967295,V.g[2]=V.g[2]+M&4294967295,V.g[3]=V.g[3]+P&4294967295}s.prototype.u=function(V,S){S===void 0&&(S=V.length);for(var w=S-this.blockSize,N=this.B,M=this.h,P=0;P<S;){if(M==0)for(;P<=w;)l(this,V,P),P+=this.blockSize;if(typeof V=="string"){for(;P<S;)if(N[M++]=V.charCodeAt(P++),M==this.blockSize){l(this,N),M=0;break}}else for(;P<S;)if(N[M++]=V[P++],M==this.blockSize){l(this,N),M=0;break}}this.h=M,this.o+=S},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var S=1;S<V.length-8;++S)V[S]=0;var w=8*this.o;for(S=V.length-8;S<V.length;++S)V[S]=w&255,w/=256;for(this.u(V),V=Array(16),S=w=0;4>S;++S)for(var N=0;32>N;N+=8)V[w++]=this.g[S]>>>N&255;return V};function c(V,S){var w=g;return Object.prototype.hasOwnProperty.call(w,V)?w[V]:w[V]=S(V)}function f(V,S){this.h=S;for(var w=[],N=!0,M=V.length-1;0<=M;M--){var P=V[M]|0;N&&P==S||(w[M]=P,N=!1)}this.g=w}var g={};function p(V){return-128<=V&&128>V?c(V,function(S){return new f([S|0],0>S?-1:0)}):new f([V|0],0>V?-1:0)}function _(V){if(isNaN(V)||!isFinite(V))return R;if(0>V)return Z(_(-V));for(var S=[],w=1,N=0;V>=w;N++)S[N]=V/w|0,w*=4294967296;return new f(S,0)}function T(V,S){if(V.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(V.charAt(0)=="-")return Z(T(V.substring(1),S));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=_(Math.pow(S,8)),N=R,M=0;M<V.length;M+=8){var P=Math.min(8,V.length-M),I=parseInt(V.substring(M,M+P),S);8>P?(P=_(Math.pow(S,P)),N=N.j(P).add(_(I))):(N=N.j(w),N=N.add(_(I)))}return N}var R=p(0),C=p(1),j=p(16777216);r=f.prototype,r.m=function(){if(tt(this))return-Z(this).m();for(var V=0,S=1,w=0;w<this.g.length;w++){var N=this.i(w);V+=(0<=N?N:4294967296+N)*S,S*=4294967296}return V},r.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if($(this))return"0";if(tt(this))return"-"+Z(this).toString(V);for(var S=_(Math.pow(V,6)),w=this,N="";;){var M=Vt(w,S).g;w=Tt(w,M.j(S));var P=((0<w.g.length?w.g[0]:w.h)>>>0).toString(V);if(w=M,$(w))return P+N;for(;6>P.length;)P="0"+P;N=P+N}},r.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function $(V){if(V.h!=0)return!1;for(var S=0;S<V.g.length;S++)if(V.g[S]!=0)return!1;return!0}function tt(V){return V.h==-1}r.l=function(V){return V=Tt(this,V),tt(V)?-1:$(V)?0:1};function Z(V){for(var S=V.g.length,w=[],N=0;N<S;N++)w[N]=~V.g[N];return new f(w,~V.h).add(C)}r.abs=function(){return tt(this)?Z(this):this},r.add=function(V){for(var S=Math.max(this.g.length,V.g.length),w=[],N=0,M=0;M<=S;M++){var P=N+(this.i(M)&65535)+(V.i(M)&65535),I=(P>>>16)+(this.i(M)>>>16)+(V.i(M)>>>16);N=I>>>16,P&=65535,I&=65535,w[M]=I<<16|P}return new f(w,w[w.length-1]&-2147483648?-1:0)};function Tt(V,S){return V.add(Z(S))}r.j=function(V){if($(this)||$(V))return R;if(tt(this))return tt(V)?Z(this).j(Z(V)):Z(Z(this).j(V));if(tt(V))return Z(this.j(Z(V)));if(0>this.l(j)&&0>V.l(j))return _(this.m()*V.m());for(var S=this.g.length+V.g.length,w=[],N=0;N<2*S;N++)w[N]=0;for(N=0;N<this.g.length;N++)for(var M=0;M<V.g.length;M++){var P=this.i(N)>>>16,I=this.i(N)&65535,Ve=V.i(M)>>>16,re=V.i(M)&65535;w[2*N+2*M]+=I*re,ft(w,2*N+2*M),w[2*N+2*M+1]+=P*re,ft(w,2*N+2*M+1),w[2*N+2*M+1]+=I*Ve,ft(w,2*N+2*M+1),w[2*N+2*M+2]+=P*Ve,ft(w,2*N+2*M+2)}for(N=0;N<S;N++)w[N]=w[2*N+1]<<16|w[2*N];for(N=S;N<2*S;N++)w[N]=0;return new f(w,0)};function ft(V,S){for(;(V[S]&65535)!=V[S];)V[S+1]+=V[S]>>>16,V[S]&=65535,S++}function ut(V,S){this.g=V,this.h=S}function Vt(V,S){if($(S))throw Error("division by zero");if($(V))return new ut(R,R);if(tt(V))return S=Vt(Z(V),S),new ut(Z(S.g),Z(S.h));if(tt(S))return S=Vt(V,Z(S)),new ut(Z(S.g),S.h);if(30<V.g.length){if(tt(V)||tt(S))throw Error("slowDivide_ only works with positive integers.");for(var w=C,N=S;0>=N.l(V);)w=_t(w),N=_t(N);var M=Mt(w,1),P=Mt(N,1);for(N=Mt(N,2),w=Mt(w,2);!$(N);){var I=P.add(N);0>=I.l(V)&&(M=M.add(w),P=I),N=Mt(N,1),w=Mt(w,1)}return S=Tt(V,M.j(S)),new ut(M,S)}for(M=R;0<=V.l(S);){for(w=Math.max(1,Math.floor(V.m()/S.m())),N=Math.ceil(Math.log(w)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),P=_(w),I=P.j(S);tt(I)||0<I.l(V);)w-=N,P=_(w),I=P.j(S);$(P)&&(P=C),M=M.add(P),V=Tt(V,I)}return new ut(M,V)}r.A=function(V){return Vt(this,V).h},r.and=function(V){for(var S=Math.max(this.g.length,V.g.length),w=[],N=0;N<S;N++)w[N]=this.i(N)&V.i(N);return new f(w,this.h&V.h)},r.or=function(V){for(var S=Math.max(this.g.length,V.g.length),w=[],N=0;N<S;N++)w[N]=this.i(N)|V.i(N);return new f(w,this.h|V.h)},r.xor=function(V){for(var S=Math.max(this.g.length,V.g.length),w=[],N=0;N<S;N++)w[N]=this.i(N)^V.i(N);return new f(w,this.h^V.h)};function _t(V){for(var S=V.g.length+1,w=[],N=0;N<S;N++)w[N]=V.i(N)<<1|V.i(N-1)>>>31;return new f(w,V.h)}function Mt(V,S){var w=S>>5;S%=32;for(var N=V.g.length-w,M=[],P=0;P<N;P++)M[P]=0<S?V.i(P+w)>>>S|V.i(P+w+1)<<32-S:V.i(P+w);return new f(M,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,qE=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=T,Cr=f}).apply(typeof K_<"u"?K_:typeof self<"u"?self:typeof window<"u"?window:{});var hc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jE,cl,HE,Ec,qd,GE,FE,QE;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,y){return u==Array.prototype||u==Object.prototype||(u[m]=y.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof hc=="object"&&hc];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function l(u,m){if(m)t:{var y=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var k=u[A];if(!(k in y))break t;y=y[k]}u=u[u.length-1],A=y[u],m=m(A),m!=A&&m!=null&&t(y,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var y=0,A=!1,k={next:function(){if(!A&&y<u.length){var q=y++;return{value:m(q,u[q]),done:!1}}return A=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}l("Array.prototype.values",function(u){return u||function(){return c(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function T(u,m,y){return u.call.apply(u.bind,arguments)}function R(u,m,y){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,A),u.apply(m,k)}}return function(){return u.apply(m,arguments)}}function C(u,m,y){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:R,C.apply(null,arguments)}function j(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var A=y.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function $(u,m){function y(){}y.prototype=m.prototype,u.aa=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(A,k,q){for(var W=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)W[xt-2]=arguments[xt];return m.prototype[k].apply(A,W)}}function tt(u){const m=u.length;if(0<m){const y=Array(m);for(let A=0;A<m;A++)y[A]=u[A];return y}return[]}function Z(u,m){for(let y=1;y<arguments.length;y++){const A=arguments[y];if(p(A)){const k=u.length||0,q=A.length||0;u.length=k+q;for(let W=0;W<q;W++)u[k+W]=A[W]}else u.push(A)}}class Tt{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ft(u){return/^[\s\xa0]*$/.test(u)}function ut(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Vt(u){return Vt[" "](u),u}Vt[" "]=function(){};var _t=ut().indexOf("Gecko")!=-1&&!(ut().toLowerCase().indexOf("webkit")!=-1&&ut().indexOf("Edge")==-1)&&!(ut().indexOf("Trident")!=-1||ut().indexOf("MSIE")!=-1)&&ut().indexOf("Edge")==-1;function Mt(u,m,y){for(const A in u)m.call(y,u[A],A,u)}function V(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function S(u){const m={};for(const y in u)m[y]=u[y];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(u,m){let y,A;for(let k=1;k<arguments.length;k++){A=arguments[k];for(y in A)u[y]=A[y];for(let q=0;q<w.length;q++)y=w[q],Object.prototype.hasOwnProperty.call(A,y)&&(u[y]=A[y])}}function M(u){var m=1;u=u.split(":");const y=[];for(;0<m&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function P(u){g.setTimeout(()=>{throw u},0)}function I(){var u=zt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ve{constructor(){this.h=this.g=null}add(m,y){const A=re.get();A.set(m,y),this.h?this.h.next=A:this.g=A,this.h=A}}var re=new Tt(()=>new H,u=>u.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let et,ot=!1,zt=new Ve,D=()=>{const u=g.Promise.resolve(void 0);et=()=>{u.then(X)}};var X=()=>{for(var u;u=I();){try{u.h.call(u.g)}catch(y){P(y)}var m=re;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ot=!1};function nt(){this.s=this.s,this.C=this.C}nt.prototype.s=!1,nt.prototype.ma=function(){this.s||(this.s=!0,this.N())},nt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var ct=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};g.addEventListener("test",y,m),g.removeEventListener("test",y,m)}catch{}return u}();function wt(u,m){if(J.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(_t){t:{try{Vt(m.nodeName);var k=!0;break t}catch{}k=!1}k||(m=null)}}else y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:yt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&wt.aa.h.call(this)}}$(wt,J);var yt={2:"touch",3:"pen",4:"mouse"};wt.prototype.h=function(){wt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Re="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function qn(u,m,y,A,k){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!A,this.ha=k,this.key=++Zt,this.da=this.fa=!1}function Fi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function hi(u){this.src=u,this.g={},this.h=0}hi.prototype.add=function(u,m,y,A,k){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var W=zr(u,m,A,k);return-1<W?(m=u[W],y||(m.fa=!1)):(m=new qn(m,this.src,q,!!A,k),m.fa=y,u.push(m)),m};function Lr(u,m){var y=m.type;if(y in u.g){var A=u.g[y],k=Array.prototype.indexOf.call(A,m,void 0),q;(q=0<=k)&&Array.prototype.splice.call(A,k,1),q&&(Fi(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function zr(u,m,y,A){for(var k=0;k<u.length;++k){var q=u[k];if(!q.da&&q.listener==m&&q.capture==!!y&&q.ha==A)return k}return-1}var Br="closure_lm_"+(1e6*Math.random()|0),Wa={};function Bl(u,m,y,A,k){if(Array.isArray(m)){for(var q=0;q<m.length;q++)Bl(u,m[q],y,A,k);return null}return y=ql(y),u&&u[Re]?u.K(m,y,_(A)?!!A.capture:!1,k):pn(u,m,y,!1,A,k)}function pn(u,m,y,A,k,q){if(!m)throw Error("Invalid event type");var W=_(k)?!!k.capture:!!k,xt=ks(u);if(xt||(u[Br]=xt=new hi(u)),y=xt.add(m,y,A,W,q),y.proxy)return y;if(A=gh(),y.proxy=A,A.src=u,A.listener=y,u.addEventListener)ct||(k=W),k===void 0&&(k=!1),u.addEventListener(m.toString(),A,k);else if(u.attachEvent)u.attachEvent(qr(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return y}function gh(){function u(y){return m.call(u.src,u.listener,y)}const m=ph;return u}function to(u,m,y,A,k){if(Array.isArray(m))for(var q=0;q<m.length;q++)to(u,m[q],y,A,k);else A=_(A)?!!A.capture:!!A,y=ql(y),u&&u[Re]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],y=zr(q,y,A,k),-1<y&&(Fi(q[y]),Array.prototype.splice.call(q,y,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=ks(u))&&(m=u.g[m.toString()],u=-1,m&&(u=zr(m,y,A,k)),(y=-1<u?m[u]:null)&&Ps(y))}function Ps(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Re])Lr(m.i,u);else{var y=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(y,A,u.capture):m.detachEvent?m.detachEvent(qr(y),A):m.addListener&&m.removeListener&&m.removeListener(A),(y=ks(m))?(Lr(y,u),y.h==0&&(y.src=null,m[Br]=null)):Fi(u)}}}function qr(u){return u in Wa?Wa[u]:Wa[u]="on"+u}function ph(u,m){if(u.da)u=!0;else{m=new wt(m,this);var y=u.listener,A=u.ha||u.src;u.fa&&Ps(u),u=y.call(A,m)}return u}function ks(u){return u=u[Br],u instanceof hi?u:null}var eo="__closure_events_fn_"+(1e9*Math.random()>>>0);function ql(u){return typeof u=="function"?u:(u[eo]||(u[eo]=function(m){return u.handleEvent(m)}),u[eo])}function se(){nt.call(this),this.i=new hi(this),this.M=this,this.F=null}$(se,nt),se.prototype[Re]=!0,se.prototype.removeEventListener=function(u,m,y,A){to(this,u,m,y,A)};function Ht(u,m){var y,A=u.F;if(A)for(y=[];A;A=A.F)y.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new J(m,u);else if(m instanceof J)m.target=m.target||u;else{var k=m;m=new J(A,u),N(m,k)}if(k=!0,y)for(var q=y.length-1;0<=q;q--){var W=m.g=y[q];k=an(W,A,!0,m)&&k}if(W=m.g=u,k=an(W,A,!0,m)&&k,k=an(W,A,!1,m)&&k,y)for(q=0;q<y.length;q++)W=m.g=y[q],k=an(W,A,!1,m)&&k}se.prototype.N=function(){if(se.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var y=u.g[m],A=0;A<y.length;A++)Fi(y[A]);delete u.g[m],u.h--}}this.F=null},se.prototype.K=function(u,m,y,A){return this.i.add(String(u),m,!1,y,A)},se.prototype.L=function(u,m,y,A){return this.i.add(String(u),m,!0,y,A)};function an(u,m,y,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var k=!0,q=0;q<m.length;++q){var W=m[q];if(W&&!W.da&&W.capture==y){var xt=W.listener,Ee=W.ha||W.src;W.fa&&Lr(u.i,W),k=xt.call(Ee,A)!==!1&&k}}return k&&!A.defaultPrevented}function je(u,m,y){if(typeof u=="function")y&&(u=C(u,y));else if(u&&typeof u.handleEvent=="function")u=C(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function jl(u){u.g=je(()=>{u.g=null,u.i&&(u.i=!1,jl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class yh extends nt{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:jl(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jr(u){nt.call(this),this.h=u,this.g={}}$(jr,nt);var Hr=[];function Gr(u){Mt(u.g,function(m,y){this.g.hasOwnProperty(y)&&Ps(m)},u),u.g={}}jr.prototype.N=function(){jr.aa.N.call(this),Gr(this)},jr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var On=g.JSON.stringify,Us=g.JSON.parse,Fr=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function no(){}no.prototype.h=null;function io(u){return u.h||(u.h=u.i())}function ro(){}var fi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function di(){J.call(this,"d")}$(di,J);function so(){J.call(this,"c")}$(so,J);var jn={},ao=null;function Qi(){return ao=ao||new se}jn.La="serverreachability";function Ls(u){J.call(this,jn.La,u)}$(Ls,J);function Yi(u){const m=Qi();Ht(m,new Ls(m))}jn.STAT_EVENT="statevent";function Hl(u,m){J.call(this,jn.STAT_EVENT,u),this.stat=m}$(Hl,J);function te(u){const m=Qi();Ht(m,new Hl(m,u))}jn.Ma="timingevent";function ve(u,m){J.call(this,jn.Ma,u),this.size=m}$(ve,J);function de(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function yn(){this.g=!0}yn.prototype.xa=function(){this.g=!1};function oo(u,m,y,A,k,q){u.info(function(){if(u.g)if(q)for(var W="",xt=q.split("&"),Ee=0;Ee<xt.length;Ee++){var Pt=xt[Ee].split("=");if(1<Pt.length){var Ie=Pt[0];Pt=Pt[1];var Te=Ie.split("_");W=2<=Te.length&&Te[1]=="type"?W+(Ie+"="+Pt+"&"):W+(Ie+"=redacted&")}}else W=null;else W=q;return"XMLHTTP REQ ("+A+") [attempt "+k+"]: "+m+`
`+y+`
`+W})}function _h(u,m,y,A,k,q,W){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+k+"]: "+m+`
`+y+`
`+q+" "+W})}function Ki(u,m,y,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Qr(u,y)+(A?" "+A:"")})}function Gl(u,m){u.info(function(){return"TIMEOUT: "+m})}yn.prototype.info=function(){};function Qr(u,m){if(!u.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var A=y[u];if(!(2>A.length)){var k=A[1];if(Array.isArray(k)&&!(1>k.length)){var q=k[0];if(q!="noop"&&q!="stop"&&q!="close")for(var W=1;W<k.length;W++)k[W]=""}}}}return On(y)}catch{return m}}var Xi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},mi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hn;function Gn(){}$(Gn,no),Gn.prototype.g=function(){return new XMLHttpRequest},Gn.prototype.i=function(){return{}},Hn=new Gn;function Xe(u,m,y,A){this.j=u,this.i=m,this.l=y,this.R=A||1,this.U=new jr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ue}function ue(){this.i=null,this.g="",this.h=!1}var lo={},zs={};function Nn(u,m,y){u.L=1,u.v=Zr(on(m)),u.m=y,u.P=!0,gi(u,null)}function gi(u,m){u.F=Date.now(),Yr(u),u.A=on(u.v);var y=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),go(y.i,"t",A),u.C=0,y=u.j.J,u.h=new ue,u.g=au(u.j,y?m:null,!u.m),0<u.O&&(u.M=new yh(C(u.Y,u,u.g),u.O)),m=u.U,y=u.g,A=u.ca;var k="readystatechange";Array.isArray(k)||(k&&(Hr[0]=k.toString()),k=Hr);for(var q=0;q<k.length;q++){var W=Bl(y,k[q],A||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Yi(),oo(u.i,u.u,u.A,u.l,u.R,u.m)}Xe.prototype.ca=function(u){u=u.target;const m=this.M;m&&Tn(u)==3?m.j():this.Y(u)},Xe.prototype.Y=function(u){try{if(u==this.g)t:{const Te=Tn(this.g);var m=this.g.Ba();const Si=this.g.Z();if(!(3>Te)&&(Te!=3||this.g&&(this.h.h||this.g.oa()||Jl(this.g)))){this.J||Te!=4||m==7||(m==8||0>=Si?Yi(3):Yi(2)),$i(this);var y=this.g.Z();this.X=y;e:if(Fl(this)){var A=Jl(this.g);u="";var k=A.length,q=Tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Me(this),Fn(this);var W="";break e}this.h.i=new g.TextDecoder}for(m=0;m<k;m++)this.h.h=!0,u+=this.h.i.decode(A[m],{stream:!(q&&m==k-1)});A.length=0,this.h.g+=u,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=y==200,_h(this.i,this.u,this.A,this.l,this.R,Te,y),this.o){if(this.T&&!this.K){e:{if(this.g){var xt,Ee=this.g;if((xt=Ee.g?Ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ft(xt)){var Pt=xt;break e}}Pt=null}if(y=Pt)Ki(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Kr(this,y);else{this.o=!1,this.s=3,te(12),Me(this),Fn(this);break t}}if(this.P){y=!0;let xe;for(;!this.J&&this.C<W.length;)if(xe=Ql(this,W),xe==zs){Te==4&&(this.s=4,te(14),y=!1),Ki(this.i,this.l,null,"[Incomplete Response]");break}else if(xe==lo){this.s=4,te(15),Ki(this.i,this.l,W,"[Invalid Chunk]"),y=!1;break}else Ki(this.i,this.l,xe,null),Kr(this,xe);if(Fl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Te!=4||W.length!=0||this.h.h||(this.s=1,te(16),y=!1),this.o=this.o&&y,!y)Ki(this.i,this.l,W,"[Invalid Chunked Response]"),Me(this),Fn(this);else if(0<W.length&&!this.W){this.W=!0;var Ie=this.j;Ie.g==this&&Ie.ba&&!Ie.M&&(Ie.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),ss(Ie),Ie.M=!0,te(11))}}else Ki(this.i,this.l,W,null),Kr(this,W);Te==4&&Me(this),this.o&&!this.J&&(Te==4?iu(this.j,this):(this.o=!1,Yr(this)))}else Sh(this.g),y==400&&0<W.indexOf("Unknown SID")?(this.s=3,te(12)):(this.s=0,te(13)),Me(this),Fn(this)}}}catch{}finally{}};function Fl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Ql(u,m){var y=u.C,A=m.indexOf(`
`,y);return A==-1?zs:(y=Number(m.substring(y,A)),isNaN(y)?lo:(A+=1,A+y>m.length?zs:(m=m.slice(A,A+y),u.C=A+y,m)))}Xe.prototype.cancel=function(){this.J=!0,Me(this)};function Yr(u){u.S=Date.now()+u.I,Yl(u,u.I)}function Yl(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=de(C(u.ba,u),m)}function $i(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Xe.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Gl(this.i,this.A),this.L!=2&&(Yi(),te(17)),Me(this),this.s=2,Fn(this)):Yl(this,this.S-u)};function Fn(u){u.j.G==0||u.J||iu(u.j,u)}function Me(u){$i(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Gr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Kr(u,m){try{var y=u.j;if(y.G!=0&&(y.g==u||uo(y.h,u))){if(!u.K&&uo(y.h,u)&&y.G==3){try{var A=y.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var k=A;if(k[0]==0){t:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)Zs(y),Xs(y);else break t;Eo(y),te(18)}}else y.za=k[1],0<y.za-y.T&&37500>k[2]&&y.F&&y.v==0&&!y.C&&(y.C=de(C(y.Za,y),6e3));if(1>=qs(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Ai(y,11)}else if((u.K||y.g==u)&&Zs(y),!ft(m))for(k=y.Da.g.parse(m),m=0;m<k.length;m++){let Pt=k[m];if(y.T=Pt[0],Pt=Pt[1],y.G==2)if(Pt[0]=="c"){y.K=Pt[1],y.ia=Pt[2];const Ie=Pt[3];Ie!=null&&(y.la=Ie,y.j.info("VER="+y.la));const Te=Pt[4];Te!=null&&(y.Aa=Te,y.j.info("SVER="+y.Aa));const Si=Pt[5];Si!=null&&typeof Si=="number"&&0<Si&&(A=1.5*Si,y.L=A,y.j.info("backChannelRequestTimeoutMs_="+A)),A=y;const xe=u.g;if(xe){const Jn=xe.g?xe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jn){var q=A.h;q.g||Jn.indexOf("spdy")==-1&&Jn.indexOf("quic")==-1&&Jn.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(js(q,q.h),q.h=null))}if(A.D){const Ao=xe.g?xe.g.getResponseHeader("X-HTTP-Session-Id"):null;Ao&&(A.ya=Ao,Qt(A.I,A.D,Ao))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),A=y;var W=u;if(A.qa=su(A,A.J?A.ia:null,A.W),W.K){$e(A.h,W);var xt=W,Ee=A.L;Ee&&(xt.I=Ee),xt.B&&($i(xt),Yr(xt)),A.g=W}else eu(A);0<y.i.length&&$s(y)}else Pt[0]!="stop"&&Pt[0]!="close"||Ai(y,7);else y.G==3&&(Pt[0]=="stop"||Pt[0]=="close"?Pt[0]=="stop"?Ai(y,7):_o(y):Pt[0]!="noop"&&y.l&&y.l.ta(Pt),y.v=0)}}Yi(4)}catch{}}var Kl=class{constructor(u,m){this.g=u,this.map=m}};function pi(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Bs(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function qs(u){return u.h?1:u.g?u.g.size:0}function uo(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function js(u,m){u.g?u.g.add(m):u.h=m}function $e(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}pi.prototype.cancel=function(){if(this.i=co(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function co(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.D);return m}return tt(u.i)}function vh(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],y=u.length,A=0;A<y;A++)m.push(u[A]);return m}m=[],y=0;for(A in u)m[y++]=u[A];return m}function Hs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var y=0;y<u;y++)m.push(y);return m}m=[],y=0;for(const A in u)m[y++]=A;return m}}}function ho(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var y=Hs(u),A=vh(u),k=A.length,q=0;q<k;q++)m.call(void 0,A[q],y&&y[q],u)}var Xr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Eh(u,m){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var A=u[y].indexOf("="),k=null;if(0<=A){var q=u[y].substring(0,A);k=u[y].substring(A+1)}else q=u[y];m(q,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function me(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof me){this.h=u.h,$r(this,u.j),this.o=u.o,this.g=u.g,Zi(this,u.s),this.l=u.l;var m=u.i,y=new _i;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),yi(this,y),this.m=u.m}else u&&(m=String(u).match(Xr))?(this.h=!1,$r(this,m[1]||"",!0),this.o=_n(m[2]||""),this.g=_n(m[3]||"",!0),Zi(this,m[4]),this.l=_n(m[5]||"",!0),yi(this,m[6]||"",!0),this.m=_n(m[7]||"")):(this.h=!1,this.i=new _i(null,this.h))}me.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Jr(m,fo,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Jr(m,fo,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(Jr(y,y.charAt(0)=="/"?Th:mo,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",Jr(y,Gs)),u.join("")};function on(u){return new me(u)}function $r(u,m,y){u.j=y?_n(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Zi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function yi(u,m,y){m instanceof _i?(u.i=m,$l(u.i,u.h)):(y||(m=Jr(m,Ah)),u.i=new _i(m,u.h))}function Qt(u,m,y){u.i.set(m,y)}function Zr(u){return Qt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function _n(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Jr(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,Xl),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Xl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var fo=/[#\/\?@]/g,mo=/[#\?:]/g,Th=/[#\?]/g,Ah=/[#\?@]/g,Gs=/#/g;function _i(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function vn(u){u.g||(u.g=new Map,u.h=0,u.i&&Eh(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}r=_i.prototype,r.add=function(u,m){vn(this),this.i=null,u=Qn(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function vi(u,m){vn(u),m=Qn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ei(u,m){return vn(u),m=Qn(u,m),u.g.has(m)}r.forEach=function(u,m){vn(this),this.g.forEach(function(y,A){y.forEach(function(k){u.call(m,k,A,this)},this)},this)},r.na=function(){vn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let A=0;A<m.length;A++){const k=u[A];for(let q=0;q<k.length;q++)y.push(m[A])}return y},r.V=function(u){vn(this);let m=[];if(typeof u=="string")Ei(this,u)&&(m=m.concat(this.g.get(Qn(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)m=m.concat(u[y])}return m},r.set=function(u,m){return vn(this),this.i=null,u=Qn(this,u),Ei(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function go(u,m,y){vi(u,m),0<y.length&&(u.i=null,u.g.set(Qn(u,m),tt(y)),u.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var A=m[y];const q=encodeURIComponent(String(A)),W=this.V(A);for(A=0;A<W.length;A++){var k=q;W[A]!==""&&(k+="="+encodeURIComponent(String(W[A]))),u.push(k)}}return this.i=u.join("&")};function Qn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function $l(u,m){m&&!u.j&&(vn(u),u.i=null,u.g.forEach(function(y,A){var k=A.toLowerCase();A!=k&&(vi(this,A),go(this,k,y))},u)),u.j=m}function Wr(u,m){const y=new yn;if(g.Image){const A=new Image;A.onload=j(En,y,"TestLoadImage: loaded",!0,m,A),A.onerror=j(En,y,"TestLoadImage: error",!1,m,A),A.onabort=j(En,y,"TestLoadImage: abort",!1,m,A),A.ontimeout=j(En,y,"TestLoadImage: timeout",!1,m,A),g.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function Vn(u,m){const y=new yn,A=new AbortController,k=setTimeout(()=>{A.abort(),En(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(q=>{clearTimeout(k),q.ok?En(y,"TestPingServer: ok",!0,m):En(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(k),En(y,"TestPingServer: error",!1,m)})}function En(u,m,y,A,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),A(y)}catch{}}function ts(){this.g=new Fr}function Yn(u,m,y){const A=y||"";try{ho(u,function(k,q){let W=k;_(k)&&(W=On(k)),m.push(A+q+"="+encodeURIComponent(W))})}catch(k){throw m.push(A+"type="+encodeURIComponent("_badmap")),k}}function Ji(u){this.l=u.Ub||null,this.j=u.eb||!1}$(Ji,no),Ji.prototype.g=function(){return new Ti(this.l,this.j)},Ji.prototype.i=function(u){return function(){return u}}({});function Ti(u,m){se.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}$(Ti,se),r=Ti.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Xn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Kn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;po(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function po(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Kn(this):Xn(this),this.readyState==3&&po(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Kn(this))},r.Qa=function(u){this.g&&(this.response=u,Kn(this))},r.ga=function(){this.g&&Kn(this)};function Kn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Xn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Xn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ti.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function yo(u){let m="";return Mt(u,function(y,A){m+=A,m+=":",m+=y,m+=`\r
`}),m}function we(u,m,y){t:{for(A in y){var A=!1;break t}A=!0}A||(y=yo(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):Qt(u,m,y))}function qt(u){se.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}$(qt,se);var Fs=/^https?$/i,es=["POST","PUT"];r=qt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,y,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hn.g(),this.v=this.o?io(this.o):io(Hn),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Zl(this,q);return}if(u=y||"",y=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var k in A)y.set(k,A[k]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())y.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(y.keys()).find(q=>q.toLowerCase()=="content-type"),k=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(es,m,void 0))||A||k||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,W]of y)this.g.setRequestHeader(q,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ns(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){Zl(this,q)}};function Zl(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Qs(u),$n(u)}function Qs(u){u.A||(u.A=!0,Ht(u,"complete"),Ht(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ht(this,"complete"),Ht(this,"abort"),$n(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$n(this,!0)),qt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ys(this):this.bb())},r.bb=function(){Ys(this)};function Ys(u){if(u.h&&typeof f<"u"&&(!u.v[1]||Tn(u)!=4||u.Z()!=2)){if(u.u&&Tn(u)==4)je(u.Ea,0,u);else if(Ht(u,"readystatechange"),Tn(u)==4){u.h=!1;try{const W=u.Z();t:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var A;if(A=W===0){var k=String(u.D).match(Xr)[1]||null;!k&&g.self&&g.self.location&&(k=g.self.location.protocol.slice(0,-1)),A=!Fs.test(k?k.toLowerCase():"")}y=A}if(y)Ht(u,"complete"),Ht(u,"success");else{u.m=6;try{var q=2<Tn(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",Qs(u)}}finally{$n(u)}}}}function $n(u,m){if(u.g){ns(u);const y=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ht(u,"ready");try{y.onreadystatechange=A}catch{}}}function ns(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function Tn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<Tn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Us(m)}};function Jl(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Sh(u){const m={};u=(u.g&&2<=Tn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(ft(u[A]))continue;var y=M(u[A]);const k=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const q=m[k]||[];m[k]=q,q.push(y)}V(m,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function is(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function Ks(u){this.Aa=0,this.i=[],this.j=new yn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=is("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=is("baseRetryDelayMs",5e3,u),this.cb=is("retryDelaySeedMs",1e4,u),this.Wa=is("forwardChannelMaxRetries",2,u),this.wa=is("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new pi(u&&u.concurrentRequestLimit),this.Da=new ts,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ks.prototype,r.la=8,r.G=1,r.connect=function(u,m,y,A){te(0),this.W=u,this.H=m||{},y&&A!==void 0&&(this.H.OSID=y,this.H.OAID=A),this.F=this.X,this.I=su(this,null,this.W),$s(this)};function _o(u){if(Wl(u),u.G==3){var m=u.U++,y=on(u.I);if(Qt(y,"SID",u.K),Qt(y,"RID",m),Qt(y,"TYPE","terminate"),rs(u,y),m=new Xe(u,u.j,m),m.L=2,m.v=Zr(on(y)),y=!1,g.navigator&&g.navigator.sendBeacon)try{y=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&g.Image&&(new Image().src=m.v,y=!0),y||(m.g=au(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Yr(m)}ru(u)}function Xs(u){u.g&&(ss(u),u.g.cancel(),u.g=null)}function Wl(u){Xs(u),u.u&&(g.clearTimeout(u.u),u.u=null),Zs(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function $s(u){if(!Bs(u.h)&&!u.s){u.s=!0;var m=u.Ga;et||D(),ot||(et(),ot=!0),zt.add(m,u),u.B=0}}function bh(u,m){return qs(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=de(C(u.Ga,u,m),To(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const k=new Xe(this,this.j,u);let q=this.o;if(this.S&&(q?(q=S(q),N(q,this.S)):q=this.S),this.m!==null||this.O||(k.H=q,q=null),this.P)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var A=this.i[y];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=tu(this,k,m),y=on(this.I),Qt(y,"RID",u),Qt(y,"CVER",22),this.D&&Qt(y,"X-HTTP-Session-Id",this.D),rs(this,y),q&&(this.O?m="headers="+encodeURIComponent(String(yo(q)))+"&"+m:this.m&&we(y,this.m,q)),js(this.h,k),this.Ua&&Qt(y,"TYPE","init"),this.P?(Qt(y,"$req",m),Qt(y,"SID","null"),k.T=!0,Nn(k,y,null)):Nn(k,y,m),this.G=2}}else this.G==3&&(u?vo(this,u):this.i.length==0||Bs(this.h)||vo(this))};function vo(u,m){var y;m?y=m.l:y=u.U++;const A=on(u.I);Qt(A,"SID",u.K),Qt(A,"RID",y),Qt(A,"AID",u.T),rs(u,A),u.m&&u.o&&we(A,u.m,u.o),y=new Xe(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),m&&(u.i=m.D.concat(u.i)),m=tu(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),js(u.h,y),Nn(y,A,m)}function rs(u,m){u.H&&Mt(u.H,function(y,A){Qt(m,A,y)}),u.l&&ho({},function(y,A){Qt(m,A,y)})}function tu(u,m,y){y=Math.min(u.i.length,y);var A=u.l?C(u.l.Na,u.l,u):null;t:{var k=u.i;let q=-1;for(;;){const W=["count="+y];q==-1?0<y?(q=k[0].g,W.push("ofs="+q)):q=0:W.push("ofs="+q);let xt=!0;for(let Ee=0;Ee<y;Ee++){let Pt=k[Ee].g;const Ie=k[Ee].map;if(Pt-=q,0>Pt)q=Math.max(0,k[Ee].g-100),xt=!1;else try{Yn(Ie,W,"req"+Pt+"_")}catch{A&&A(Ie)}}if(xt){A=W.join("&");break t}}}return u=u.i.splice(0,y),m.D=u,A}function eu(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;et||D(),ot||(et(),ot=!0),zt.add(m,u),u.v=0}}function Eo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=de(C(u.Fa,u),To(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,nu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=de(C(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,te(10),Xs(this),nu(this))};function ss(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function nu(u){u.g=new Xe(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=on(u.qa);Qt(m,"RID","rpc"),Qt(m,"SID",u.K),Qt(m,"AID",u.T),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Qt(m,"TO",u.ja),Qt(m,"TYPE","xmlhttp"),rs(u,m),u.m&&u.o&&we(m,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=Zr(on(m)),y.m=null,y.P=!0,gi(y,u)}r.Za=function(){this.C!=null&&(this.C=null,Xs(this),Eo(this),te(19))};function Zs(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function iu(u,m){var y=null;if(u.g==m){Zs(u),ss(u),u.g=null;var A=2}else if(uo(u.h,m))y=m.D,$e(u.h,m),A=1;else return;if(u.G!=0){if(m.o)if(A==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var k=u.B;A=Qi(),Ht(A,new ve(A,y)),$s(u)}else eu(u);else if(k=m.s,k==3||k==0&&0<m.X||!(A==1&&bh(u,m)||A==2&&Eo(u)))switch(y&&0<y.length&&(m=u.h,m.i=m.i.concat(y)),k){case 1:Ai(u,5);break;case 4:Ai(u,10);break;case 3:Ai(u,6);break;default:Ai(u,2)}}}function To(u,m){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*m}function Ai(u,m){if(u.j.info("Error code "+m),m==2){var y=C(u.fb,u),A=u.Xa;const k=!A;A=new me(A||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||$r(A,"https"),Zr(A),k?Wr(A.toString(),y):Vn(A.toString(),y)}else te(2);u.G=0,u.l&&u.l.sa(m),ru(u),Wl(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),te(2)):(this.j.info("Failed to ping google.com"),te(1))};function ru(u){if(u.G=0,u.ka=[],u.l){const m=co(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ka,m),Z(u.ka,u.i),u.h.i.length=0,tt(u.i),u.i.length=0),u.l.ra()}}function su(u,m,y){var A=y instanceof me?on(y):new me(y);if(A.g!="")m&&(A.g=m+"."+A.g),Zi(A,A.s);else{var k=g.location;A=k.protocol,m=m?m+"."+k.hostname:k.hostname,k=+k.port;var q=new me(null);A&&$r(q,A),m&&(q.g=m),k&&Zi(q,k),y&&(q.l=y),A=q}return y=u.D,m=u.ya,y&&m&&Qt(A,y,m),Qt(A,"VER",u.la),rs(u,A),A}function au(u,m,y){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new qt(new Ji({eb:y})):new qt(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ou(){}r=ou.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Js(){}Js.prototype.g=function(u,m){return new Ze(u,m)};function Ze(u,m){se.call(this),this.g=new Ks(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!ft(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!ft(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Zn(this)}$(Ze,se),Ze.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ze.prototype.close=function(){_o(this.g)},Ze.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=On(u),u=y);m.i.push(new Kl(m.Ya++,u)),m.G==3&&$s(m)},Ze.prototype.N=function(){this.g.l=null,delete this.j,_o(this.g),delete this.g,Ze.aa.N.call(this)};function lu(u){di.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}$(lu,di);function uu(){so.call(this),this.status=1}$(uu,so);function Zn(u){this.g=u}$(Zn,ou),Zn.prototype.ua=function(){Ht(this.g,"a")},Zn.prototype.ta=function(u){Ht(this.g,new lu(u))},Zn.prototype.sa=function(u){Ht(this.g,new uu)},Zn.prototype.ra=function(){Ht(this.g,"b")},Js.prototype.createWebChannel=Js.prototype.g,Ze.prototype.send=Ze.prototype.o,Ze.prototype.open=Ze.prototype.m,Ze.prototype.close=Ze.prototype.close,QE=function(){return new Js},FE=function(){return Qi()},GE=jn,qd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xi.NO_ERROR=0,Xi.TIMEOUT=8,Xi.HTTP_ERROR=6,Ec=Xi,mi.COMPLETE="complete",HE=mi,ro.EventType=fi,fi.OPEN="a",fi.CLOSE="b",fi.ERROR="c",fi.MESSAGE="d",se.prototype.listen=se.prototype.K,cl=ro,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,jE=qt}).apply(typeof hc<"u"?hc:typeof self<"u"?self:typeof window<"u"?window:{});const X_="@firebase/firestore",$_="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ka="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds=new am("@firebase/firestore");function Ia(){return Ds.logLevel}function it(r,...t){if(Ds.logLevel<=Ot.DEBUG){const n=t.map(Em);Ds.debug(`Firestore (${Ka}): ${r}`,...n)}}function ji(r,...t){if(Ds.logLevel<=Ot.ERROR){const n=t.map(Em);Ds.error(`Firestore (${Ka}): ${r}`,...n)}}function La(r,...t){if(Ds.logLevel<=Ot.WARN){const n=t.map(Em);Ds.warn(`Firestore (${Ka}): ${r}`,...n)}}function Em(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,YE(r,s,n)}function YE(r,t,n){let s=`FIRESTORE (${Ka}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ji(s),new Error(s)}function jt(r,t,n,s){let l="Unexpected state";typeof n=="string"?l=n:s=n,r||YE(t,l,s)}function At(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends Gi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class BR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Qe.UNAUTHENTICATED))}shutdown(){}}class qR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class jR{constructor(t){this.t=t,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){jt(this.o===void 0,42304);let s=this.i;const l=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let c=new Rs;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Rs,t.enqueueRetryable(()=>l(this.currentUser))};const f=()=>{const p=c;t.enqueueRetryable(async()=>{await p.promise,await l(this.currentUser)})},g=p=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Rs)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(jt(typeof s.accessToken=="string",31837,{l:s}),new KE(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return jt(t===null||typeof t=="string",2055,{h:t}),new Qe(t)}}class HR{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class GR{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new HR(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Z_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FR{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,kn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){jt(this.o===void 0,3512);const s=c=>{c.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,it("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>s(c))};const l=c=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Z_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(jt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Z_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=QR(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<n&&(s+=t.charAt(l[c]%62))}return s}}function Rt(r,t){return r<t?-1:r>t?1:0}function jd(r,t){let n=0;for(;n<r.length&&n<t.length;){const s=r.codePointAt(n),l=t.codePointAt(n);if(s!==l){if(s<128&&l<128)return Rt(s,l);{const c=XE(),f=YR(c.encode(J_(r,n)),c.encode(J_(t,n)));return f!==0?f:Rt(s,l)}}n+=s>65535?2:1}return Rt(r.length,t.length)}function J_(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function YR(r,t){for(let n=0;n<r.length&&n<t.length;++n)if(r[n]!==t[n])return Rt(r[n],t[n]);return Rt(r.length,t.length)}function za(r,t,n){return r.length===t.length&&r.every((s,l)=>n(s,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_=-62135596800,tv=1e6;class le{static now(){return le.fromMillis(Date.now())}static fromDate(t){return le.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*tv);return new le(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new rt(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new rt(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<W_)throw new rt(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new rt(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/tv}_compareTo(t){return this.seconds===t.seconds?Rt(this.nanoseconds,t.nanoseconds):Rt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-W_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new le(0,0))}static max(){return new Et(new le(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev="__name__";class ri{constructor(t,n,s){n===void 0?n=0:n>t.length&&mt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&mt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return ri.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ri?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let l=0;l<s;l++){const c=ri.compareSegments(t.get(l),n.get(l));if(c!==0)return c}return Rt(t.length,n.length)}static compareSegments(t,n){const s=ri.isNumericId(t),l=ri.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?ri.extractNumericId(t).compare(ri.extractNumericId(n)):jd(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Cr.fromString(t.substring(4,t.length-2))}}class Wt extends ri{construct(t,n,s){return new Wt(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new rt(K.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(l=>l.length>0))}return new Wt(n)}static emptyPath(){return new Wt([])}}const KR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ze extends ri{construct(t,n,s){return new ze(t,n,s)}static isValidIdentifier(t){return KR.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ze.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ev}static keyField(){return new ze([ev])}static fromServerFormat(t){const n=[];let s="",l=0;const c=()=>{if(s.length===0)throw new rt(K.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new rt(K.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new rt(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,l+=2}else g==="`"?(f=!f,l++):g!=="."||f?(s+=g,l++):(c(),l++)}if(c(),f)throw new rt(K.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ze(n)}static emptyPath(){return new ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(t){this.path=t}static fromPath(t){return new lt(Wt.fromString(t))}static fromName(t){return new lt(Wt.fromString(t).popFirst(5))}static empty(){return new lt(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Wt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Wt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new lt(new Wt(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Al=-1;function XR(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=Et.fromTimestamp(s===1e9?new le(n+1,0):new le(n,s));return new Or(l,lt.empty(),t)}function $R(r){return new Or(r.readTime,r.key,Al)}class Or{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Or(Et.min(),lt.empty(),Al)}static max(){return new Or(Et.max(),lt.empty(),Al)}}function ZR(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=lt.comparator(r.documentKey,t.documentKey),n!==0?n:Rt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xa(r){if(r.code!==K.FAILED_PRECONDITION||r.message!==JR)throw r;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&mt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Y((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,l)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof Y?n:Y.resolve(n)}catch(n){return Y.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):Y.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):Y.reject(n)}static resolve(t){return new Y((n,s)=>{n(t)})}static reject(t){return new Y((n,s)=>{s(t)})}static waitFor(t){return new Y((n,s)=>{let l=0,c=0,f=!1;t.forEach(g=>{++l,g.next(()=>{++c,f&&c===l&&n()},p=>s(p))}),f=!0,c===l&&n()})}static or(t){let n=Y.resolve(!1);for(const s of t)n=n.next(l=>l?Y.resolve(l):s());return n}static forEach(t,n){const s=[];return t.forEach((l,c)=>{s.push(n.call(this,l,c))}),this.waitFor(s)}static mapArray(t,n){return new Y((s,l)=>{const c=t.length,f=new Array(c);let g=0;for(let p=0;p<c;p++){const _=p;n(t[_]).next(T=>{f[_]=T,++g,g===c&&s(f)},T=>l(T))}})}static doWhile(t,n){return new Y((s,l)=>{const c=()=>{t()===!0?n().next(()=>{c()},l):s()};c()})}}function tw(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function $a(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}$c.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm=-1;function Zc(r){return r==null}function xc(r){return r===0&&1/r==-1/0}function ew(r){return typeof r=="number"&&Number.isInteger(r)&&!xc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="";function nw(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=nv(t)),t=iw(r.get(n),t);return nv(t)}function iw(r,t){let n=t;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":n+="";break;case ZE:n+="";break;default:n+=c}}return n}function nv(r){return r+ZE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function kr(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function JE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(t,n){this.comparator=t,this.root=n||Le.EMPTY}insert(t,n){return new ie(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Le.BLACK,null,null))}remove(t){return new ie(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Le.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new fc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new fc(this.root,t,this.comparator,!1)}getReverseIterator(){return new fc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new fc(this.root,t,this.comparator,!0)}}class fc{constructor(t,n,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=n?s(t.key,n):1,n&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Le{constructor(t,n,s,l,c){this.key=t,this.value=n,this.color=s??Le.RED,this.left=l??Le.EMPTY,this.right=c??Le.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,l,c){return new Le(t??this.key,n??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,n,s),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Le.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return Le.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Le.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Le.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw mt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw mt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw mt(27949);return t+(this.isRed()?0:1)}}Le.EMPTY=null,Le.RED=!0,Le.BLACK=!1;Le.EMPTY=new class{constructor(){this.size=0}get key(){throw mt(57766)}get value(){throw mt(16141)}get color(){throw mt(16727)}get left(){throw mt(29726)}get right(){throw mt(36894)}copy(t,n,s,l,c){return this}insert(t,n,s){return new Le(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(t){this.comparator=t,this.data=new ie(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new rv(this.data.getIterator())}getIteratorFrom(t){return new rv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof be)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new be(this.comparator);return n.data=t,n}}class rv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(t){this.fields=t,t.sort(ze.comparator)}static empty(){return new gn([])}unionWith(t){let n=new be(ze.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new gn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return za(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new WE("Invalid base64 string: "+c):c}}(t);return new qe(n)}static fromUint8Array(t){const n=function(l){let c="";for(let f=0;f<l.length;++f)c+=String.fromCharCode(l[f]);return c}(t);return new qe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Rt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}qe.EMPTY_BYTE_STRING=new qe("");const rw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nr(r){if(jt(!!r,39018),typeof r=="string"){let t=0;const n=rw.exec(r);if(jt(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:fe(r.seconds),nanos:fe(r.nanos)}}function fe(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Vr(r){return typeof r=="string"?qe.fromBase64String(r):qe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="server_timestamp",eT="__type__",nT="__previous_value__",iT="__local_write_time__";function Am(r){var t,n;return((n=(((t=r?.mapValue)===null||t===void 0?void 0:t.fields)||{})[eT])===null||n===void 0?void 0:n.stringValue)===tT}function Jc(r){const t=r.mapValue.fields[nT];return Am(t)?Jc(t):t}function Sl(r){const t=Nr(r.mapValue.fields[iT].timestampValue);return new le(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(t,n,s,l,c,f,g,p,_,T){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=_,this.isUsingEmulator=T}}const Pc="(default)";class bl{constructor(t,n){this.projectId=t,this.database=n||Pc}static empty(){return new bl("","")}get isDefaultDatabase(){return this.database===Pc}isEqual(t){return t instanceof bl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="__type__",aw="__max__",dc={mapValue:{}},sT="__vector__",kc="value";function Mr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Am(r)?4:lw(r)?9007199254740991:ow(r)?10:11:mt(28295,{value:r})}function ci(r,t){if(r===t)return!0;const n=Mr(r);if(n!==Mr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Sl(r).isEqual(Sl(t));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const f=Nr(l.timestampValue),g=Nr(c.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(l,c){return Vr(l.bytesValue).isEqual(Vr(c.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(l,c){return fe(l.geoPointValue.latitude)===fe(c.geoPointValue.latitude)&&fe(l.geoPointValue.longitude)===fe(c.geoPointValue.longitude)}(r,t);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return fe(l.integerValue)===fe(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const f=fe(l.doubleValue),g=fe(c.doubleValue);return f===g?xc(f)===xc(g):isNaN(f)&&isNaN(g)}return!1}(r,t);case 9:return za(r.arrayValue.values||[],t.arrayValue.values||[],ci);case 10:case 11:return function(l,c){const f=l.mapValue.fields||{},g=c.mapValue.fields||{};if(iv(f)!==iv(g))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(g[p]===void 0||!ci(f[p],g[p])))return!1;return!0}(r,t);default:return mt(52216,{left:r})}}function Rl(r,t){return(r.values||[]).find(n=>ci(n,t))!==void 0}function Ba(r,t){if(r===t)return 0;const n=Mr(r),s=Mr(t);if(n!==s)return Rt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Rt(r.booleanValue,t.booleanValue);case 2:return function(c,f){const g=fe(c.integerValue||c.doubleValue),p=fe(f.integerValue||f.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(r,t);case 3:return sv(r.timestampValue,t.timestampValue);case 4:return sv(Sl(r),Sl(t));case 5:return jd(r.stringValue,t.stringValue);case 6:return function(c,f){const g=Vr(c),p=Vr(f);return g.compareTo(p)}(r.bytesValue,t.bytesValue);case 7:return function(c,f){const g=c.split("/"),p=f.split("/");for(let _=0;_<g.length&&_<p.length;_++){const T=Rt(g[_],p[_]);if(T!==0)return T}return Rt(g.length,p.length)}(r.referenceValue,t.referenceValue);case 8:return function(c,f){const g=Rt(fe(c.latitude),fe(f.latitude));return g!==0?g:Rt(fe(c.longitude),fe(f.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return av(r.arrayValue,t.arrayValue);case 10:return function(c,f){var g,p,_,T;const R=c.fields||{},C=f.fields||{},j=(g=R[kc])===null||g===void 0?void 0:g.arrayValue,$=(p=C[kc])===null||p===void 0?void 0:p.arrayValue,tt=Rt(((_=j?.values)===null||_===void 0?void 0:_.length)||0,((T=$?.values)===null||T===void 0?void 0:T.length)||0);return tt!==0?tt:av(j,$)}(r.mapValue,t.mapValue);case 11:return function(c,f){if(c===dc.mapValue&&f===dc.mapValue)return 0;if(c===dc.mapValue)return 1;if(f===dc.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),_=f.fields||{},T=Object.keys(_);p.sort(),T.sort();for(let R=0;R<p.length&&R<T.length;++R){const C=jd(p[R],T[R]);if(C!==0)return C;const j=Ba(g[p[R]],_[T[R]]);if(j!==0)return j}return Rt(p.length,T.length)}(r.mapValue,t.mapValue);default:throw mt(23264,{Pe:n})}}function sv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Rt(r,t);const n=Nr(r),s=Nr(t),l=Rt(n.seconds,s.seconds);return l!==0?l:Rt(n.nanos,s.nanos)}function av(r,t){const n=r.values||[],s=t.values||[];for(let l=0;l<n.length&&l<s.length;++l){const c=Ba(n[l],s[l]);if(c)return c}return Rt(n.length,s.length)}function qa(r){return Hd(r)}function Hd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Nr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Vr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return lt.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",l=!0;for(const c of n.values||[])l?l=!1:s+=",",s+=Hd(c);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const f of s)c?c=!1:l+=",",l+=`${f}:${Hd(n.fields[f])}`;return l+"}"}(r.mapValue):mt(61005,{value:r})}function Tc(r){switch(Mr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Jc(r);return t?16+Tc(t):16;case 5:return 2*r.stringValue.length;case 6:return Vr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((l,c)=>l+Tc(c),0)}(r.arrayValue);case 10:case 11:return function(s){let l=0;return kr(s.fields,(c,f)=>{l+=c.length+Tc(f)}),l}(r.mapValue);default:throw mt(13486,{value:r})}}function ov(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Gd(r){return!!r&&"integerValue"in r}function Sm(r){return!!r&&"arrayValue"in r}function lv(r){return!!r&&"nullValue"in r}function uv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Ac(r){return!!r&&"mapValue"in r}function ow(r){var t,n;return((n=(((t=r?.mapValue)===null||t===void 0?void 0:t.fields)||{})[rT])===null||n===void 0?void 0:n.stringValue)===sT}function pl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return kr(r.mapValue.fields,(n,s)=>t.mapValue.fields[n]=pl(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=pl(r.arrayValue.values[n]);return t}return Object.assign({},r)}function lw(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===aw}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(t){this.value=t}static empty(){return new sn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Ac(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=pl(n)}setAll(t){let n=ze.emptyPath(),s={},l=[];t.forEach((f,g)=>{if(!n.isImmediateParentOf(g)){const p=this.getFieldsMap(n);this.applyChanges(p,s,l),s={},l=[],n=g.popLast()}f?s[g.lastSegment()]=pl(f):l.push(g.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,l)}delete(t){const n=this.field(t.popLast());Ac(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return ci(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=n.mapValue.fields[t.get(s)];Ac(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,s){kr(n,(l,c)=>t[l]=c);for(const l of s)delete t[l]}clone(){return new sn(pl(this.value))}}function aT(r){const t=[];return kr(r.fields,(n,s)=>{const l=new ze([n]);if(Ac(s)){const c=aT(s.mapValue).fields;if(c.length===0)t.push(l);else for(const f of c)t.push(l.child(f))}else t.push(l)}),new gn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t,n,s,l,c,f,g){this.key=t,this.documentType=n,this.version=s,this.readTime=l,this.createTime=c,this.data=f,this.documentState=g}static newInvalidDocument(t){return new Ye(t,0,Et.min(),Et.min(),Et.min(),sn.empty(),0)}static newFoundDocument(t,n,s,l){return new Ye(t,1,n,Et.min(),s,l,0)}static newNoDocument(t,n){return new Ye(t,2,n,Et.min(),Et.min(),sn.empty(),0)}static newUnknownDocument(t,n){return new Ye(t,3,n,Et.min(),Et.min(),sn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=sn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ye&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ye(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(t,n){this.position=t,this.inclusive=n}}function cv(r,t,n){let s=0;for(let l=0;l<r.position.length;l++){const c=t[l],f=r.position[l];if(c.field.isKeyField()?s=lt.comparator(lt.fromName(f.referenceValue),n.key):s=Ba(f,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function hv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!ci(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(t,n="asc"){this.field=t,this.dir=n}}function uw(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{}class _e extends oT{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new hw(t,n,s):n==="array-contains"?new mw(t,s):n==="in"?new gw(t,s):n==="not-in"?new pw(t,s):n==="array-contains-any"?new yw(t,s):new _e(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new fw(t,s):new dw(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ba(n,this.value)):n!==null&&Mr(this.value)===Mr(n)&&this.matchesComparison(Ba(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return mt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bn extends oT{constructor(t,n){super(),this.filters=t,this.op=n,this.Te=null}static create(t,n){return new Bn(t,n)}matches(t){return lT(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function lT(r){return r.op==="and"}function uT(r){return cw(r)&&lT(r)}function cw(r){for(const t of r.filters)if(t instanceof Bn)return!1;return!0}function Fd(r){if(r instanceof _e)return r.field.canonicalString()+r.op.toString()+qa(r.value);if(uT(r))return r.filters.map(t=>Fd(t)).join(",");{const t=r.filters.map(n=>Fd(n)).join(",");return`${r.op}(${t})`}}function cT(r,t){return r instanceof _e?function(s,l){return l instanceof _e&&s.op===l.op&&s.field.isEqual(l.field)&&ci(s.value,l.value)}(r,t):r instanceof Bn?function(s,l){return l instanceof Bn&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce((c,f,g)=>c&&cT(f,l.filters[g]),!0):!1}(r,t):void mt(19439)}function hT(r){return r instanceof _e?function(n){return`${n.field.canonicalString()} ${n.op} ${qa(n.value)}`}(r):r instanceof Bn?function(n){return n.op.toString()+" {"+n.getFilters().map(hT).join(" ,")+"}"}(r):"Filter"}class hw extends _e{constructor(t,n,s){super(t,n,s),this.key=lt.fromName(s.referenceValue)}matches(t){const n=lt.comparator(t.key,this.key);return this.matchesComparison(n)}}class fw extends _e{constructor(t,n){super(t,"in",n),this.keys=fT("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class dw extends _e{constructor(t,n){super(t,"not-in",n),this.keys=fT("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function fT(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>lt.fromName(s.referenceValue))}class mw extends _e{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Sm(n)&&Rl(n.arrayValue,this.value)}}class gw extends _e{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Rl(this.value.arrayValue,n)}}class pw extends _e{constructor(t,n){super(t,"not-in",n)}matches(t){if(Rl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Rl(this.value.arrayValue,n)}}class yw extends _e{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Sm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Rl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(t,n=null,s=[],l=[],c=null,f=null,g=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=f,this.endAt=g,this.Ie=null}}function fv(r,t=null,n=[],s=[],l=null,c=null,f=null){return new _w(r,t,n,s,l,c,f)}function bm(r){const t=At(r);if(t.Ie===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>Fd(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),Zc(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>qa(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>qa(s)).join(",")),t.Ie=n}return t.Ie}function Rm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!uw(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!cT(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!hv(r.startAt,t.startAt)&&hv(r.endAt,t.endAt)}function Qd(r){return lt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(t,n=null,s=[],l=[],c=null,f="F",g=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=f,this.startAt=g,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function vw(r,t,n,s,l,c,f,g){return new Za(r,t,n,s,l,c,f,g)}function wm(r){return new Za(r)}function dv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function dT(r){return r.collectionGroup!==null}function yl(r){const t=At(r);if(t.Ee===null){t.Ee=[];const n=new Set;for(const c of t.explicitOrderBy)t.Ee.push(c),n.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new be(ze.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(_=>{_.isInequality()&&(g=g.add(_.field))})}),g})(t).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||t.Ee.push(new wl(c,s))}),n.has(ze.keyField().canonicalString())||t.Ee.push(new wl(ze.keyField(),s))}return t.Ee}function ai(r){const t=At(r);return t.de||(t.de=Ew(t,yl(r))),t.de}function Ew(r,t){if(r.limitType==="F")return fv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new wl(l.field,c)});const n=r.endAt?new Uc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Uc(r.startAt.position,r.startAt.inclusive):null;return fv(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function Yd(r,t){const n=r.filters.concat([t]);return new Za(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Kd(r,t,n){return new Za(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Wc(r,t){return Rm(ai(r),ai(t))&&r.limitType===t.limitType}function mT(r){return`${bm(ai(r))}|lt:${r.limitType}`}function Ca(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(l=>hT(l)).join(", ")}]`),Zc(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(l=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(l)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(l=>qa(l)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(l=>qa(l)).join(",")),`Target(${s})`}(ai(r))}; limitType=${r.limitType})`}function th(r,t){return t.isFoundDocument()&&function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):lt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(r,t)&&function(s,l){for(const c of yl(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(r,t)&&function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0}(r,t)&&function(s,l){return!(s.startAt&&!function(f,g,p){const _=cv(f,g,p);return f.inclusive?_<=0:_<0}(s.startAt,yl(s),l)||s.endAt&&!function(f,g,p){const _=cv(f,g,p);return f.inclusive?_>=0:_>0}(s.endAt,yl(s),l))}(r,t)}function Tw(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function gT(r){return(t,n)=>{let s=!1;for(const l of yl(r)){const c=Aw(l,t,n);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function Aw(r,t,n){const s=r.field.isKeyField()?lt.comparator(t.key,n.key):function(c,f,g){const p=f.data.field(c),_=g.data.field(c);return p!==null&&_!==null?Ba(p,_):mt(42886)}(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return mt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){kr(this.inner,(n,s)=>{for(const[l,c]of s)t(l,c)})}isEmpty(){return JE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw=new ie(lt.comparator);function Hi(){return Sw}const pT=new ie(lt.comparator);function hl(...r){let t=pT;for(const n of r)t=t.insert(n.key,n);return t}function yT(r){let t=pT;return r.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function Ss(){return _l()}function _T(){return _l()}function _l(){return new Vs(r=>r.toString(),(r,t)=>r.isEqual(t))}const bw=new ie(lt.comparator),Rw=new be(lt.comparator);function Nt(...r){let t=Rw;for(const n of r)t=t.add(n);return t}const ww=new be(Rt);function Iw(){return ww}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xc(t)?"-0":t}}function vT(r){return{integerValue:""+r}}function Cw(r,t){return ew(t)?vT(t):Im(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(){this._=void 0}}function Dw(r,t,n){return r instanceof Lc?function(l,c){const f={fields:{[eT]:{stringValue:tT},[iT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Am(c)&&(c=Jc(c)),c&&(f.fields[nT]=c),{mapValue:f}}(n,t):r instanceof Il?TT(r,t):r instanceof Cl?AT(r,t):function(l,c){const f=ET(l,c),g=mv(f)+mv(l.Re);return Gd(f)&&Gd(l.Re)?vT(g):Im(l.serializer,g)}(r,t)}function Ow(r,t,n){return r instanceof Il?TT(r,t):r instanceof Cl?AT(r,t):n}function ET(r,t){return r instanceof zc?function(s){return Gd(s)||function(c){return!!c&&"doubleValue"in c}(s)}(t)?t:{integerValue:0}:null}class Lc extends eh{}class Il extends eh{constructor(t){super(),this.elements=t}}function TT(r,t){const n=ST(t);for(const s of r.elements)n.some(l=>ci(l,s))||n.push(s);return{arrayValue:{values:n}}}class Cl extends eh{constructor(t){super(),this.elements=t}}function AT(r,t){let n=ST(t);for(const s of r.elements)n=n.filter(l=>!ci(l,s));return{arrayValue:{values:n}}}class zc extends eh{constructor(t,n){super(),this.serializer=t,this.Re=n}}function mv(r){return fe(r.integerValue||r.doubleValue)}function ST(r){return Sm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function Nw(r,t){return r.field.isEqual(t.field)&&function(s,l){return s instanceof Il&&l instanceof Il||s instanceof Cl&&l instanceof Cl?za(s.elements,l.elements,ci):s instanceof zc&&l instanceof zc?ci(s.Re,l.Re):s instanceof Lc&&l instanceof Lc}(r.transform,t.transform)}class Vw{constructor(t,n){this.version=t,this.transformResults=n}}class Dn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Dn}static exists(t){return new Dn(void 0,t)}static updateTime(t){return new Dn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Sc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class nh{}function bT(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Cm(r.key,Dn.none()):new xl(r.key,r.data,Dn.none());{const n=r.data,s=sn.empty();let l=new be(ze.comparator);for(let c of t.fields)if(!l.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?s.delete(c):s.set(c,f),l=l.add(c)}return new Ur(r.key,s,new gn(l.toArray()),Dn.none())}}function Mw(r,t,n){r instanceof xl?function(l,c,f){const g=l.value.clone(),p=pv(l.fieldTransforms,c,f.transformResults);g.setAll(p),c.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(r,t,n):r instanceof Ur?function(l,c,f){if(!Sc(l.precondition,c))return void c.convertToUnknownDocument(f.version);const g=pv(l.fieldTransforms,c,f.transformResults),p=c.data;p.setAll(RT(l)),p.setAll(g),c.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,t,n):function(l,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function vl(r,t,n,s){return r instanceof xl?function(c,f,g,p){if(!Sc(c.precondition,f))return g;const _=c.value.clone(),T=yv(c.fieldTransforms,p,f);return _.setAll(T),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),null}(r,t,n,s):r instanceof Ur?function(c,f,g,p){if(!Sc(c.precondition,f))return g;const _=yv(c.fieldTransforms,p,f),T=f.data;return T.setAll(RT(c)),T.setAll(_),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(R=>R.field))}(r,t,n,s):function(c,f,g){return Sc(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g}(r,t,n)}function xw(r,t){let n=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),c=ET(s.transform,l||null);c!=null&&(n===null&&(n=sn.empty()),n.set(s.field,c))}return n||null}function gv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&za(s,l,(c,f)=>Nw(c,f))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class xl extends nh{constructor(t,n,s,l=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Ur extends nh{constructor(t,n,s,l,c=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function RT(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}}),t}function pv(r,t,n){const s=new Map;jt(r.length===n.length,32656,{Ve:n.length,me:r.length});for(let l=0;l<n.length;l++){const c=r[l],f=c.transform,g=t.data.field(c.field);s.set(c.field,Ow(f,g,n[l]))}return s}function yv(r,t,n){const s=new Map;for(const l of r){const c=l.transform,f=n.data.field(l.field);s.set(l.field,Dw(c,f,t))}return s}class Cm extends nh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Pw extends nh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(t,n,s,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&Mw(c,t,s[l])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=vl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=vl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=_T();return this.mutations.forEach(l=>{const c=t.get(l.key),f=c.overlayedDocument;let g=this.applyToLocalView(f,c.mutatedFields);g=n.has(l.key)?null:g;const p=bT(f,g);p!==null&&s.set(l.key,p),f.isValidDocument()||f.convertToNoDocument(Et.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Nt())}isEqual(t){return this.batchId===t.batchId&&za(this.mutations,t.mutations,(n,s)=>gv(n,s))&&za(this.baseMutations,t.baseMutations,(n,s)=>gv(n,s))}}class Dm{constructor(t,n,s,l){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(t,n,s){jt(t.mutations.length===s.length,58842,{fe:t.mutations.length,ge:s.length});let l=function(){return bw}();const c=t.mutations;for(let f=0;f<c.length;f++)l=l.insert(c[f].key,s[f].version);return new Dm(t,n,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye,Ut;function zw(r){switch(r){case K.OK:return mt(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return mt(15467,{code:r})}}function wT(r){if(r===void 0)return ji("GRPC error has no .code"),K.UNKNOWN;switch(r){case ye.OK:return K.OK;case ye.CANCELLED:return K.CANCELLED;case ye.UNKNOWN:return K.UNKNOWN;case ye.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case ye.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case ye.INTERNAL:return K.INTERNAL;case ye.UNAVAILABLE:return K.UNAVAILABLE;case ye.UNAUTHENTICATED:return K.UNAUTHENTICATED;case ye.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case ye.NOT_FOUND:return K.NOT_FOUND;case ye.ALREADY_EXISTS:return K.ALREADY_EXISTS;case ye.PERMISSION_DENIED:return K.PERMISSION_DENIED;case ye.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case ye.ABORTED:return K.ABORTED;case ye.OUT_OF_RANGE:return K.OUT_OF_RANGE;case ye.UNIMPLEMENTED:return K.UNIMPLEMENTED;case ye.DATA_LOSS:return K.DATA_LOSS;default:return mt(39323,{code:r})}}(Ut=ye||(ye={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw=new Cr([4294967295,4294967295],0);function _v(r){const t=XE().encode(r),n=new qE;return n.update(t),new Uint8Array(n.digest())}function vv(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Cr([n,s],0),new Cr([l,c],0)]}class Om{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new fl(`Invalid padding: ${n}`);if(s<0)throw new fl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new fl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new fl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*t.length-n,this.ye=Cr.fromNumber(this.pe)}we(t,n,s){let l=t.add(n.multiply(Cr.fromNumber(s)));return l.compare(Bw)===1&&(l=new Cr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const n=_v(t),[s,l]=vv(n);for(let c=0;c<this.hashCount;c++){const f=this.we(s,l,c);if(!this.be(f))return!1}return!0}static create(t,n,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),f=new Om(c,l,n);return s.forEach(g=>f.insert(g)),f}insert(t){if(this.pe===0)return;const n=_v(t),[s,l]=vv(n);for(let c=0;c<this.hashCount;c++){const f=this.we(s,l,c);this.Se(f)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class fl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(t,n,s,l,c){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const l=new Map;return l.set(t,Pl.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new ih(Et.min(),l,new ie(Rt),Hi(),Nt())}}class Pl{constructor(t,n,s,l,c){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Pl(s,n,Nt(),Nt(),Nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(t,n,s,l){this.De=t,this.removedTargetIds=n,this.key=s,this.ve=l}}class IT{constructor(t,n){this.targetId=t,this.Ce=n}}class CT{constructor(t,n,s=qe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=l}}class Ev{constructor(){this.Fe=0,this.Me=Tv(),this.xe=qe.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Nt(),n=Nt(),s=Nt();return this.Me.forEach((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:mt(38017,{changeType:c})}}),new Pl(this.xe,this.Oe,t,n,s)}Qe(){this.Ne=!1,this.Me=Tv()}$e(t,n){this.Ne=!0,this.Me=this.Me.insert(t,n)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,jt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class qw{constructor(t){this.ze=t,this.je=new Map,this.He=Hi(),this.Je=mc(),this.Ye=mc(),this.Ze=new ie(Rt)}Xe(t){for(const n of t.De)t.ve&&t.ve.isFoundDocument()?this.et(n,t.ve):this.tt(n,t.key,t.ve);for(const n of t.removedTargetIds)this.tt(n,t.key,t.ve)}nt(t){this.forEachTarget(t,n=>{const s=this.rt(n);switch(t.state){case 0:this.it(n)&&s.ke(t.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(t.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(t.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(t.resumeToken));break;default:mt(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.je.forEach((s,l)=>{this.it(l)&&n(l)})}ot(t){const n=t.targetId,s=t.Ce.count,l=this._t(n);if(l){const c=l.target;if(Qd(c))if(s===0){const f=new lt(c.path);this.tt(n,f,Ye.newNoDocument(f,Et.min()))}else jt(s===1,20013,{expectedCount:s});else{const f=this.ut(n);if(f!==s){const g=this.ct(t),p=g?this.lt(g,t,f):1;if(p!==0){this.st(n);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,_)}}}}}ct(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=n;let f,g;try{f=Vr(s).toUint8Array()}catch(p){if(p instanceof WE)return La("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new Om(f,l,c)}catch(p){return La(p instanceof fl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.pe===0?null:g}lt(t,n,s){return n.Ce.count===s-this.Tt(t,n.targetId)?0:2}Tt(t,n){const s=this.ze.getRemoteKeysForTarget(n);let l=0;return s.forEach(c=>{const f=this.ze.Pt(),g=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.tt(n,c,null),l++)}),l}It(t){const n=new Map;this.je.forEach((c,f)=>{const g=this._t(f);if(g){if(c.current&&Qd(g.target)){const p=new lt(g.target.path);this.Et(p).has(f)||this.dt(f,p)||this.tt(f,p,Ye.newNoDocument(p,t))}c.Le&&(n.set(f,c.qe()),c.Qe())}});let s=Nt();this.Ye.forEach((c,f)=>{let g=!0;f.forEachWhile(p=>{const _=this._t(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(c))}),this.He.forEach((c,f)=>f.setReadTime(t));const l=new ih(t,n,this.Ze,this.He,s);return this.He=Hi(),this.Je=mc(),this.Ye=mc(),this.Ze=new ie(Rt),l}et(t,n){if(!this.it(t))return;const s=this.dt(t,n.key)?2:0;this.rt(t).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(t)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(t))}tt(t,n,s){if(!this.it(t))return;const l=this.rt(t);this.dt(t,n)?l.$e(n,1):l.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(t)),this.Ye=this.Ye.insert(n,this.At(n).add(t)),s&&(this.He=this.He.insert(n,s))}removeTarget(t){this.je.delete(t)}ut(t){const n=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let n=this.je.get(t);return n||(n=new Ev,this.je.set(t,n)),n}At(t){let n=this.Ye.get(t);return n||(n=new be(Rt),this.Ye=this.Ye.insert(t,n)),n}Et(t){let n=this.Je.get(t);return n||(n=new be(Rt),this.Je=this.Je.insert(t,n)),n}it(t){const n=this._t(t)!==null;return n||it("WatchChangeAggregator","Detected inactive target",t),n}_t(t){const n=this.je.get(t);return n&&n.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new Ev),this.ze.getRemoteKeysForTarget(t).forEach(n=>{this.tt(t,n,null)})}dt(t,n){return this.ze.getRemoteKeysForTarget(t).has(n)}}function mc(){return new ie(lt.comparator)}function Tv(){return new ie(lt.comparator)}const jw={asc:"ASCENDING",desc:"DESCENDING"},Hw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Gw={and:"AND",or:"OR"};class Fw{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Xd(r,t){return r.useProto3Json||Zc(t)?t:{value:t}}function Bc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function DT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function Qw(r,t){return Bc(r,t.toTimestamp())}function oi(r){return jt(!!r,49232),Et.fromTimestamp(function(n){const s=Nr(n);return new le(s.seconds,s.nanos)}(r))}function Nm(r,t){return $d(r,t).canonicalString()}function $d(r,t){const n=function(l){return new Wt(["projects",l.projectId,"databases",l.database])}(r).child("documents");return t===void 0?n:n.child(t)}function OT(r){const t=Wt.fromString(r);return jt(PT(t),10190,{key:t.toString()}),t}function Zd(r,t){return Nm(r.databaseId,t.path)}function Dd(r,t){const n=OT(t);if(n.get(1)!==r.databaseId.projectId)throw new rt(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new rt(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new lt(VT(n))}function NT(r,t){return Nm(r.databaseId,t)}function Yw(r){const t=OT(r);return t.length===4?Wt.emptyPath():VT(t)}function Jd(r){return new Wt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function VT(r){return jt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Av(r,t,n){return{name:Zd(r,t),fields:n.value.mapValue.fields}}function Kw(r,t){let n;if("targetChange"in t){t.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:mt(39313,{state:_})}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=function(_,T){return _.useProto3Json?(jt(T===void 0||typeof T=="string",58123),qe.fromBase64String(T||"")):(jt(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),qe.fromUint8Array(T||new Uint8Array))}(r,t.targetChange.resumeToken),f=t.targetChange.cause,g=f&&function(_){const T=_.code===void 0?K.UNKNOWN:wT(_.code);return new rt(T,_.message||"")}(f);n=new CT(s,l,c,g||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=Dd(r,s.document.name),c=oi(s.document.updateTime),f=s.document.createTime?oi(s.document.createTime):Et.min(),g=new sn({mapValue:{fields:s.document.fields}}),p=Ye.newFoundDocument(l,c,f,g),_=s.targetIds||[],T=s.removedTargetIds||[];n=new bc(_,T,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=Dd(r,s.document),c=s.readTime?oi(s.readTime):Et.min(),f=Ye.newNoDocument(l,c),g=s.removedTargetIds||[];n=new bc([],g,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=Dd(r,s.document),c=s.removedTargetIds||[];n=new bc([],c,l,null)}else{if(!("filter"in t))return mt(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,f=new Lw(l,c),g=s.targetId;n=new IT(g,f)}}return n}function Xw(r,t){let n;if(t instanceof xl)n={update:Av(r,t.key,t.value)};else if(t instanceof Cm)n={delete:Zd(r,t.key)};else if(t instanceof Ur)n={update:Av(r,t.key,t.data),updateMask:rI(t.fieldMask)};else{if(!(t instanceof Pw))return mt(16599,{ft:t.type});n={verify:Zd(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(c,f){const g=f.transform;if(g instanceof Lc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Il)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Cl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof zc)return{fieldPath:f.field.canonicalString(),increment:g.Re};throw mt(20930,{transform:f.transform})}(0,s))),t.precondition.isNone||(n.currentDocument=function(l,c){return c.updateTime!==void 0?{updateTime:Qw(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:mt(27497)}(r,t.precondition)),n}function $w(r,t){return r&&r.length>0?(jt(t!==void 0,14353),r.map(n=>function(l,c){let f=l.updateTime?oi(l.updateTime):oi(c);return f.isEqual(Et.min())&&(f=oi(c)),new Vw(f,l.transformResults||[])}(n,t))):[]}function Zw(r,t){return{documents:[NT(r,t.path)]}}function Jw(r,t){const n={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=NT(r,l);const c=function(_){if(_.length!==0)return xT(Bn.create(_,"and"))}(t.filters);c&&(n.structuredQuery.where=c);const f=function(_){if(_.length!==0)return _.map(T=>function(C){return{field:Da(C.field),direction:eI(C.dir)}}(T))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const g=Xd(r,t.limit);return g!==null&&(n.structuredQuery.limit=g),t.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(t.endAt)),{gt:n,parent:l}}function Ww(r){let t=Yw(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){jt(s===1,65062);const T=n.from[0];T.allDescendants?l=T.collectionId:t=t.child(T.collectionId)}let c=[];n.where&&(c=function(R){const C=MT(R);return C instanceof Bn&&uT(C)?C.getFilters():[C]}(n.where));let f=[];n.orderBy&&(f=function(R){return R.map(C=>function($){return new wl(Oa($.field),function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}($.direction))}(C))}(n.orderBy));let g=null;n.limit&&(g=function(R){let C;return C=typeof R=="object"?R.value:R,Zc(C)?null:C}(n.limit));let p=null;n.startAt&&(p=function(R){const C=!!R.before,j=R.values||[];return new Uc(j,C)}(n.startAt));let _=null;return n.endAt&&(_=function(R){const C=!R.before,j=R.values||[];return new Uc(j,C)}(n.endAt)),vw(t,l,f,c,g,"F",p,_)}function tI(r,t){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt(28987,{purpose:l})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function MT(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Oa(n.unaryFilter.field);return _e.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Oa(n.unaryFilter.field);return _e.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Oa(n.unaryFilter.field);return _e.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Oa(n.unaryFilter.field);return _e.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return mt(61313);default:return mt(60726)}}(r):r.fieldFilter!==void 0?function(n){return _e.create(Oa(n.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return mt(58110);default:return mt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Bn.create(n.compositeFilter.filters.map(s=>MT(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return mt(1026)}}(n.compositeFilter.op))}(r):mt(30097,{filter:r})}function eI(r){return jw[r]}function nI(r){return Hw[r]}function iI(r){return Gw[r]}function Da(r){return{fieldPath:r.canonicalString()}}function Oa(r){return ze.fromServerFormat(r.fieldPath)}function xT(r){return r instanceof _e?function(n){if(n.op==="=="){if(uv(n.value))return{unaryFilter:{field:Da(n.field),op:"IS_NAN"}};if(lv(n.value))return{unaryFilter:{field:Da(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(uv(n.value))return{unaryFilter:{field:Da(n.field),op:"IS_NOT_NAN"}};if(lv(n.value))return{unaryFilter:{field:Da(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Da(n.field),op:nI(n.op),value:n.value}}}(r):r instanceof Bn?function(n){const s=n.getFilters().map(l=>xT(l));return s.length===1?s[0]:{compositeFilter:{op:iI(n.op),filters:s}}}(r):mt(54877,{filter:r})}function rI(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function PT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(t,n,s,l,c=Et.min(),f=Et.min(),g=qe.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(t){return new br(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(t){this.wt=t}}function aI(r){const t=Ww({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Kd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(){this.Cn=new lI}addToCollectionParentIndex(t,n){return this.Cn.add(n),Y.resolve()}getCollectionParents(t,n){return Y.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return Y.resolve()}deleteFieldIndex(t,n){return Y.resolve()}deleteAllFieldIndexes(t){return Y.resolve()}createTargetIndexes(t,n){return Y.resolve()}getDocumentsMatchingTarget(t,n){return Y.resolve(null)}getIndexType(t,n){return Y.resolve(0)}getFieldIndexes(t,n){return Y.resolve([])}getNextCollectionGroupToUpdate(t){return Y.resolve(null)}getMinOffset(t,n){return Y.resolve(Or.min())}getMinOffsetFromCollectionGroup(t,n){return Y.resolve(Or.min())}updateCollectionGroup(t,n,s){return Y.resolve()}updateIndexEntries(t,n){return Y.resolve()}}class lI{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n]||new be(Wt.comparator),c=!l.has(s);return this.index[n]=l.add(s),c}has(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(t){return(this.index[t]||new be(Wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kT=41943040;class rn{static withCacheSize(t){return new rn(t,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(kT,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new ja(0)}static lr(){return new ja(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv="LruGarbageCollector",uI=1048576;function Rv([r,t],[n,s]){const l=Rt(r,n);return l===0?Rt(t,s):l}class cI{constructor(t){this.Er=t,this.buffer=new be(Rv),this.dr=0}Ar(){return++this.dr}Rr(t){const n=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Rv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class hI{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){it(bv,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){$a(n)?it(bv,"Ignoring IndexedDB error during garbage collection: ",n):await Xa(n)}await this.mr(3e5)})}}class fI{constructor(t,n){this.gr=t,this.params=n}calculateTargetCount(t,n){return this.gr.pr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return Y.resolve($c.le);const s=new cI(n);return this.gr.forEachTarget(t,l=>s.Rr(l.sequenceNumber)).next(()=>this.gr.yr(t,l=>s.Rr(l))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.gr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.gr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(Sv)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Sv):this.wr(t,n))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,n){let s,l,c,f,g,p,_;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),l=this.params.maximumSequenceNumbersToCollect):l=R,f=Date.now(),this.nthSequenceNumber(t,l))).next(R=>(s=R,g=Date.now(),this.removeTargets(t,s,n))).next(R=>(c=R,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(R=>(_=Date.now(),Ia()<=Ot.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${l} in `+(g-f)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${R} documents in `+(_-p)+`ms
Total Duration: ${_-T}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:R})))}}function dI(r,t){return new fI(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(){this.changes=new Vs(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Ye.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Y.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(t,n,s,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(l=>(s=l,this.remoteDocumentCache.getEntry(t,n))).next(l=>(s!==null&&vl(s.mutation,l,gn.empty(),le.now()),l))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,Nt()).next(()=>s))}getLocalViewOfDocuments(t,n,s=Nt()){const l=Ss();return this.populateOverlays(t,l,n).next(()=>this.computeViews(t,n,l,s).next(c=>{let f=hl();return c.forEach((g,p)=>{f=f.insert(g,p.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const s=Ss();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,Nt()))}populateOverlays(t,n,s){const l=[];return s.forEach(c=>{n.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(t,l).next(c=>{c.forEach((f,g)=>{n.set(f,g)})})}computeViews(t,n,s,l){let c=Hi();const f=_l(),g=function(){return _l()}();return n.forEach((p,_)=>{const T=s.get(_.key);l.has(_.key)&&(T===void 0||T.mutation instanceof Ur)?c=c.insert(_.key,_):T!==void 0?(f.set(_.key,T.mutation.getFieldMask()),vl(T.mutation,_,T.mutation.getFieldMask(),le.now())):f.set(_.key,gn.empty())}),this.recalculateAndSaveOverlays(t,c).next(p=>(p.forEach((_,T)=>f.set(_,T)),n.forEach((_,T)=>{var R;return g.set(_,new gI(T,(R=f.get(_))!==null&&R!==void 0?R:null))}),g))}recalculateAndSaveOverlays(t,n){const s=_l();let l=new ie((f,g)=>f-g),c=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const g of f)g.keys().forEach(p=>{const _=n.get(p);if(_===null)return;let T=s.get(p)||gn.empty();T=g.applyToLocalView(_,T),s.set(p,T);const R=(l.get(g.batchId)||Nt()).add(p);l=l.insert(g.batchId,R)})}).next(()=>{const f=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),_=p.key,T=p.value,R=_T();T.forEach(C=>{if(!c.has(C)){const j=bT(n.get(C),s.get(C));j!==null&&R.set(C,j),c=c.add(C)}}),f.push(this.documentOverlayCache.saveOverlays(t,_,R))}return Y.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,l){return function(f){return lt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):dT(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,l):this.getDocumentsMatchingCollectionQuery(t,n,s,l)}getNextDocuments(t,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,l).next(c=>{const f=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,l-c.size):Y.resolve(Ss());let g=Al,p=c;return f.next(_=>Y.forEach(_,(T,R)=>(g<R.largestBatchId&&(g=R.largestBatchId),c.get(T)?Y.resolve():this.remoteDocumentCache.getEntry(t,T).next(C=>{p=p.insert(T,C)}))).next(()=>this.populateOverlays(t,_,c)).next(()=>this.computeViews(t,p,_,Nt())).next(T=>({batchId:g,changes:yT(T)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new lt(n)).next(s=>{let l=hl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(t,n,s,l){const c=n.collectionGroup;let f=hl();return this.indexManager.getCollectionParents(t,c).next(g=>Y.forEach(g,p=>{const _=function(R,C){return new Za(C,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)}(n,p.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,s,l).next(T=>{T.forEach((R,C)=>{f=f.insert(R,C)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,c,l))).next(f=>{c.forEach((p,_)=>{const T=_.getKey();f.get(T)===null&&(f=f.insert(T,Ye.newInvalidDocument(T)))});let g=hl();return f.forEach((p,_)=>{const T=c.get(p);T!==void 0&&vl(T.mutation,_,gn.empty(),le.now()),th(n,_)&&(g=g.insert(p,_))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,n){return Y.resolve(this.kr.get(n))}saveBundleMetadata(t,n){return this.kr.set(n.id,function(l){return{id:l.id,version:l.version,createTime:oi(l.createTime)}}(n)),Y.resolve()}getNamedQuery(t,n){return Y.resolve(this.qr.get(n))}saveNamedQuery(t,n){return this.qr.set(n.name,function(l){return{name:l.name,query:aI(l.bundledQuery),readTime:oi(l.readTime)}}(n)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(){this.overlays=new ie(lt.comparator),this.Qr=new Map}getOverlay(t,n){return Y.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Ss();return Y.forEach(n,l=>this.getOverlay(t,l).next(c=>{c!==null&&s.set(l,c)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((l,c)=>{this.St(t,n,c)}),Y.resolve()}removeOverlaysForBatchId(t,n,s){const l=this.Qr.get(s);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.Qr.delete(s)),Y.resolve()}getOverlaysForCollection(t,n,s){const l=Ss(),c=n.length+1,f=new lt(n.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const p=g.getNext().value,_=p.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===c&&p.largestBatchId>s&&l.set(p.getKey(),p)}return Y.resolve(l)}getOverlaysForCollectionGroup(t,n,s,l){let c=new ie((_,T)=>_-T);const f=this.overlays.getIterator();for(;f.hasNext();){const _=f.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let T=c.get(_.largestBatchId);T===null&&(T=Ss(),c=c.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const g=Ss(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,T)=>g.set(_,T)),!(g.size()>=l)););return Y.resolve(g)}St(t,n,s){const l=this.overlays.get(s.key);if(l!==null){const f=this.Qr.get(l.largestBatchId).delete(s.key);this.Qr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new Uw(n,s));let c=this.Qr.get(n);c===void 0&&(c=Nt(),this.Qr.set(n,c)),this.Qr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(){this.sessionToken=qe.EMPTY_BYTE_STRING}getSessionToken(t){return Y.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(){this.$r=new be(Ne.Ur),this.Kr=new be(Ne.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,n){const s=new Ne(t,n);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.zr(new Ne(t,n))}jr(t,n){t.forEach(s=>this.removeReference(s,n))}Hr(t){const n=new lt(new Wt([])),s=new Ne(n,t),l=new Ne(n,t+1),c=[];return this.Kr.forEachInRange([s,l],f=>{this.zr(f),c.push(f.key)}),c}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const n=new lt(new Wt([])),s=new Ne(n,t),l=new Ne(n,t+1);let c=Nt();return this.Kr.forEachInRange([s,l],f=>{c=c.add(f.key)}),c}containsKey(t){const n=new Ne(t,0),s=this.$r.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Ne{constructor(t,n){this.key=t,this.Zr=n}static Ur(t,n){return lt.comparator(t.key,n.key)||Rt(t.Zr,n.Zr)}static Wr(t,n){return Rt(t.Zr,n.Zr)||lt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new be(Ne.Ur)}checkEmpty(t){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,l){const c=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new kw(c,n,s,l);this.mutationQueue.push(f);for(const g of l)this.Xr=this.Xr.add(new Ne(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return Y.resolve(f)}lookupMutationBatch(t,n){return Y.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,l=this.ti(s),c=l<0?0:l;return Y.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?Tm:this.nr-1)}getAllMutationBatches(t){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Ne(n,0),l=new Ne(n,Number.POSITIVE_INFINITY),c=[];return this.Xr.forEachInRange([s,l],f=>{const g=this.ei(f.Zr);c.push(g)}),Y.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new be(Rt);return n.forEach(l=>{const c=new Ne(l,0),f=new Ne(l,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([c,f],g=>{s=s.add(g.Zr)})}),Y.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,l=s.length+1;let c=s;lt.isDocumentKey(c)||(c=c.child(""));const f=new Ne(new lt(c),0);let g=new be(Rt);return this.Xr.forEachWhile(p=>{const _=p.key.path;return!!s.isPrefixOf(_)&&(_.length===l&&(g=g.add(p.Zr)),!0)},f),Y.resolve(this.ni(g))}ni(t){const n=[];return t.forEach(s=>{const l=this.ei(s);l!==null&&n.push(l)}),n}removeMutationBatch(t,n){jt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return Y.forEach(n.mutations,l=>{const c=new Ne(l.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Xr=s})}sr(t){}containsKey(t,n){const s=new Ne(n,0),l=this.Xr.firstAfterOrEqual(s);return Y.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Y.resolve()}ri(t,n){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const n=this.ti(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(t){this.ii=t,this.docs=function(){return new ie(lt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,l=this.docs.get(s),c=l?l.size:0,f=this.ii(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return Y.resolve(s?s.document.mutableCopy():Ye.newInvalidDocument(n))}getEntries(t,n){let s=Hi();return n.forEach(l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Ye.newInvalidDocument(l))}),Y.resolve(s)}getDocumentsMatchingQuery(t,n,s,l){let c=Hi();const f=n.path,g=new lt(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:_,value:{document:T}}=p.getNext();if(!f.isPrefixOf(_.path))break;_.path.length>f.length+1||ZR($R(T),s)<=0||(l.has(T.key)||th(n,T))&&(c=c.insert(T.key,T.mutableCopy()))}return Y.resolve(c)}getAllFromCollectionGroup(t,n,s,l){mt(9500)}si(t,n){return Y.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new AI(this)}getSize(t){return Y.resolve(this.size)}}class AI extends mI{constructor(t){super(),this.Br=t}applyChanges(t){const n=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?n.push(this.Br.addEntry(t,l)):this.Br.removeEntry(s)}),Y.waitFor(n)}getFromCache(t,n){return this.Br.getEntry(t,n)}getAllFromCache(t,n){return this.Br.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(t){this.persistence=t,this.oi=new Vs(n=>bm(n),Rm),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this._i=0,this.ai=new Vm,this.targetCount=0,this.ui=ja.cr()}forEachTarget(t,n){return this.oi.forEach((s,l)=>n(l)),Y.resolve()}getLastRemoteSnapshotVersion(t){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Y.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this._i&&(this._i=n),Y.resolve()}Tr(t){this.oi.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ui=new ja(n),this.highestTargetId=n),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,n){return this.Tr(n),this.targetCount+=1,Y.resolve()}updateTargetData(t,n){return this.Tr(n),Y.resolve()}removeTargetData(t,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,Y.resolve()}removeTargets(t,n,s){let l=0;const c=[];return this.oi.forEach((f,g)=>{g.sequenceNumber<=n&&s.get(g.targetId)===null&&(this.oi.delete(f),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)}),Y.waitFor(c).next(()=>l)}getTargetCount(t){return Y.resolve(this.targetCount)}getTargetData(t,n){const s=this.oi.get(n)||null;return Y.resolve(s)}addMatchingKeys(t,n,s){return this.ai.Gr(n,s),Y.resolve()}removeMatchingKeys(t,n,s){this.ai.jr(n,s);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach(f=>{c.push(l.markPotentiallyOrphaned(t,f))}),Y.waitFor(c)}removeMatchingKeysForTargetId(t,n){return this.ai.Hr(n),Y.resolve()}getMatchingKeysForTargetId(t,n){const s=this.ai.Yr(n);return Y.resolve(s)}containsKey(t,n){return Y.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(t,n){this.ci={},this.overlays={},this.li=new $c(0),this.hi=!1,this.hi=!0,this.Pi=new vI,this.referenceDelegate=t(this),this.Ti=new SI(this),this.indexManager=new oI,this.remoteDocumentCache=function(l){return new TI(l)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new sI(n),this.Ei=new yI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new _I,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ci[t.toKey()];return s||(s=new EI(n,this.referenceDelegate),this.ci[t.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,n,s){it("MemoryPersistence","Starting transaction:",t);const l=new bI(this.li.next());return this.referenceDelegate.di(),s(l).next(c=>this.referenceDelegate.Ai(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}Ri(t,n){return Y.or(Object.values(this.ci).map(s=>()=>s.containsKey(t,n)))}}class bI extends WR{constructor(t){super(),this.currentSequenceNumber=t}}class Mm{constructor(t){this.persistence=t,this.Vi=new Vm,this.mi=null}static fi(t){return new Mm(t)}get gi(){if(this.mi)return this.mi;throw mt(60996)}addReference(t,n,s){return this.Vi.addReference(s,n),this.gi.delete(s.toString()),Y.resolve()}removeReference(t,n,s){return this.Vi.removeReference(s,n),this.gi.add(s.toString()),Y.resolve()}markPotentiallyOrphaned(t,n){return this.gi.add(n.toString()),Y.resolve()}removeTarget(t,n){this.Vi.Hr(n.targetId).forEach(l=>this.gi.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(l=>{l.forEach(c=>this.gi.add(c.toString()))}).next(()=>s.removeTargetData(t,n))}di(){this.mi=new Set}Ai(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.gi,s=>{const l=lt.fromPath(s);return this.pi(t,l).next(c=>{c||n.removeEntry(l,Et.min())})}).next(()=>(this.mi=null,n.apply(t)))}updateLimboDocument(t,n){return this.pi(t,n).next(s=>{s?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(t){return 0}pi(t,n){return Y.or([()=>Y.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ri(t,n)])}}class qc{constructor(t,n){this.persistence=t,this.yi=new Vs(s=>nw(s.path),(s,l)=>s.isEqual(l)),this.garbageCollector=dI(this,n)}static fi(t,n){return new qc(t,n)}di(){}Ai(t){return Y.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}pr(t){const n=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(l=>s+l))}br(t){let n=0;return this.yr(t,s=>{n++}).next(()=>n)}yr(t,n){return Y.forEach(this.yi,(s,l)=>this.Dr(t,s,l).next(c=>c?Y.resolve():n(l)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.si(t,f=>this.Dr(t,f,n).next(g=>{g||(s++,c.removeEntry(f,Et.min()))})).next(()=>c.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.yi.set(n,t.currentSequenceNumber),Y.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.yi.set(s,t.currentSequenceNumber),Y.resolve()}removeReference(t,n,s){return this.yi.set(s,t.currentSequenceNumber),Y.resolve()}updateLimboDocument(t,n){return this.yi.set(n,t.currentSequenceNumber),Y.resolve()}Ii(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Tc(t.data.value)),n}Dr(t,n,s){return Y.or([()=>this.persistence.Ri(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.yi.get(n);return Y.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(t,n,s,l){this.targetId=t,this.fromCache=n,this.ds=s,this.As=l}static Rs(t,n){let s=Nt(),l=Nt();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new xm(t,n.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return TS()?8:tw(Ke())>0?6:4}()}initialize(t,n){this.ys=t,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(t,n,s,l){const c={result:null};return this.ws(t,n).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.bs(t,n,l,s).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new RI;return this.Ss(t,n,f).next(g=>{if(c.result=g,this.fs)return this.Ds(t,n,f,g.size)})}).next(()=>c.result)}Ds(t,n,s,l){return s.documentReadCount<this.gs?(Ia()<=Ot.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",Ca(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),Y.resolve()):(Ia()<=Ot.DEBUG&&it("QueryEngine","Query:",Ca(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ps*l?(Ia()<=Ot.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",Ca(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ai(n))):Y.resolve())}ws(t,n){if(dv(n))return Y.resolve(null);let s=ai(n);return this.indexManager.getIndexType(t,s).next(l=>l===0?null:(n.limit!==null&&l===1&&(n=Kd(n,null,"F"),s=ai(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(c=>{const f=Nt(...c);return this.ys.getDocuments(t,f).next(g=>this.indexManager.getMinOffset(t,s).next(p=>{const _=this.vs(n,g);return this.Cs(n,_,f,p.readTime)?this.ws(t,Kd(n,null,"F")):this.Fs(t,_,n,p)}))})))}bs(t,n,s,l){return dv(n)||l.isEqual(Et.min())?Y.resolve(null):this.ys.getDocuments(t,s).next(c=>{const f=this.vs(n,c);return this.Cs(n,f,s,l)?Y.resolve(null):(Ia()<=Ot.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ca(n)),this.Fs(t,f,n,XR(l,Al)).next(g=>g))})}vs(t,n){let s=new be(gT(t));return n.forEach((l,c)=>{th(t,c)&&(s=s.add(c))}),s}Cs(t,n,s,l){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const c=t.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,n,s){return Ia()<=Ot.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",Ca(n)),this.ys.getDocumentsMatchingQuery(t,n,Or.min(),s)}Fs(t,n,s,l){return this.ys.getDocumentsMatchingQuery(t,s,l).next(c=>(n.forEach(f=>{c=c.insert(f.key,f)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm="LocalStore",II=3e8;class CI{constructor(t,n,s,l){this.persistence=t,this.Ms=n,this.serializer=l,this.xs=new ie(Rt),this.Os=new Vs(c=>bm(c),Rm),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(s)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new pI(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.xs))}}function DI(r,t,n,s){return new CI(r,t,n,s)}async function LT(r,t){const n=At(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next(c=>(l=c,n.Ls(t),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],g=[];let p=Nt();for(const _ of l){f.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}for(const _ of c){g.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(s,p).next(_=>({ks:_,removedBatchIds:f,addedBatchIds:g}))})})}function OI(r,t){const n=At(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=t.batch.keys(),c=n.Bs.newChangeBuffer({trackRemovals:!0});return function(g,p,_,T){const R=_.batch,C=R.keys();let j=Y.resolve();return C.forEach($=>{j=j.next(()=>T.getEntry(p,$)).next(tt=>{const Z=_.docVersions.get($);jt(Z!==null,48541),tt.version.compareTo(Z)<0&&(R.applyToRemoteDocument(tt,_),tt.isValidDocument()&&(tt.setReadTime(_.commitVersion),T.addEntry(tt)))})}),j.next(()=>g.mutationQueue.removeMutationBatch(p,R))}(n,s,t,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let p=Nt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(p=p.add(g.batch.mutations[_].key));return p}(t))).next(()=>n.localDocuments.getDocuments(s,l))})}function zT(r){const t=At(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ti.getLastRemoteSnapshotVersion(n))}function NI(r,t){const n=At(r),s=t.snapshotVersion;let l=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=n.Bs.newChangeBuffer({trackRemovals:!0});l=n.xs;const g=[];t.targetChanges.forEach((T,R)=>{const C=l.get(R);if(!C)return;g.push(n.Ti.removeMatchingKeys(c,T.removedDocuments,R).next(()=>n.Ti.addMatchingKeys(c,T.addedDocuments,R)));let j=C.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(R)!==null?j=j.withResumeToken(qe.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):T.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(T.resumeToken,s)),l=l.insert(R,j),function(tt,Z,Tt){return tt.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=II?!0:Tt.addedDocuments.size+Tt.modifiedDocuments.size+Tt.removedDocuments.size>0}(C,j,T)&&g.push(n.Ti.updateTargetData(c,j))});let p=Hi(),_=Nt();if(t.documentUpdates.forEach(T=>{t.resolvedLimboDocuments.has(T)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(c,T))}),g.push(VI(c,f,t.documentUpdates).next(T=>{p=T.qs,_=T.Qs})),!s.isEqual(Et.min())){const T=n.Ti.getLastRemoteSnapshotVersion(c).next(R=>n.Ti.setTargetsMetadata(c,c.currentSequenceNumber,s));g.push(T)}return Y.waitFor(g).next(()=>f.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,p,_)).next(()=>p)}).then(c=>(n.xs=l,c))}function VI(r,t,n){let s=Nt(),l=Nt();return n.forEach(c=>s=s.add(c)),t.getEntries(r,s).next(c=>{let f=Hi();return n.forEach((g,p)=>{const _=c.get(g);p.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(Et.min())?(t.removeEntry(g,p.readTime),f=f.insert(g,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(p),f=f.insert(g,p)):it(Pm,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",p.version)}),{qs:f,Qs:l}})}function MI(r,t){const n=At(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=Tm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function xI(r,t){const n=At(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return n.Ti.getTargetData(s,t).next(c=>c?(l=c,Y.resolve(l)):n.Ti.allocateTargetId(s).next(f=>(l=new br(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Ti.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=n.xs.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.xs=n.xs.insert(s.targetId,s),n.Os.set(t,s.targetId)),s})}async function Wd(r,t,n){const s=At(r),l=s.xs.get(t),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,l))}catch(f){if(!$a(f))throw f;it(Pm,`Failed to update sequence numbers for target ${t}: ${f}`)}s.xs=s.xs.remove(t),s.Os.delete(l.target)}function wv(r,t,n){const s=At(r);let l=Et.min(),c=Nt();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,_,T){const R=At(p),C=R.Os.get(T);return C!==void 0?Y.resolve(R.xs.get(C)):R.Ti.getTargetData(_,T)}(s,f,ai(t)).next(g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(f,g.targetId).next(p=>{c=p})}).next(()=>s.Ms.getDocumentsMatchingQuery(f,t,n?l:Et.min(),n?c:Nt())).next(g=>(PI(s,Tw(t),g),{documents:g,$s:c})))}function PI(r,t,n){let s=r.Ns.get(t)||Et.min();n.forEach((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Ns.set(t,s)}class Iv{constructor(){this.activeTargetIds=Iw()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class kI{constructor(){this.xo=new Iv,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,n,s){this.Oo[t]=n}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new Iv,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv="ConnectivityMonitor";class Dv{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){it(Cv,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){it(Cv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gc=null;function tm(){return gc===null?gc=function(){return 268435456+Math.round(2147483648*Math.random())}():gc++,"0x"+gc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Od="RestConnection",LI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zI{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+t.host,this.Wo=`projects/${s}/databases/${l}`,this.Go=this.databaseId.database===Pc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}zo(t,n,s,l,c){const f=tm(),g=this.jo(t,n.toUriEncodedString());it(Od,`Sending RPC '${t}' ${f}:`,g,s);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,l,c);const{host:_}=new URL(g),T=Fa(_);return this.Jo(t,g,p,s,T).then(R=>(it(Od,`Received RPC '${t}' ${f}: `,R),R),R=>{throw La(Od,`RPC '${t}' ${f} failed with error: `,R,"url: ",g,"request:",s),R})}Yo(t,n,s,l,c,f){return this.zo(t,n,s,l,c)}Ho(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ka}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,c)=>t[c]=l),s&&s.headers.forEach((l,c)=>t[c]=l)}jo(t,n){const s=LI[t];return`${this.Ko}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe="WebChannelConnection";class qI extends zI{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,l,c){const f=tm();return new Promise((g,p)=>{const _=new jE;_.setWithCredentials(!0),_.listenOnce(HE.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Ec.NO_ERROR:const R=_.getResponseJson();it(Fe,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(R)),g(R);break;case Ec.TIMEOUT:it(Fe,`RPC '${t}' ${f} timed out`),p(new rt(K.DEADLINE_EXCEEDED,"Request time out"));break;case Ec.HTTP_ERROR:const C=_.getStatus();if(it(Fe,`RPC '${t}' ${f} failed with status:`,C,"response text:",_.getResponseText()),C>0){let j=_.getResponseJson();Array.isArray(j)&&(j=j[0]);const $=j?.error;if($&&$.status&&$.message){const tt=function(Tt){const ft=Tt.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(ft)>=0?ft:K.UNKNOWN}($.status);p(new rt(tt,$.message))}else p(new rt(K.UNKNOWN,"Server responded with status "+_.getStatus()))}else p(new rt(K.UNAVAILABLE,"Connection failed."));break;default:mt(9055,{h_:t,streamId:f,P_:_.getLastErrorCode(),T_:_.getLastError()})}}finally{it(Fe,`RPC '${t}' ${f} completed.`)}});const T=JSON.stringify(l);it(Fe,`RPC '${t}' ${f} sending request:`,l),_.send(n,"POST",T,s,15)})}I_(t,n,s){const l=tm(),c=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=QE(),g=FE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const T=c.join("");it(Fe,`Creating RPC '${t}' stream ${l}: ${T}`,p);const R=f.createWebChannel(T,p);this.E_(R);let C=!1,j=!1;const $=new BI({Zo:Z=>{j?it(Fe,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(C||(it(Fe,`Opening RPC '${t}' stream ${l} transport.`),R.open(),C=!0),it(Fe,`RPC '${t}' stream ${l} sending:`,Z),R.send(Z))},Xo:()=>R.close()}),tt=(Z,Tt,ft)=>{Z.listen(Tt,ut=>{try{ft(ut)}catch(Vt){setTimeout(()=>{throw Vt},0)}})};return tt(R,cl.EventType.OPEN,()=>{j||(it(Fe,`RPC '${t}' stream ${l} transport opened.`),$.__())}),tt(R,cl.EventType.CLOSE,()=>{j||(j=!0,it(Fe,`RPC '${t}' stream ${l} transport closed`),$.u_(),this.d_(R))}),tt(R,cl.EventType.ERROR,Z=>{j||(j=!0,La(Fe,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),$.u_(new rt(K.UNAVAILABLE,"The operation could not be completed")))}),tt(R,cl.EventType.MESSAGE,Z=>{var Tt;if(!j){const ft=Z.data[0];jt(!!ft,16349);const ut=ft,Vt=ut?.error||((Tt=ut[0])===null||Tt===void 0?void 0:Tt.error);if(Vt){it(Fe,`RPC '${t}' stream ${l} received error:`,Vt);const _t=Vt.status;let Mt=function(w){const N=ye[w];if(N!==void 0)return wT(N)}(_t),V=Vt.message;Mt===void 0&&(Mt=K.INTERNAL,V="Unknown error status: "+_t+" with message "+Vt.message),j=!0,$.u_(new rt(Mt,V)),R.close()}else it(Fe,`RPC '${t}' stream ${l} received:`,ft),$.c_(ft)}}),tt(g,GE.STAT_EVENT,Z=>{Z.stat===qd.PROXY?it(Fe,`RPC '${t}' stream ${l} detected buffering proxy`):Z.stat===qd.NOPROXY&&it(Fe,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{$.a_()},0),$}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(n=>n===t)}}function Nd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(r){return new Fw(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(t,n,s=1e3,l=1.5,c=6e4){this.xi=t,this.timerId=n,this.A_=s,this.R_=l,this.V_=c,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const n=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),l=Math.max(0,n-s);l>0&&it("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,l,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov="PersistentStream";class qT{constructor(t,n,s,l,c,f,g,p){this.xi=t,this.S_=s,this.D_=l,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new BT(t,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():n&&n.code===K.RESOURCE_EXHAUSTED?(ji(n.toString()),ji("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(n)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.v_===n&&this.z_(s,l)},s=>{t(()=>{const l=new rt(K.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(l)})})}z_(t,n){const s=this.G_(this.v_);this.stream=this.H_(t,n),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(l=>{s(()=>this.j_(l))}),this.stream.onMessage(l=>{s(()=>++this.M_==1?this.J_(l):this.onNext(l))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return it(Ov,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return n=>{this.xi.enqueueAndForget(()=>this.v_===t?n():(it(Ov,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class jI extends qT{constructor(t,n,s,l,c,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,f),this.serializer=c}H_(t,n){return this.connection.I_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const n=Kw(this.serializer,t),s=function(c){if(!("targetChange"in c))return Et.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?Et.min():f.readTime?oi(f.readTime):Et.min()}(t);return this.listener.Y_(n,s)}Z_(t){const n={};n.database=Jd(this.serializer),n.addTarget=function(c,f){let g;const p=f.target;if(g=Qd(p)?{documents:Zw(c,p)}:{query:Jw(c,p).gt},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=DT(c,f.resumeToken);const _=Xd(c,f.expectedCount);_!==null&&(g.expectedCount=_)}else if(f.snapshotVersion.compareTo(Et.min())>0){g.readTime=Bc(c,f.snapshotVersion.toTimestamp());const _=Xd(c,f.expectedCount);_!==null&&(g.expectedCount=_)}return g}(this.serializer,t);const s=tI(this.serializer,t);s&&(n.labels=s),this.Q_(n)}X_(t){const n={};n.database=Jd(this.serializer),n.removeTarget=t,this.Q_(n)}}class HI extends qT{constructor(t,n,s,l,c,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,f),this.serializer=c}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,n){return this.connection.I_("Write",t,n)}J_(t){return jt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,jt(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){jt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const n=$w(t.writeResults,t.commitTime),s=oi(t.commitTime);return this.listener.ra(s,n)}ia(){const t={};t.database=Jd(this.serializer),this.Q_(t)}ta(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>Xw(this.serializer,s))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{}class FI extends GI{constructor(t,n,s,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.sa=!1}oa(){if(this.sa)throw new rt(K.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,n,s,l){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.zo(t,$d(n,s),l,c,f)).catch(c=>{throw c.name==="FirebaseError"?(c.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new rt(K.UNKNOWN,c.toString())})}Yo(t,n,s,l,c){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,g])=>this.connection.Yo(t,$d(n,s),l,f,g,c)).catch(f=>{throw f.name==="FirebaseError"?(f.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new rt(K.UNKNOWN,f.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class QI{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(ji(n),this.ua=!1):it("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os="RemoteStore";class YI{constructor(t,n,s,l,c){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=c,this.Ra.No(f=>{s.enqueueAndForget(async()=>{Ms(this)&&(it(Os,"Restarting streams for network reachability change."),await async function(p){const _=At(p);_.da.add(4),await kl(_),_.Va.set("Unknown"),_.da.delete(4),await sh(_)}(this))})}),this.Va=new QI(s,l)}}async function sh(r){if(Ms(r))for(const t of r.Aa)await t(!0)}async function kl(r){for(const t of r.Aa)await t(!1)}function jT(r,t){const n=At(r);n.Ea.has(t.targetId)||(n.Ea.set(t.targetId,t),zm(n)?Lm(n):Ja(n).N_()&&Um(n,t))}function km(r,t){const n=At(r),s=Ja(n);n.Ea.delete(t),s.N_()&&HT(n,t),n.Ea.size===0&&(s.N_()?s.k_():Ms(n)&&n.Va.set("Unknown"))}function Um(r,t){if(r.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ja(r).Z_(t)}function HT(r,t){r.ma.Ke(t),Ja(r).X_(t)}function Lm(r){r.ma=new qw({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>r.Ea.get(t)||null,Pt:()=>r.datastore.serializer.databaseId}),Ja(r).start(),r.Va.ca()}function zm(r){return Ms(r)&&!Ja(r).O_()&&r.Ea.size>0}function Ms(r){return At(r).da.size===0}function GT(r){r.ma=void 0}async function KI(r){r.Va.set("Online")}async function XI(r){r.Ea.forEach((t,n)=>{Um(r,t)})}async function $I(r,t){GT(r),zm(r)?(r.Va.Pa(t),Lm(r)):r.Va.set("Unknown")}async function ZI(r,t,n){if(r.Va.set("Online"),t instanceof CT&&t.state===2&&t.cause)try{await async function(l,c){const f=c.cause;for(const g of c.targetIds)l.Ea.has(g)&&(await l.remoteSyncer.rejectListen(g,f),l.Ea.delete(g),l.ma.removeTarget(g))}(r,t)}catch(s){it(Os,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await jc(r,s)}else if(t instanceof bc?r.ma.Xe(t):t instanceof IT?r.ma.ot(t):r.ma.nt(t),!n.isEqual(Et.min()))try{const s=await zT(r.localStore);n.compareTo(s)>=0&&await function(c,f){const g=c.ma.It(f);return g.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const T=c.Ea.get(_);T&&c.Ea.set(_,T.withResumeToken(p.resumeToken,f))}}),g.targetMismatches.forEach((p,_)=>{const T=c.Ea.get(p);if(!T)return;c.Ea.set(p,T.withResumeToken(qe.EMPTY_BYTE_STRING,T.snapshotVersion)),HT(c,p);const R=new br(T.target,p,_,T.sequenceNumber);Um(c,R)}),c.remoteSyncer.applyRemoteEvent(g)}(r,n)}catch(s){it(Os,"Failed to raise snapshot:",s),await jc(r,s)}}async function jc(r,t,n){if(!$a(t))throw t;r.da.add(1),await kl(r),r.Va.set("Offline"),n||(n=()=>zT(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{it(Os,"Retrying IndexedDB access"),await n(),r.da.delete(1),await sh(r)})}function FT(r,t){return t().catch(n=>jc(r,n,t))}async function ah(r){const t=At(r),n=xr(t);let s=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:Tm;for(;JI(t);)try{const l=await MI(t.localStore,s);if(l===null){t.Ia.length===0&&n.k_();break}s=l.batchId,WI(t,l)}catch(l){await jc(t,l)}QT(t)&&YT(t)}function JI(r){return Ms(r)&&r.Ia.length<10}function WI(r,t){r.Ia.push(t);const n=xr(r);n.N_()&&n.ea&&n.ta(t.mutations)}function QT(r){return Ms(r)&&!xr(r).O_()&&r.Ia.length>0}function YT(r){xr(r).start()}async function tC(r){xr(r).ia()}async function eC(r){const t=xr(r);for(const n of r.Ia)t.ta(n.mutations)}async function nC(r,t,n){const s=r.Ia.shift(),l=Dm.from(s,t,n);await FT(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),await ah(r)}async function iC(r,t){t&&xr(r).ea&&await async function(s,l){if(function(f){return zw(f)&&f!==K.ABORTED}(l.code)){const c=s.Ia.shift();xr(s).L_(),await FT(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l)),await ah(s)}}(r,t),QT(r)&&YT(r)}async function Nv(r,t){const n=At(r);n.asyncQueue.verifyOperationInProgress(),it(Os,"RemoteStore received new credentials");const s=Ms(n);n.da.add(3),await kl(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.da.delete(3),await sh(n)}async function rC(r,t){const n=At(r);t?(n.da.delete(2),await sh(n)):t||(n.da.add(2),await kl(n),n.Va.set("Unknown"))}function Ja(r){return r.fa||(r.fa=function(n,s,l){const c=At(n);return c.oa(),new jI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{e_:KI.bind(null,r),n_:XI.bind(null,r),i_:$I.bind(null,r),Y_:ZI.bind(null,r)}),r.Aa.push(async t=>{t?(r.fa.L_(),zm(r)?Lm(r):r.Va.set("Unknown")):(await r.fa.stop(),GT(r))})),r.fa}function xr(r){return r.ga||(r.ga=function(n,s,l){const c=At(n);return c.oa(),new HI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:tC.bind(null,r),i_:iC.bind(null,r),na:eC.bind(null,r),ra:nC.bind(null,r)}),r.Aa.push(async t=>{t?(r.ga.L_(),await ah(r)):(await r.ga.stop(),r.Ia.length>0&&(it(Os,`Stopping write stream with ${r.Ia.length} pending writes`),r.Ia=[]))})),r.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(t,n,s,l,c){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new Rs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,l,c){const f=Date.now()+s,g=new Bm(t,n,f,l,c);return g.start(s),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(K.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qm(r,t){if(ji("AsyncQueue",`${t}: ${r}`),$a(r))return new rt(K.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{static emptySet(t){return new xa(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||lt.comparator(n.key,s.key):(n,s)=>lt.comparator(n.key,s.key),this.keyedMap=hl(),this.sortedSet=new ie(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof xa)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new xa;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(){this.pa=new ie(lt.comparator)}track(t){const n=t.doc.key,s=this.pa.get(n);s?t.type!==0&&s.type===3?this.pa=this.pa.insert(n,t):t.type===3&&s.type!==1?this.pa=this.pa.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.pa=this.pa.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.pa=this.pa.remove(n):t.type===1&&s.type===2?this.pa=this.pa.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):mt(63341,{Vt:t,ya:s}):this.pa=this.pa.insert(n,t)}wa(){const t=[];return this.pa.inorderTraversal((n,s)=>{t.push(s)}),t}}class Ha{constructor(t,n,s,l,c,f,g,p,_){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(t,n,s,l,c){const f=[];return n.forEach(g=>{f.push({type:0,doc:g})}),new Ha(t,n,xa.emptySet(n),f,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Wc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class aC{constructor(){this.queries=Mv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const l=At(n),c=l.queries;l.queries=Mv(),c.forEach((f,g)=>{for(const p of g.Sa)p.onError(s)})})(this,new rt(K.ABORTED,"Firestore shutting down"))}}function Mv(){return new Vs(r=>mT(r),Wc)}async function oC(r,t){const n=At(r);let s=3;const l=t.query;let c=n.queries.get(l);c?!c.Da()&&t.va()&&(s=2):(c=new sC,s=t.va()?0:1);try{switch(s){case 0:c.ba=await n.onListen(l,!0);break;case 1:c.ba=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(f){const g=qm(f,`Initialization of query '${Ca(t.query)}' failed`);return void t.onError(g)}n.queries.set(l,c),c.Sa.push(t),t.Fa(n.onlineState),c.ba&&t.Ma(c.ba)&&jm(n)}async function lC(r,t){const n=At(r),s=t.query;let l=3;const c=n.queries.get(s);if(c){const f=c.Sa.indexOf(t);f>=0&&(c.Sa.splice(f,1),c.Sa.length===0?l=t.va()?0:1:!c.Da()&&t.va()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function uC(r,t){const n=At(r);let s=!1;for(const l of t){const c=l.query,f=n.queries.get(c);if(f){for(const g of f.Sa)g.Ma(l)&&(s=!0);f.ba=l}}s&&jm(n)}function cC(r,t,n){const s=At(r),l=s.queries.get(t);if(l)for(const c of l.Sa)c.onError(n);s.queries.delete(t)}function jm(r){r.Ca.forEach(t=>{t.next()})}var em,xv;(xv=em||(em={})).xa="default",xv.Cache="cache";class hC{constructor(t,n,s){this.query=t,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new Ha(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Na?this.La(t)&&(this.Oa.next(t),n=!0):this.ka(t,this.onlineState)&&(this.qa(t),n=!0),this.Ba=t,n}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),n=!0),n}ka(t,n){if(!t.fromCache||!this.va())return!0;const s=n!=="Offline";return(!this.options.Qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}La(t){if(t.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(t){t=Ha.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==em.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(t){this.key=t}}class XT{constructor(t){this.key=t}}class fC{constructor(t,n){this.query=t,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Nt(),this.mutatedKeys=Nt(),this.Za=gT(t),this.Xa=new xa(this.Za)}get eu(){return this.Ha}tu(t,n){const s=n?n.nu:new Vv,l=n?n.Xa:this.Xa;let c=n?n.mutatedKeys:this.mutatedKeys,f=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((T,R)=>{const C=l.get(T),j=th(this.query,R)?R:null,$=!!C&&this.mutatedKeys.has(C.key),tt=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let Z=!1;C&&j?C.data.isEqual(j.data)?$!==tt&&(s.track({type:3,doc:j}),Z=!0):this.ru(C,j)||(s.track({type:2,doc:j}),Z=!0,(p&&this.Za(j,p)>0||_&&this.Za(j,_)<0)&&(g=!0)):!C&&j?(s.track({type:0,doc:j}),Z=!0):C&&!j&&(s.track({type:1,doc:C}),Z=!0,(p||_)&&(g=!0)),Z&&(j?(f=f.add(j),c=tt?c.add(T):c.delete(T)):(f=f.delete(T),c=c.delete(T)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),c=c.delete(T.key),s.track({type:1,doc:T})}return{Xa:f,nu:s,Cs:g,mutatedKeys:c}}ru(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,l){const c=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const f=t.nu.wa();f.sort((T,R)=>function(j,$){const tt=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt(20277,{Vt:Z})}};return tt(j)-tt($)}(T.type,R.type)||this.Za(T.doc,R.doc)),this.iu(s),l=l!=null&&l;const g=n&&!l?this.su():[],p=this.Ya.size===0&&this.current&&!l?1:0,_=p!==this.Ja;return this.Ja=p,f.length!==0||_?{snapshot:new Ha(this.query,t.Xa,c,f,t.mutatedKeys,p===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:g}:{ou:g}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new Vv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=Nt(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const n=[];return t.forEach(s=>{this.Ya.has(s)||n.push(new XT(s))}),this.Ya.forEach(s=>{t.has(s)||n.push(new KT(s))}),n}au(t){this.Ha=t.$s,this.Ya=Nt();const n=this.tu(t.documents);return this.applyChanges(n,!0)}uu(){return Ha.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Hm="SyncEngine";class dC{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class mC{constructor(t){this.key=t,this.cu=!1}}class gC{constructor(t,n,s,l,c,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.lu={},this.hu=new Vs(g=>mT(g),Wc),this.Pu=new Map,this.Tu=new Set,this.Iu=new ie(lt.comparator),this.Eu=new Map,this.du=new Vm,this.Au={},this.Ru=new Map,this.Vu=ja.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function pC(r,t,n=!0){const s=e0(r);let l;const c=s.hu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.uu()):l=await $T(s,t,n,!0),l}async function yC(r,t){const n=e0(r);await $T(n,t,!0,!1)}async function $T(r,t,n,s){const l=await xI(r.localStore,ai(t)),c=l.targetId,f=r.sharedClientState.addLocalQueryTarget(c,n);let g;return s&&(g=await _C(r,t,c,f==="current",l.resumeToken)),r.isPrimaryClient&&n&&jT(r.remoteStore,l),g}async function _C(r,t,n,s,l){r.fu=(R,C,j)=>async function(tt,Z,Tt,ft){let ut=Z.view.tu(Tt);ut.Cs&&(ut=await wv(tt.localStore,Z.query,!1).then(({documents:V})=>Z.view.tu(V,ut)));const Vt=ft&&ft.targetChanges.get(Z.targetId),_t=ft&&ft.targetMismatches.get(Z.targetId)!=null,Mt=Z.view.applyChanges(ut,tt.isPrimaryClient,Vt,_t);return kv(tt,Z.targetId,Mt.ou),Mt.snapshot}(r,R,C,j);const c=await wv(r.localStore,t,!0),f=new fC(t,c.$s),g=f.tu(c.documents),p=Pl.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",l),_=f.applyChanges(g,r.isPrimaryClient,p);kv(r,n,_.ou);const T=new dC(t,n,f);return r.hu.set(t,T),r.Pu.has(n)?r.Pu.get(n).push(t):r.Pu.set(n,[t]),_.snapshot}async function vC(r,t,n){const s=At(r),l=s.hu.get(t),c=s.Pu.get(l.targetId);if(c.length>1)return s.Pu.set(l.targetId,c.filter(f=>!Wc(f,t))),void s.hu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Wd(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),n&&km(s.remoteStore,l.targetId),nm(s,l.targetId)}).catch(Xa)):(nm(s,l.targetId),await Wd(s.localStore,l.targetId,!0))}async function EC(r,t){const n=At(r),s=n.hu.get(t),l=n.Pu.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),km(n.remoteStore,s.targetId))}async function TC(r,t,n){const s=CC(r);try{const l=await function(f,g){const p=At(f),_=le.now(),T=g.reduce((j,$)=>j.add($.key),Nt());let R,C;return p.persistence.runTransaction("Locally write mutations","readwrite",j=>{let $=Hi(),tt=Nt();return p.Bs.getEntries(j,T).next(Z=>{$=Z,$.forEach((Tt,ft)=>{ft.isValidDocument()||(tt=tt.add(Tt))})}).next(()=>p.localDocuments.getOverlayedDocuments(j,$)).next(Z=>{R=Z;const Tt=[];for(const ft of g){const ut=xw(ft,R.get(ft.key).overlayedDocument);ut!=null&&Tt.push(new Ur(ft.key,ut,aT(ut.value.mapValue),Dn.exists(!0)))}return p.mutationQueue.addMutationBatch(j,_,Tt,g)}).next(Z=>{C=Z;const Tt=Z.applyToLocalDocumentSet(R,tt);return p.documentOverlayCache.saveOverlays(j,Z.batchId,Tt)})}).then(()=>({batchId:C.batchId,changes:yT(R)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),function(f,g,p){let _=f.Au[f.currentUser.toKey()];_||(_=new ie(Rt)),_=_.insert(g,p),f.Au[f.currentUser.toKey()]=_}(s,l.batchId,n),await Ul(s,l.changes),await ah(s.remoteStore)}catch(l){const c=qm(l,"Failed to persist write");n.reject(c)}}async function ZT(r,t){const n=At(r);try{const s=await NI(n.localStore,t);t.targetChanges.forEach((l,c)=>{const f=n.Eu.get(c);f&&(jt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?f.cu=!0:l.modifiedDocuments.size>0?jt(f.cu,14607):l.removedDocuments.size>0&&(jt(f.cu,42227),f.cu=!1))}),await Ul(n,s,t)}catch(s){await Xa(s)}}function Pv(r,t,n){const s=At(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.hu.forEach((c,f)=>{const g=f.view.Fa(t);g.snapshot&&l.push(g.snapshot)}),function(f,g){const p=At(f);p.onlineState=g;let _=!1;p.queries.forEach((T,R)=>{for(const C of R.Sa)C.Fa(g)&&(_=!0)}),_&&jm(p)}(s.eventManager,t),l.length&&s.lu.Y_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function AC(r,t,n){const s=At(r);s.sharedClientState.updateQueryState(t,"rejected",n);const l=s.Eu.get(t),c=l&&l.key;if(c){let f=new ie(lt.comparator);f=f.insert(c,Ye.newNoDocument(c,Et.min()));const g=Nt().add(c),p=new ih(Et.min(),new Map,new ie(Rt),f,g);await ZT(s,p),s.Iu=s.Iu.remove(c),s.Eu.delete(t),Gm(s)}else await Wd(s.localStore,t,!1).then(()=>nm(s,t,n)).catch(Xa)}async function SC(r,t){const n=At(r),s=t.batch.batchId;try{const l=await OI(n.localStore,t);WT(n,s,null),JT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ul(n,l)}catch(l){await Xa(l)}}async function bC(r,t,n){const s=At(r);try{const l=await function(f,g){const p=At(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let T;return p.mutationQueue.lookupMutationBatch(_,g).next(R=>(jt(R!==null,37113),T=R.keys(),p.mutationQueue.removeMutationBatch(_,R))).next(()=>p.mutationQueue.performConsistencyCheck(_)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(_,T,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,T)).next(()=>p.localDocuments.getDocuments(_,T))})}(s.localStore,t);WT(s,t,n),JT(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Ul(s,l)}catch(l){await Xa(l)}}function JT(r,t){(r.Ru.get(t)||[]).forEach(n=>{n.resolve()}),r.Ru.delete(t)}function WT(r,t,n){const s=At(r);let l=s.Au[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(n?c.reject(n):c.resolve(),l=l.remove(t)),s.Au[s.currentUser.toKey()]=l}}function nm(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Pu.get(t))r.hu.delete(s),n&&r.lu.gu(s,n);r.Pu.delete(t),r.isPrimaryClient&&r.du.Hr(t).forEach(s=>{r.du.containsKey(s)||t0(r,s)})}function t0(r,t){r.Tu.delete(t.path.canonicalString());const n=r.Iu.get(t);n!==null&&(km(r.remoteStore,n),r.Iu=r.Iu.remove(t),r.Eu.delete(n),Gm(r))}function kv(r,t,n){for(const s of n)s instanceof KT?(r.du.addReference(s.key,t),RC(r,s)):s instanceof XT?(it(Hm,"Document no longer in limbo: "+s.key),r.du.removeReference(s.key,t),r.du.containsKey(s.key)||t0(r,s.key)):mt(19791,{pu:s})}function RC(r,t){const n=t.key,s=n.path.canonicalString();r.Iu.get(n)||r.Tu.has(s)||(it(Hm,"New document in limbo: "+n),r.Tu.add(s),Gm(r))}function Gm(r){for(;r.Tu.size>0&&r.Iu.size<r.maxConcurrentLimboResolutions;){const t=r.Tu.values().next().value;r.Tu.delete(t);const n=new lt(Wt.fromString(t)),s=r.Vu.next();r.Eu.set(s,new mC(n)),r.Iu=r.Iu.insert(n,s),jT(r.remoteStore,new br(ai(wm(n.path)),s,"TargetPurposeLimboResolution",$c.le))}}async function Ul(r,t,n){const s=At(r),l=[],c=[],f=[];s.hu.isEmpty()||(s.hu.forEach((g,p)=>{f.push(s.fu(p,t,n).then(_=>{var T;if((_||n)&&s.isPrimaryClient){const R=_?!_.fromCache:(T=n?.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(p.targetId,R?"current":"not-current")}if(_){l.push(_);const R=xm.Rs(p.targetId,_);c.push(R)}}))}),await Promise.all(f),s.lu.Y_(l),await async function(p,_){const T=At(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>Y.forEach(_,C=>Y.forEach(C.ds,j=>T.persistence.referenceDelegate.addReference(R,C.targetId,j)).next(()=>Y.forEach(C.As,j=>T.persistence.referenceDelegate.removeReference(R,C.targetId,j)))))}catch(R){if(!$a(R))throw R;it(Pm,"Failed to update sequence numbers: "+R)}for(const R of _){const C=R.targetId;if(!R.fromCache){const j=T.xs.get(C),$=j.snapshotVersion,tt=j.withLastLimboFreeSnapshotVersion($);T.xs=T.xs.insert(C,tt)}}}(s.localStore,c))}async function wC(r,t){const n=At(r);if(!n.currentUser.isEqual(t)){it(Hm,"User change. New user:",t.toKey());const s=await LT(n.localStore,t);n.currentUser=t,function(c,f){c.Ru.forEach(g=>{g.forEach(p=>{p.reject(new rt(K.CANCELLED,f))})}),c.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Ul(n,s.ks)}}function IC(r,t){const n=At(r),s=n.Eu.get(t);if(s&&s.cu)return Nt().add(s.key);{let l=Nt();const c=n.Pu.get(t);if(!c)return l;for(const f of c){const g=n.hu.get(f);l=l.unionWith(g.view.eu)}return l}}function e0(r){const t=At(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=ZT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=IC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=AC.bind(null,t),t.lu.Y_=uC.bind(null,t.eventManager),t.lu.gu=cC.bind(null,t.eventManager),t}function CC(r){const t=At(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=SC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=bC.bind(null,t),t}class Hc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=rh(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,n){return null}Cu(t,n){return null}Du(t){return DI(this.persistence,new wI,t.initialUser,this.serializer)}Su(t){return new UT(Mm.fi,this.serializer)}bu(t){return new kI}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hc.provider={build:()=>new Hc};class DC extends Hc{constructor(t){super(),this.cacheSizeBytes=t}vu(t,n){jt(this.persistence.referenceDelegate instanceof qc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new hI(s,t.asyncQueue,n)}Su(t){const n=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new UT(s=>qc.fi(s,n),this.serializer)}}class im{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Pv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=wC.bind(null,this.syncEngine),await rC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new aC}()}createDatastore(t){const n=rh(t.databaseInfo.databaseId),s=function(c){return new qI(c)}(t.databaseInfo);return function(c,f,g,p){return new FI(c,f,g,p)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,l,c,f,g){return new YI(s,l,c,f,g)}(this.localStore,this.datastore,t.asyncQueue,n=>Pv(this.syncEngine,n,0),function(){return Dv.C()?new Dv:new UI}())}createSyncEngine(t,n){return function(l,c,f,g,p,_,T){const R=new gC(l,c,f,g,p,_);return T&&(R.mu=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(l){const c=At(l);it(Os,"RemoteStore shutting down."),c.da.add(5),await kl(c),c.Ra.shutdown(),c.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}im.provider={build:()=>new im};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):ji("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr="FirestoreClient";class NC{constructor(t,n,s,l,c){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=Qe.UNAUTHENTICATED,this.clientId=$E.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async f=>{it(Pr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(it(Pr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Rs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=qm(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Vd(r,t){r.asyncQueue.verifyOperationInProgress(),it(Pr,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async l=>{s.isEqual(l)||(await LT(t.localStore,l),s=l)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function Uv(r,t){r.asyncQueue.verifyOperationInProgress();const n=await VC(r);it(Pr,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(s=>Nv(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,l)=>Nv(t.remoteStore,l)),r._onlineComponents=t}async function VC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){it(Pr,"Using user provided OfflineComponentProvider");try{await Vd(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(l){return l.name==="FirebaseError"?l.code===K.FAILED_PRECONDITION||l.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(n))throw n;La("Error using user provided cache. Falling back to memory cache: "+n),await Vd(r,new Hc)}}else it(Pr,"Using default OfflineComponentProvider"),await Vd(r,new DC(void 0));return r._offlineComponents}async function n0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(it(Pr,"Using user provided OnlineComponentProvider"),await Uv(r,r._uninitializedComponentsProvider._online)):(it(Pr,"Using default OnlineComponentProvider"),await Uv(r,new im))),r._onlineComponents}function MC(r){return n0(r).then(t=>t.syncEngine)}async function Lv(r){const t=await n0(r),n=t.eventManager;return n.onListen=pC.bind(null,t.syncEngine),n.onUnlisten=vC.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=yC.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=EC.bind(null,t.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0(r,t,n){if(!n)throw new rt(K.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function xC(r,t,n,s){if(t===!0&&s===!0)throw new rt(K.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Bv(r){if(!lt.isDocumentKey(r))throw new rt(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function qv(r){if(lt.isDocumentKey(r))throw new rt(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function oh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":mt(12329,{type:typeof r})}function li(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new rt(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=oh(r);throw new rt(K.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0="firestore.googleapis.com",jv=!0;class Hv{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new rt(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=s0,this.ssl=jv}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:jv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=kT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<uI)throw new rt(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}xC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=i0((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new rt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new rt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new rt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,l){return s.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class lh{constructor(t,n,s,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new rt(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new BR;switch(s.type){case"firstParty":return new GR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new rt(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=zv.get(n);s&&(it("ComponentProvider","Removing Datastore"),zv.delete(n),s.terminate())}(this),Promise.resolve()}}function PC(r,t,n,s={}){var l;r=li(r,lh);const c=Fa(t),f=r._getSettings(),g=Object.assign(Object.assign({},f),{emulatorOptions:r._getEmulatorOptions()}),p=`${t}:${n}`;c&&(nE(`https://${p}`),iE("Firestore",!0)),f.host!==s0&&f.host!==p&&La("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},f),{host:p,ssl:c,emulatorOptions:s});if(!ws(_,g)&&(r._setSettings(_),s.mockUserToken)){let T,R;if(typeof s.mockUserToken=="string")T=s.mockUserToken,R=Qe.MOCK_USER;else{T=fS(s.mockUserToken,(l=r._app)===null||l===void 0?void 0:l.options.projectId);const C=s.mockUserToken.sub||s.mockUserToken.user_id;if(!C)throw new rt(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new Qe(C)}r._authCredentials=new qR(new KE(T,R))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new xs(this.firestore,t,this._query)}}class We{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Dr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new We(this.firestore,t,this._key)}}class Dr extends xs{constructor(t,n,s){super(t,n,wm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new We(this.firestore,null,new lt(t))}withConverter(t){return new Dr(this.firestore,t,this._path)}}function a0(r,t,...n){if(r=Be(r),r0("collection","path",t),r instanceof lh){const s=Wt.fromString(t,...n);return qv(s),new Dr(r,null,s)}{if(!(r instanceof We||r instanceof Dr))throw new rt(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Wt.fromString(t,...n));return qv(s),new Dr(r.firestore,null,s)}}function Gc(r,t,...n){if(r=Be(r),arguments.length===1&&(t=$E.newId()),r0("doc","path",t),r instanceof lh){const s=Wt.fromString(t,...n);return Bv(s),new We(r,null,new lt(s))}{if(!(r instanceof We||r instanceof Dr))throw new rt(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Wt.fromString(t,...n));return Bv(s),new We(r.firestore,r instanceof Dr?r.converter:null,new lt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv="AsyncQueue";class Fv{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new BT(this,"async_queue_retry"),this.rc=()=>{const s=Nd();s&&it(Gv,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=t;const n=Nd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const n=Nd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Rs;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!$a(t))throw t;it(Gv,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const n=this.sc.then(()=>(this.ec=!0,t().catch(s=>{throw this.Xu=s,this.ec=!1,ji("INTERNAL UNHANDLED ERROR: ",Qv(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=n,n}enqueueAfterDelay(t,n,s){this.oc(),this.nc.indexOf(t)>-1&&(n=0);const l=Bm.createAndSchedule(this,t,n,s,c=>this.uc(c));return this.Zu.push(l),l}oc(){this.Xu&&mt(47125,{cc:Qv(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const n of this.Zu)if(n.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const n=this.Zu.indexOf(t);this.Zu.splice(n,1)}}function Qv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(r){return function(n,s){if(typeof n!="object"||n===null)return!1;const l=n;for(const c of s)if(c in l&&typeof l[c]=="function")return!0;return!1}(r,["next","error","complete"])}class Ns extends lh{constructor(t,n,s,l){super(t,n,s,l),this.type="firestore",this._queue=new Fv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Fv(t),this._firestoreClient=void 0,await t}}}function kC(r,t){const n=typeof r=="object"?r:oE(),s=typeof r=="string"?r:Pc,l=lm(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=cS("firestore");c&&PC(l,...c)}return l}function o0(r){if(r._terminated)throw new rt(K.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||UC(r),r._firestoreClient}function UC(r){var t,n,s;const l=r._freezeSettings(),c=function(g,p,_,T){return new sw(g,p,_,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,i0(T.experimentalLongPollingOptions),T.useFetchStreams,T.isUsingEmulator)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,l);r._componentsProvider||!((n=l.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=l.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),r._firestoreClient=new NC(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(g){const p=g?._online.build();return{_offline:g?._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ga(qe.fromBase64String(t))}catch(n){throw new rt(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Ga(qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new rt(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ze(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new rt(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new rt(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Rt(this._lat,t._lat)||Rt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC=/^__.*__$/;class zC{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Ur(t,this.data,this.fieldMask,n,this.fieldTransforms):new xl(t,this.data,n,this.fieldTransforms)}}class l0{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new Ur(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function u0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt(40011,{Ic:r})}}class Km{constructor(t,n,s,l,c,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Ec(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new Km(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),l=this.dc({path:s,Rc:!1});return l.Vc(t),l}mc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),l=this.dc({path:s,Rc:!1});return l.Ec(),l}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return Fc(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(u0(this.Ic)&&LC.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class BC{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||rh(t)}bc(t,n,s,l=!1){return new Km({Ic:t,methodName:n,wc:s,path:ze.emptyPath(),Rc:!1,yc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ch(r){const t=r._freezeSettings(),n=rh(r._databaseId);return new BC(r._databaseId,!!t.ignoreUndefinedProperties,n)}function c0(r,t,n,s,l,c={}){const f=r.bc(c.merge||c.mergeFields?2:0,t,n,l);Xm("Data must be an object, but it was:",f,s);const g=h0(s,f);let p,_;if(c.merge)p=new gn(f.fieldMask),_=f.fieldTransforms;else if(c.mergeFields){const T=[];for(const R of c.mergeFields){const C=rm(t,R,n);if(!f.contains(C))throw new rt(K.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);d0(T,C)||T.push(C)}p=new gn(T),_=f.fieldTransforms.filter(R=>p.covers(R.field))}else p=null,_=f.fieldTransforms;return new zC(new sn(g),p,_)}class hh extends Fm{_toFieldTransform(t){if(t.Ic!==2)throw t.Ic===1?t.gc(`${this._methodName}() can only appear at the top level of your update data`):t.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof hh}}function qC(r,t,n,s){const l=r.bc(1,t,n);Xm("Data must be an object, but it was:",l,s);const c=[],f=sn.empty();kr(s,(p,_)=>{const T=$m(t,p,n);_=Be(_);const R=l.mc(T);if(_ instanceof hh)c.push(T);else{const C=Ll(_,R);C!=null&&(c.push(T),f.set(T,C))}});const g=new gn(c);return new l0(f,g,l.fieldTransforms)}function jC(r,t,n,s,l,c){const f=r.bc(1,t,n),g=[rm(t,s,n)],p=[l];if(c.length%2!=0)throw new rt(K.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<c.length;C+=2)g.push(rm(t,c[C])),p.push(c[C+1]);const _=[],T=sn.empty();for(let C=g.length-1;C>=0;--C)if(!d0(_,g[C])){const j=g[C];let $=p[C];$=Be($);const tt=f.mc(j);if($ instanceof hh)_.push(j);else{const Z=Ll($,tt);Z!=null&&(_.push(j),T.set(j,Z))}}const R=new gn(_);return new l0(T,R,f.fieldTransforms)}function HC(r,t,n,s=!1){return Ll(n,r.bc(s?4:3,t))}function Ll(r,t){if(f0(r=Be(r)))return Xm("Unsupported field value:",t,r),h0(r,t);if(r instanceof Fm)return function(s,l){if(!u0(l.Ic))throw l.gc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.gc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(s,l){const c=[];let f=0;for(const g of s){let p=Ll(g,l.fc(f));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),f++}return{arrayValue:{values:c}}}(r,t)}return function(s,l){if((s=Be(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Cw(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=le.fromDate(s);return{timestampValue:Bc(l.serializer,c)}}if(s instanceof le){const c=new le(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Bc(l.serializer,c)}}if(s instanceof Qm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ga)return{bytesValue:DT(l.serializer,s._byteString)};if(s instanceof We){const c=l.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw l.gc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Nm(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Ym)return function(f,g){return{mapValue:{fields:{[rT]:{stringValue:sT},[kc]:{arrayValue:{values:f.toArray().map(_=>{if(typeof _!="number")throw g.gc("VectorValues must only contain numeric values.");return Im(g.serializer,_)})}}}}}}(s,l);throw l.gc(`Unsupported field value: ${oh(s)}`)}(r,t)}function h0(r,t){const n={};return JE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):kr(r,(s,l)=>{const c=Ll(l,t.Ac(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function f0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof le||r instanceof Qm||r instanceof Ga||r instanceof We||r instanceof Fm||r instanceof Ym)}function Xm(r,t,n){if(!f0(n)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(n)){const s=oh(n);throw s==="an object"?t.gc(r+" a custom object"):t.gc(r+" "+s)}}function rm(r,t,n){if((t=Be(t))instanceof uh)return t._internalPath;if(typeof t=="string")return $m(r,t);throw Fc("Field path arguments must be of type string or ",r,!1,void 0,n)}const GC=new RegExp("[~\\*/\\[\\]]");function $m(r,t,n){if(t.search(GC)>=0)throw Fc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new uh(...t.split("."))._internalPath}catch{throw Fc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Fc(r,t,n,s,l){const c=s&&!s.isEmpty(),f=l!==void 0;let g=`Function ${t}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||f)&&(p+=" (found",c&&(p+=` in field ${s}`),f&&(p+=` in document ${l}`),p+=")"),new rt(K.INVALID_ARGUMENT,g+r+p)}function d0(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(t,n,s,l,c){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new We(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new FC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(fh("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class FC extends m0{data(){return super.data()}}function fh(r,t){return typeof t=="string"?$m(r,t):t instanceof uh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new rt(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zm{}class g0 extends Zm{}function YC(r,t,...n){let s=[];t instanceof Zm&&s.push(t),s=s.concat(n),function(c){const f=c.filter(p=>p instanceof Jm).length,g=c.filter(p=>p instanceof dh).length;if(f>1||f>0&&g>0)throw new rt(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const l of s)r=l._apply(r);return r}class dh extends g0{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new dh(t,n,s)}_apply(t){const n=this._parse(t);return p0(t._query,n),new xs(t.firestore,t.converter,Yd(t._query,n))}_parse(t){const n=ch(t.firestore);return function(c,f,g,p,_,T,R){let C;if(_.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new rt(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){Xv(R,T);const $=[];for(const tt of R)$.push(Kv(p,c,tt));C={arrayValue:{values:$}}}else C=Kv(p,c,R)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||Xv(R,T),C=HC(g,f,R,T==="in"||T==="not-in");return _e.create(_,T,C)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function KC(r,t,n){const s=t,l=fh("where",r);return dh._create(l,s,n)}class Jm extends Zm{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Jm(t,n)}_parse(t){const n=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Bn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(l,c){let f=l;const g=c.getFlattenedFilters();for(const p of g)p0(f,p),f=Yd(f,p)}(t._query,n),new xs(t.firestore,t.converter,Yd(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Wm extends g0{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Wm(t,n)}_apply(t){const n=function(l,c,f){if(l.startAt!==null)throw new rt(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new rt(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wl(c,f)}(t._query,this._field,this._direction);return new xs(t.firestore,t.converter,function(l,c){const f=l.explicitOrderBy.concat([c]);return new Za(l.path,l.collectionGroup,f,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(t._query,n))}}function XC(r,t="asc"){const n=t,s=fh("orderBy",r);return Wm._create(s,n)}function Kv(r,t,n){if(typeof(n=Be(n))=="string"){if(n==="")throw new rt(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dT(t)&&n.indexOf("/")!==-1)throw new rt(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(Wt.fromString(n));if(!lt.isDocumentKey(s))throw new rt(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return ov(r,new lt(s))}if(n instanceof We)return ov(r,n._key);throw new rt(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${oh(n)}.`)}function Xv(r,t){if(!Array.isArray(r)||r.length===0)throw new rt(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function p0(r,t){const n=function(l,c){for(const f of l)for(const g of f.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null}(r.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new rt(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new rt(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class $C{convertValue(t,n="none"){switch(Mr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return fe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Vr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw mt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return kr(t,(l,c)=>{s[l]=this.convertValue(c,n)}),s}convertVectorValue(t){var n,s,l;const c=(l=(s=(n=t.fields)===null||n===void 0?void 0:n[kc].arrayValue)===null||s===void 0?void 0:s.values)===null||l===void 0?void 0:l.map(f=>fe(f.doubleValue));return new Ym(c)}convertGeoPoint(t){return new Qm(fe(t.latitude),fe(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Jc(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Sl(t));default:return null}}convertTimestamp(t){const n=Nr(t);return new le(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=Wt.fromString(t);jt(PT(s),9688,{name:t});const l=new bl(s.get(1),s.get(3)),c=new lt(s.popFirst(5));return l.isEqual(n)||ji(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(r,t,n){let s;return s=r?r.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class _0 extends m0{constructor(t,n,s,l,c,f){super(t,n,s,l,f),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Rc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(fh("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Rc extends _0{data(t={}){return super.data(t)}}class ZC{constructor(t,n,s,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new dl(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new Rc(this._firestore,this._userDataWriter,s.key,s,new dl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new rt(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,c){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map(g=>{const p=new Rc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new dl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const p=new Rc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new dl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,T=-1;return g.type!==0&&(_=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),T=f.indexOf(g.doc.key)),{type:JC(g.type),doc:p,oldIndex:_,newIndex:T}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function JC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt(61501,{type:r})}}class v0 extends $C{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ga(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new We(this.firestore,null,n)}}function WC(r,t,n){r=li(r,We);const s=li(r.firestore,Ns),l=y0(r.converter,t);return mh(s,[c0(ch(s),"setDoc",r._key,l,r.converter!==null,n).toMutation(r._key,Dn.none())])}function t2(r,t,n,...s){r=li(r,We);const l=li(r.firestore,Ns),c=ch(l);let f;return f=typeof(t=Be(t))=="string"||t instanceof uh?jC(c,"updateDoc",r._key,t,n,s):qC(c,"updateDoc",r._key,t),mh(l,[f.toMutation(r._key,Dn.exists(!0))])}function e2(r){return mh(li(r.firestore,Ns),[new Cm(r._key,Dn.none())])}function n2(r,t){const n=li(r.firestore,Ns),s=Gc(r),l=y0(r.converter,t);return mh(n,[c0(ch(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,Dn.exists(!1))]).then(()=>s)}function i2(r,...t){var n,s,l;r=Be(r);let c={includeMetadataChanges:!1,source:"default"},f=0;typeof t[f]!="object"||Yv(t[f])||(c=t[f],f++);const g={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(Yv(t[f])){const R=t[f];t[f]=(n=R.next)===null||n===void 0?void 0:n.bind(R),t[f+1]=(s=R.error)===null||s===void 0?void 0:s.bind(R),t[f+2]=(l=R.complete)===null||l===void 0?void 0:l.bind(R)}let p,_,T;if(r instanceof We)_=li(r.firestore,Ns),T=wm(r._key.path),p={next:R=>{t[f]&&t[f](r2(_,r,R))},error:t[f+1],complete:t[f+2]};else{const R=li(r,xs);_=li(R.firestore,Ns),T=R._query;const C=new v0(_);p={next:j=>{t[f]&&t[f](new ZC(_,C,R,j))},error:t[f+1],complete:t[f+2]},QC(r._query)}return function(C,j,$,tt){const Z=new OC(tt),Tt=new hC(j,Z,$);return C.asyncQueue.enqueueAndForget(async()=>oC(await Lv(C),Tt)),()=>{Z.xu(),C.asyncQueue.enqueueAndForget(async()=>lC(await Lv(C),Tt))}}(o0(_),T,g,p)}function mh(r,t){return function(s,l){const c=new Rs;return s.asyncQueue.enqueueAndForget(async()=>TC(await MC(s),l,c)),c.promise}(o0(r),t)}function r2(r,t,n){const s=n.docs.get(t._key),l=new v0(r);return new _0(r,l,t._key,s,new dl(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(l){Ka=l})(Qa),ka(new Is("firestore",(s,{instanceIdentifier:l,options:c})=>{const f=s.getProvider("app").getImmediate(),g=new Ns(new jR(s.getProvider("auth-internal")),new FR(f,s.getProvider("app-check-internal")),function(_,T){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new rt(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bl(_.options.projectId,T)}(f,l),f);return c=Object.assign({useFetchStreams:n},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),Ir(X_,$_,t),Ir(X_,$_,"esm2017")})();const s2={apiKey:"AIzaSyCyz2AZnFY3lQu1fzGnY9qrT11Ur9GkPlc",authDomain:"tidal-axis-464315-h9.firebaseapp.com",projectId:"tidal-axis-464315-h9",storageBucket:"tidal-axis-464315-h9.firebasestorage.app",messagingSenderId:"361157725991",appId:"1:361157725991:web:49009afc3f60cfead7e302"},E0=aE(s2),zl=kR(E0),T0=new Ui,Pa=kC(E0);window.firebase={auth:zl,db:Pa,provider:T0};function a2(){const r=async()=>{try{const n=(await Fb(zl,T0)).user;await WC(Gc(Pa,"users",n.uid),{uid:n.uid,name:n.displayName,email:n.email,photoURL:n.photoURL}),alert(`Welcome, ${n.displayName}`)}catch(t){console.error("Login Error:",t.message),alert("Login failed!")}};return vt.jsx("div",{style:{padding:"2rem"},children:vt.jsx("button",{onClick:r,children:"Login with Google"})})}function o2(){const[r,t]=Un.useState(""),[n,s]=Un.useState(""),[l,c]=Un.useState("medium"),[f,g]=Un.useState(""),p=async()=>{const _=zl.currentUser;if(!_){alert("Please login first");return}if(!r){alert("Title is required");return}try{await n2(a0(Pa,"tasks"),{title:r,description:n,priority:l,status:"pending",dueDate:le.fromDate(new Date(f)),ownerId:_.uid,sharedWith:[],createdAt:le.now(),updatedAt:le.now()}),alert("Task added!"),t(""),s(""),g(""),c("medium")}catch(T){console.error("Error adding task:",T),alert("Failed to add task.")}};return vt.jsxs("div",{style:{padding:"1rem",borderTop:"1px solid #ccc"},children:[vt.jsx("h3",{children:"Add New Task"}),vt.jsx("input",{type:"text",placeholder:"Title",value:r,onChange:_=>t(_.target.value)}),vt.jsx("br",{}),vt.jsx("br",{}),vt.jsx("textarea",{placeholder:"Description",value:n,onChange:_=>s(_.target.value)}),vt.jsx("br",{}),vt.jsx("br",{}),vt.jsx("input",{type:"date",value:f,onChange:_=>g(_.target.value)}),vt.jsx("br",{}),vt.jsx("br",{}),vt.jsxs("select",{value:l,onChange:_=>c(_.target.value),children:[vt.jsx("option",{value:"low",children:"Low"}),vt.jsx("option",{value:"medium",children:"Medium"}),vt.jsx("option",{value:"high",children:"High"})]}),vt.jsx("br",{}),vt.jsx("br",{}),vt.jsx("button",{onClick:p,children:"Add Task"})]})}function l2(){const[r,t]=Un.useState([]),[n,s]=Un.useState(!0);Un.useEffect(()=>{const f=DE(zl,g=>{if(console.log(" User in TaskList:",g),!g){t([]),s(!1);return}const p=YC(a0(Pa,"tasks"),KC("ownerId","==",g.uid),XC("createdAt","desc")),_=i2(p,T=>{const R=T.docs.map(C=>({id:C.id,...C.data()}));console.log(" Snapshot triggered:",R),t(R),s(!1)});return()=>_()});return()=>f()},[]);const l=async f=>{try{const g=Gc(Pa,"tasks",f);await t2(g,{status:"completed",updatedAt:new Date}),alert("Task marked as complete!")}catch(g){console.error("Error updating task:",g)}},c=async f=>{if(window.confirm("Are you sure you want to delete this task?"))try{await e2(Gc(Pa,"tasks",f)),alert("Task deleted.")}catch(p){console.error("Error deleting task:",p)}};return n?vt.jsx("p",{children:"Loading tasks..."}):vt.jsxs("div",{style:{marginTop:"2rem"},children:[vt.jsx("h2",{children:"Your Tasks"}),r.length===0&&vt.jsx("p",{children:"No tasks found."}),r.map(f=>vt.jsxs("div",{style:{border:"1px solid #ccc",padding:"1rem",marginBottom:"1rem",backgroundColor:f.status==="completed"?"#e0ffe0":"#fff"},children:[vt.jsx("h4",{children:f.title}),vt.jsx("p",{children:f.description}),vt.jsxs("p",{children:[vt.jsx("strong",{children:"Status:"})," ",f.status]}),vt.jsxs("p",{children:[vt.jsx("strong",{children:"Priority:"})," ",f.priority]}),vt.jsxs("p",{children:[vt.jsx("strong",{children:"Due:"})," ",f.dueDate?.toDate().toLocaleDateString()]}),vt.jsx("button",{onClick:()=>l(f.id),disabled:f.status==="completed",children:" Mark as Complete"})," ",vt.jsx("button",{onClick:()=>c(f.id),children:" Delete"})]},f.id))]})}function u2(){const[r,t]=Un.useState(null),[n,s]=Un.useState(!0);return Un.useEffect(()=>{const l=DE(zl,c=>{t(c),s(!1)});return()=>l()},[]),n?vt.jsx("p",{children:" Checking login status..."}):vt.jsxs("div",{style:{padding:"1rem"},children:[vt.jsx("h1",{children:"Todo Task Manager"}),vt.jsx(a2,{}),r&&vt.jsxs(vt.Fragment,{children:[vt.jsx(o2,{}),vt.jsx(l2,{})]})]})}eS.createRoot(document.getElementById("root")).render(vt.jsx(Un.StrictMode,{children:vt.jsx(u2,{})}));
